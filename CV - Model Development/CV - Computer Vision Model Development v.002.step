{"creationTimeStamp":"2023-09-08T15:13:41.093Z","modifiedTimeStamp":"2023-09-08T15:13:41.093Z","createdBy":"roblan","modifiedBy":"roblan","name":"CV - Computer Vision Model Development v.002.step","displayName":"CV - Computer Vision Model Development v.002.step","localDisplayName":"CV - Computer Vision Model Development v.002.step","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","uri":"/dataFlows/steps/d2ab4f4b-eb6e-4260-8c41-d157bce68ff1","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"insert_intabl_","displayName":"insert_intabl_","localDisplayName":"insert_intabl_","minEntries":1,"maxEntries":1,"defaultEntries":0,"type":"table"}],"outputPorts":[{"name":"insert_outputtable1","displayName":"insert_outputtable1","localDisplayName":"insert_outputtable1","minEntries":1,"maxEntries":1,"defaultEntries":0,"type":"table","supportsView":false,"requiresStructure":false}]},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"page1\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"GENERAL SETUP\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text4\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"All setup Sections are required.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Project_setup_section\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Project Setup\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"insert_intabl_\",\n\t\t\t\t\t\t\t\"type\": \"inputtable\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_projectpath\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Specify project folder path:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_projectpath\",\n\t\t\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"pathtype\": \"folder\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_modelslocation\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Specify the path to the folder containing the model tables (ResNet50, Tiny-Yolov2, etc.):\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_modepath\",\n\t\t\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"pathtype\": \"folder\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"modeling_task_section\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Modeling Task Setup\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Choose a modeling task:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_modelingtask\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"objectdetection\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Object Detection\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"classification\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Classification\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"regression\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Regression\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text18\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_regtargetstd\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Choose the target standardization method to use for regression estimation:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_regtargetstd\",\n\t\t\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"none\",\n\t\t\t\t\t\t\t\t\t\"label\": \"None\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_regerror\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Choose the error function to use for regression estimation:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_regerror\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"normal\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Normal\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"poisson\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Poisson\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"gamma\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Gamma\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"l1\",\n\t\t\t\t\t\t\t\t\t\"label\": \"L1\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"entropy\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Cross-entropy\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_regactivation\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Choose the activation (inverse link) function to use for regression estimation:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_regactivation\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"identity\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Identity\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"exp\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Exponential\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"logistic\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Logistic\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"sin\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Sine\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"regression\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_useGPU\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Use GPUs:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_useGPU\",\n\t\t\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"true\",\n\t\t\t\t\t\t\t\t\t\"label\": \"True\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"false\",\n\t\t\t\t\t\t\t\t\t\"label\": \"False\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Data_setup_section\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Data Setup\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text2\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Name of target variable:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_tarvar_1\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"placeholder\": \"_label_\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_nameofimagevar\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Name of variable (column) containing image binary large object (BLOB):\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_imagecolumn\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_imagesize\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Image size:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_od_image_size\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"224\",\n\t\t\t\t\t\t\t\t\t\"label\": \"224  by  224\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"416\",\n\t\t\t\t\t\t\t\t\t\"label\": \"416  by  416\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"640\",\n\t\t\t\t\t\t\t\t\t\"label\": \"640  by  640\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"1280\",\n\t\t\t\t\t\t\t\t\t\"label\": \"1280  by  1280\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_imagewidth\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Image width:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 64,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_imageheight\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Image height:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 64,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text6\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Number of classes in the object detection data:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_OD_classcount\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_imagechannelcount\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Number of image channels:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_image_color_count\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"color\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Color (3-channel)\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"greyscale\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Greyscale (1-channel)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text15\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_imagemutations\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Apply photomorphic image mutations:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_imagemutation\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"none\",\n\t\t\t\t\t\t\t\t\t\"label\": \"None\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"random\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Random mutation\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_label_randomflip\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Apply random flipping:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_fliping\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"none\",\n\t\t\t\t\t\t\t\t\t\"label\": \"None\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"horizontal\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Horizontal\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"vertical\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Vertical\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"both\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Both horizontal and vertical\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text22\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Apply random cropping mutations:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_croprand\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"none\",\n\t\t\t\t\t\t\t\t\t\"label\": \"None\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"RESIZETHENCROP\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Resize then crop\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text16\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text5\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Specify the maximum number of possible bounding box anchors:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_maxbb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 3,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_clustercountmethod\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Specify the criterion to be used to estimate the number of appropriate bounding box anchors to use: \",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_clustercriterion\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"FIRSTPEAK\",\n\t\t\t\t\t\t\t\t\t\"label\": \"First peak\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"FIRSTMAXWITHSTD\",\n\t\t\t\t\t\t\t\t\t\"label\": \"First maximum with standardization\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"GLOBALPEAK\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Global peak\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"ALL\",\n\t\t\t\t\t\t\t\t\t\"label\": \"All - majority selects\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text17\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_partitionData\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Percentage of validation cases:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_valid_percent\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"placeholder\": \"50\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Lable_partvarname\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Name of partition variable (designates training vs. holdout):\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_partvar_name\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_partitionseed\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Random partition seed:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_partitionseed\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_label_partitionseednote\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"NOTE:  Specifying a random number seed may not replicate results in a distributed computing environment.\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"page_modelingoptions\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"MODELING OPTIONS\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"autotune_section\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Autotune \",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text7\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Do you want to autotune the model?\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_globalautotune\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"yes\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Yes\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"no\",\n\t\t\t\t\t\t\t\t\t\"label\": \"No\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_saveautotune_results\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"Name of table to create with autotune results:\",\n\t\t\t\t\t\t\t\"placeholder\": \"myresults\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text11\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text8\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Do you want to leverage a previous search?\\n\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_useprevioussearch\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"yes\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Yes\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"no\",\n\t\t\t\t\t\t\t\t\t\"label\": \"No\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_previousautoresults\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"Name of table to create with previous autotune results:\",\n\t\t\t\t\t\t\t\"placeholder\": \"previous_myresults\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_useprevioussearch\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text8_1\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"NOTE: Change the random seed for autotune if leveraging consecutive searches.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_useprevioussearch\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_numofpreviousevals\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Specify the number of previous strong performing evaluations to use in (seed) the next search: \",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_useprevioussearch\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text14\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"NOTE:  All remaining evaluations will be cached as \\\"already searched\\\" sample points to reduce search redundancy.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_useprevioussearch\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text8_1_1\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_autotunesearchoptions\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Specify autotune search options:\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_autotuneseed\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Random seed for autotune:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_startingpop\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Starting population:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 2,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gagenerations\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Number of generations:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_localpermutations\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Number of local permutations (greedy search):\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_autotune_evalcount\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Number of epochs per evaluation:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_maxeagls_time\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Maximum number of seconds to spend on search:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 60,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_saveatuotunehtml\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Save PDF file of autotune results in project folder.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_tuneresultshtml\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"Name of PDF file containing autotune results:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section1\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Model Specifications\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_nthreads\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Number of threads to use:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text19\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"IMPORTANT:\\nIncreasing threads may increase training speed but will also increase memory usage and can cause failed executions when the system memory is exceeded. \\n\\nSuggested values are 4, 8 or 12.\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text20\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_label_modelspecificsearch\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"The following include task specific modeling parameters.\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_obj_scale\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search weight for object's presence error (partial loss function search).\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_obj_scalar\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Object present scalar:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_od_obj_lbscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object present, lower bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_obj_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_od_obj_ubscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object present, upper bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_obj_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_noobj_scale\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search weight for object's absence error (partial loss function search).\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_noobj_scalar\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"No Object present scalar:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_noobj_lbscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" No object present, lower bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_noobj_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_noobj_ubscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" No object present, upper bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_noobj_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_coord_scale\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search weight for object's coordinate error (partial loss function search).\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_coord_scalar\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \" Object coordinate scalar:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_coord_lbscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object coordinate, lower bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_coord_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_coord_ubscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object coordinate, upper bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_coord_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_class_scale\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search weight for classification error (partial loss function search).\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_class_scalar\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \" Object classification scalar:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_class_lbscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object classification, lower bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_class_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_class_ubscalar\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \" Object classification, upper bound scalar:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_class_scale\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_detec_threshold\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search detection threshold.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_detectthreshold\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Detection threshold:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_detecthre_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Detection threshold, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_detec_threshold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_detecthre_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Detection threshold, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_detec_threshold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_iou_threshold\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search intersection over union (IoU) threshold. \",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_iouthreshold\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"IoU threshold:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"excludemax\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_iouthhold_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"IoU threshold, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_iou_threshold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_iouthhold_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"IoU threshold, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_iou_threshold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_trainiou_thrhold\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search training intersection over union (IoU) threshold. \",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_trainiouthrhold\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Train IoU threshold:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"excludemax\": true,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_trainiou_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Train IoU threshold, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_trainiou_thrhold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_trainiou_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Train IoU threshold, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_trainiou_thrhold\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_FCyesno\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Add a fully-connected layer before the output layer?\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_addfclayer\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"yes\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Yes\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"no\",\n\t\t\t\t\t\t\t\t\t\"label\": \"No\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_addfc\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search number of neurons in the fully-connected layer.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_FC_neuroncount\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Number of neurons in fully-connected layer:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 999999,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_addfclayer\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_FCneuron_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Number of neurons in fully-connected layer, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"max\": 999999,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_addfc\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_FCneuron_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Number of neurons in fully-connected layer, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"max\": 999999,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_checkbox_addfc\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_fcactivation\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search fully-connected nonlinear activation function.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_fc_act\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"Fully-connected layer nonlinear activation function: \",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"8\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Rectified linear unit (ReLU)\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"12\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Leaky rectified linear unit\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"9\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Softplus\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"10\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Exponential linear unit (ELU)\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"11\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Hyperbolic tangent (TanH)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"!$_checkbox_fcactivation\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"label_blank1\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"Label_generalmodel\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"The following include universal model parameters.\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_modelbackbone\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"Select a model backbone:\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"resnet50_caffe\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Resnet50\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"Tiny-Yolov2\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Tiny-Yolov2\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"ShuffleNetV2\",\n\t\t\t\t\t\t\t\t\t\"label\": \"ShuffleNetV2\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"autotune\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Autotune (search all backbones)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_fl_filtersize\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search first convolutional layer filter size.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_fcl_filtersize\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"Select filter size for first convolution layer:\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"1\",\n\t\t\t\t\t\t\t\t\t\"label\": \"3 by 3\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"2\",\n\t\t\t\t\t\t\t\t\t\"label\": \"3 by 5\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"3\",\n\t\t\t\t\t\t\t\t\t\"label\": \"5 by 3\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"4\",\n\t\t\t\t\t\t\t\t\t\"label\": \"5 by 5\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"5\",\n\t\t\t\t\t\t\t\t\t\"label\": \"5 by 7\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"6\",\n\t\t\t\t\t\t\t\t\t\"label\": \"7 by 5\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"7\",\n\t\t\t\t\t\t\t\t\t\"label\": \"7\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_fl_filtersize\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_activation_1\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search nonlinear activation function to use in model backbone.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_actfunc_1\",\n\t\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\t\"label\": \"Model backbone nonlinear activation function: \",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"8\",\n\t\t\t\t\t\t\t\t\t\"label\": \" Rectified linear unit (ReLU)\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"12\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Leaky rectified linear unit\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"9\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Softplus\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"10\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Exponential linear unit (ELU)\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"value\": \"11\",\n\t\t\t\t\t\t\t\t\t\"label\": \"Hyperbolic tangent (TanH)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_activation_1\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text13\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_lr\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search the learning rate.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_learnr\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Learning rate:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_lr_lb\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Learning rate, lower bound:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_lr\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_lr_ub\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Learning rate, upper bound:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_lr\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_betadiff\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search second order learning (determines beta1 value by subtracting this value from beta2 constant).\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_betdiff\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Difference between beta1 and beta2:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.999,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_betadiff_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Difference between beta1 and beta2, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.999,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_betadiff\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_betadiff_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Difference between beta1 and beta2, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 0.999,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_betadiff\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_minibatch\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search mini-batch size.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_minibatchsize\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Mini-batch size:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 2,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_minibatch_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Mini-batch size, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 2,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_minibatch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_minibatch_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Mini-batch size, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 2,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_minibatch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_stepsize\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search step size.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_stepsize\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Step size:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_steps_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Step size, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 999,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_stepsize\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_steps_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Step size, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": true,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 999,\n\t\t\t\t\t\t\t\"stepsize\": 1,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_stepsize\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_gamma\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search gamma.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gamma\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Gamma:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"excludemax\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gam_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Gamma, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_gamma\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gam_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Gamma, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 99,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_gamma\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_clipgrad\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search gradient clips.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gradclip\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Gradient clipping (threshold):\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gradc_lb_\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Gradient clipping (threshold), lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 999999,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_clipgrad\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_gradc_ub_\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"Gradient clipping (threshold), upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": 999999,\n\t\t\t\t\t\t\t\"stepsize\": 0.01,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_clipgrad\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_l1reg\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search L1 regularization.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l1reg\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"L1 regularization:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l1r_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"L1 regularization, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 0.001,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_l1reg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l1r_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"L1 regularization, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 0.001,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_l1reg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_l2reg\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search L2 regularization.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l2reg\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"L2 regularization:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l2r_lb\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"L2 regularization, lower bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 0.001,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_l2reg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_l2r_ub\",\n\t\t\t\t\t\t\t\"type\": \"numstepper\",\n\t\t\t\t\t\t\t\"label\": \"L2 regularization, upper bound:\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"integer\": false,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"stepsize\": 0.001,\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_l2reg\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text9_1\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_checkbox_dropsearch\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Search dropout.\",\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_globalautotune\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"yes\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text9\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"NOTES: \\nIf searching dropout, SAS will explore dropout percentages based upon demi decile percent (.05,.10,.15......95).  95% is the maximum amount of dropout allowed in a particular layer or block.\\n\\n\\nEach model backbone may contain layers or blocks specific to the model design and will determine the number of layers or blocks for which dropout may be applied.  \\n\\nFor example:\\nTiny-YoloV2 contains 15 layers for which dropout can be applied.\\nResNet50 contains 16 blocks for which dropout can be applied.  \\n\",\n\t\t\t\t\t\t\t\"visible\": \"$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l1\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 1 / block 1 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l2\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 2 / block 2 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l3\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 3 / block 3 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l4\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 4 / block 4 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l5\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 5 / block 5 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l6\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 6 / block 6 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l7\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 7 / block 7 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l8\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 8 / block 8 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_drop_l9\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 9 / block 9 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl10\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 10 / block 10 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl11\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 11 / block 11 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl12\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 12 / block 12 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl13\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 13 / block 13 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl14\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 14 / block 14 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl15\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 15 / block 15 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": \"!$_checkbox_dropsearch\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_dropl16\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Layer 16 / block 16 dropout percentage:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 0.95,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"!$_checkbox_dropsearch\",\n\t\t\t\t\t\t\t\t\"&\",\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\"$_insert_modelbackbone\",\n\t\t\t\t\t\t\t\t\t\"!=\",\n\t\t\t\t\t\t\t\t\t\"Tiny-Yolov2\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section2\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Final Model Training\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text12\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Training specifications:\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_finalmodel_e\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Number of epochs:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": null,\n\t\t\t\t\t\t\t\"min\": 1,\n\t\t\t\t\t\t\t\"excludemin\": false,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insertfinal_weights_table\",\n\t\t\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\t\t\"label\": \"Name of final model weights table:\",\n\t\t\t\t\t\t\t\"placeholder\": \"< models weight table name >\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"_insert_percent_to_inspect\",\n\t\t\t\t\t\t\t\"type\": \"numberfield\",\n\t\t\t\t\t\t\t\"label\": \"Percentage of holdout data to view:\",\n\t\t\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"max\": 100,\n\t\t\t\t\t\t\t\"min\": 0,\n\t\t\t\t\t\t\t\"excludemin\": true,\n\t\t\t\t\t\t\t\"excludemax\": false,\n\t\t\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\t\t\"$_insert_modelingtask\",\n\t\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\t\"objectdetection\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"insert_outputtable1\",\n\t\t\t\t\t\"type\": \"outputtable\",\n\t\t\t\t\t\"label\": \"Output Table\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"page2\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"ABOUT\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text21\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"Computer Vision (CV) - Computer Vision Model Development\\n\\n\\nThis custom step helps users develop computer vision models to accomplish one of three prediction tasks:\\nImage classification\\nImage regression\\nImage object detection\\nThe step partitions the data, and enables the user to perform a neural architecture and hyperparameter search using SAS autotune's evolutional algorithm guiding local search (EAGLS). \\n\\nThe user can choose between several model backbones (underlying framework) and modify the backbone/framework to suit their data needs best. Certain features that define the model are task-specific, meaning they only appear when a corresponding task (object detection, classification, or regression) is selected. Other features are task agnostic and will occur regardless of the chosen tasks.    \\n\\nObject detection features:\\n       Object present scalar\\n       No Object present scalar\\n       Object coordinate scalar\\n       Object classification scalar\\n       Detection threshold\\n       IoU threshold\\n       Train IoU threshold\\n\\nClassification or regression features:\\n       Add a fully-connected layer before the output layer (yes/no)\\n       Number of neurons in fully-connected layer\\n       Fully-connected layer nonlinear activation function\\n\\nRegression (only) features:\\n       Error function to use for regression estimation\\n       Activation (inverse link) function to use for regression estimation\\n\\nTask agnostic features:\\n       Model backbone\\n       Size of filter used in first convolution layer\\n       Nonlinear activation function to use throughout the backbone\\n       Learning rate\\n       Difference between beta1 and beta2 (beta2=.999, beta1=.999 - difference value)\\n       Mini-batch size\\n       Step size\\n       Gamma\\n       Gradient clipping (max/min gradient value)\\n       L1 regularization\\n       L2 regularization:\\n       Dropout (layers or blocks 1 – 16)\\n\\nMost feature values can be searched with Autotune. \\n\\nThis custom step uses a CAS action which requires a SAS Visual Machine Learning (VML) license. VML is available with the SAS Viya (formerly known as SAS Visual Data Mining and Machine Learning), SAS Viya Advanced, or SAS Viya Enterprise offering.\\n\\n\\nCreated / contact : \\n\\n- Robert Blanchard (robert.blanchard@sas.com)\\n\\n\\nVersion: 1.0.   (06AUG2023)\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"insert_intabl_\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t},\n\t\t\"_insert_projectpath\": \"\",\n\t\t\"_insert_modepath\": \"\",\n\t\t\"_insert_modelingtask\": {\n\t\t\t\"value\": \"classification\",\n\t\t\t\"label\": \"Classification\"\n\t\t},\n\t\t\"_insert_regtargetstd\": {\n\t\t\t\"value\": \"none\",\n\t\t\t\"label\": \"None\"\n\t\t},\n\t\t\"_insert_regerror\": {\n\t\t\t\"value\": \"normal\",\n\t\t\t\"label\": \"Normal\"\n\t\t},\n\t\t\"_insert_regactivation\": {\n\t\t\t\"value\": \"identity\",\n\t\t\t\"label\": \"Identity\"\n\t\t},\n\t\t\"_insert_useGPU\": {\n\t\t\t\"value\": \"false\",\n\t\t\t\"label\": \"False\"\n\t\t},\n\t\t\"_insert_tarvar_1\": \"_label_\",\n\t\t\"_insert_imagecolumn\": \"_image_\",\n\t\t\"_insert_od_image_size\": {\n\t\t\t\"value\": \"416\",\n\t\t\t\"label\": \"416  by  416\"\n\t\t},\n\t\t\"_insert_imagewidth\": 224,\n\t\t\"_insert_imageheight\": 224,\n\t\t\"_insert_OD_classcount\": 1,\n\t\t\"_insert_image_color_count\": {\n\t\t\t\"value\": \"color\",\n\t\t\t\"label\": \"Color (3-channel)\"\n\t\t},\n\t\t\"_insert_imagemutation\": {\n\t\t\t\"value\": \"none\",\n\t\t\t\"label\": \"None\"\n\t\t},\n\t\t\"_insert_fliping\": {\n\t\t\t\"value\": \"none\",\n\t\t\t\"label\": \"None\"\n\t\t},\n\t\t\"_insert_croprand\": {\n\t\t\t\"value\": \"none\",\n\t\t\t\"label\": \"None\"\n\t\t},\n\t\t\"_insert_maxbb\": 10,\n\t\t\"_insert_clustercriterion\": {\n\t\t\t\"value\": \"FIRSTMAXWITHSTD\",\n\t\t\t\"label\": \"First maximum with standardization\"\n\t\t},\n\t\t\"_insert_valid_percent\": 50,\n\t\t\"_insert_partvar_name\": \"_partind_\",\n\t\t\"_insert_partitionseed\": 12345,\n\t\t\"_insert_globalautotune\": {\n\t\t\t\"value\": \"no\",\n\t\t\t\"label\": \"No\"\n\t\t},\n\t\t\"_insert_saveautotune_results\": \"\",\n\t\t\"_insert_useprevioussearch\": {\n\t\t\t\"value\": \"no\",\n\t\t\t\"label\": \"No\"\n\t\t},\n\t\t\"_insert_previousautoresults\": \"\",\n\t\t\"_insert_numofpreviousevals\": 0,\n\t\t\"_insert_autotuneseed\": 12345,\n\t\t\"_insert_startingpop\": 10,\n\t\t\"_insert_gagenerations\": 5,\n\t\t\"_insert_localpermutations\": 1,\n\t\t\"_insert_autotune_evalcount\": 5,\n\t\t\"_insert_maxeagls_time\": 2500,\n\t\t\"_checkbox_saveatuotunehtml\": true,\n\t\t\"_insert_tuneresultshtml\": \"RecentAutotuneResults\",\n\t\t\"_insert_nthreads\": 4,\n\t\t\"_checkbox_obj_scale\": false,\n\t\t\"_insert_obj_scalar\": 5,\n\t\t\"_insert_od_obj_lbscalar\": 0.1,\n\t\t\"_insert_od_obj_ubscalar\": 5,\n\t\t\"_checkbox_noobj_scale\": false,\n\t\t\"_insert_noobj_scalar\": 1,\n\t\t\"_insert_noobj_lbscalar\": 0.1,\n\t\t\"_insert_noobj_ubscalar\": 5,\n\t\t\"_checkbox_coord_scale\": false,\n\t\t\"_insert_coord_scalar\": 5,\n\t\t\"_insert_coord_lbscalar\": 0.1,\n\t\t\"_insert_coord_ubscalar\": 5,\n\t\t\"_checkbox_class_scale\": false,\n\t\t\"_insert_class_scalar\": 0.5,\n\t\t\"_insert_class_lbscalar\": 0.1,\n\t\t\"_insert_class_ubscalar\": 5,\n\t\t\"_checkbox_detec_threshold\": false,\n\t\t\"_insert_detectthreshold\": 0.5,\n\t\t\"_insert_detecthre_lb\": 0.01,\n\t\t\"_insert_detecthre_ub\": 0.95,\n\t\t\"_checkbox_iou_threshold\": false,\n\t\t\"_insert_iouthreshold\": 0.5,\n\t\t\"_insert_iouthhold_lb\": 0.01,\n\t\t\"_insert_iouthhold_ub\": 0.9,\n\t\t\"_checkbox_trainiou_thrhold\": false,\n\t\t\"_insert_trainiouthrhold\": 0.6,\n\t\t\"_insert_trainiou_lb\": 0.01,\n\t\t\"_insert_trainiou_ub\": 0.9,\n\t\t\"_insert_addfclayer\": {\n\t\t\t\"value\": \"no\",\n\t\t\t\"label\": \"No\"\n\t\t},\n\t\t\"_checkbox_addfc\": false,\n\t\t\"_insert_FC_neuroncount\": 100,\n\t\t\"_insert_FCneuron_lb\": 10,\n\t\t\"_insert_FCneuron_ub\": 1000,\n\t\t\"_checkbox_fcactivation\": false,\n\t\t\"_insert_fc_act\": {\n\t\t\t\"value\": \"12\",\n\t\t\t\"label\": \"Leaky rectified linear unit\"\n\t\t},\n\t\t\"_insert_modelbackbone\": {\n\t\t\t\"value\": \"autotune\",\n\t\t\t\"label\": \"Autotune (search all backbones)\"\n\t\t},\n\t\t\"_checkbox_fl_filtersize\": false,\n\t\t\"_insert_fcl_filtersize\": {\n\t\t\t\"value\": \"4\",\n\t\t\t\"label\": \"5 by 5\"\n\t\t},\n\t\t\"_checkbox_activation_1\": false,\n\t\t\"_insert_actfunc_1\": {\n\t\t\t\"value\": \"12\",\n\t\t\t\"label\": \"Leaky rectified linear unit\"\n\t\t},\n\t\t\"_checkbox_lr\": false,\n\t\t\"_insert_learnr\": 0.001,\n\t\t\"_insert_lr_lb\": 0.00001,\n\t\t\"_insert_lr_ub\": 0.1,\n\t\t\"_checkbox_betadiff\": false,\n\t\t\"_insert_betdiff\": 0.099,\n\t\t\"_insert_betadiff_lb\": 0.001,\n\t\t\"_insert_betadiff_ub\": 0.99,\n\t\t\"_checkbox_minibatch\": false,\n\t\t\"_insert_minibatchsize\": 32,\n\t\t\"_insert_minibatch_lb\": 5,\n\t\t\"_insert_minibatch_ub\": 96,\n\t\t\"_checkbox_stepsize\": false,\n\t\t\"_insert_stepsize\": 5,\n\t\t\"_insert_steps_lb\": 2,\n\t\t\"_insert_steps_ub\": 15,\n\t\t\"_checkbox_gamma\": false,\n\t\t\"_insert_gamma\": 0.5,\n\t\t\"_insert_gam_lb\": 0.01,\n\t\t\"_insert_gam_ub\": 0.9,\n\t\t\"_checkbox_clipgrad\": false,\n\t\t\"_insert_gradclip\": 0.01,\n\t\t\"_insert_gradc_lb_\": 0.01,\n\t\t\"_insert_gradc_ub_\": 100,\n\t\t\"_checkbox_l1reg\": false,\n\t\t\"_insert_l1reg\": 0,\n\t\t\"_insert_l1r_lb\": 0,\n\t\t\"_insert_l1r_ub\": 0.1,\n\t\t\"_checkbox_l2reg\": false,\n\t\t\"_insert_l2reg\": 0,\n\t\t\"_insert_l2r_lb\": 0,\n\t\t\"_insert_l2r_ub\": 0.1,\n\t\t\"_checkbox_dropsearch\": false,\n\t\t\"_insert_drop_l1\": 0,\n\t\t\"_insert_drop_l2\": 0,\n\t\t\"_insert_drop_l3\": 0,\n\t\t\"_insert_drop_l4\": 0,\n\t\t\"_insert_drop_l5\": 0,\n\t\t\"_insert_drop_l6\": 0,\n\t\t\"_insert_drop_l7\": 0,\n\t\t\"_insert_drop_l8\": 0,\n\t\t\"_insert_drop_l9\": 0,\n\t\t\"_insert_dropl10\": 0,\n\t\t\"_insert_dropl11\": 0,\n\t\t\"_insert_dropl12\": 0,\n\t\t\"_insert_dropl13\": 0,\n\t\t\"_insert_dropl14\": 0,\n\t\t\"_insert_dropl15\": 0,\n\t\t\"_insert_dropl16\": 0,\n\t\t\"_insert_finalmodel_e\": 50,\n\t\t\"_insertfinal_weights_table\": \"Mymodel_weights\",\n\t\t\"_insert_percent_to_inspect\": 1,\n\t\t\"insert_outputtable1\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t}\n\t}\n}","templates":{"SAS":"\ncas casauto sessopts=(caslib=\"casuser\"); \n/* cas; */\n\n/* libname mycas cas caslib=casuser; */\ncaslib _all_ assign;\noptions NOSERR;\n\n\n\ndata _null_;\ncall symput(\"inputCaslib1\",scan(%cmpres(\"&insert_intabl_.\"),1,\".\",\"MO\"));\n\ncall symput(\"inputCASTable1\",scan(%cmpres(\"&insert_intabl_.\"),2,\".\",\"MO\"));\n\ncall symput(\"outputCaslib1\",scan(%cmpres(\"&insert_outputtable1.\"),1,\".\",\"MO\"));\n\ncall symput(\"outputCASTable1\",scan(%cmpres(\"&insert_outputtable1.\"),2,\".\",\"MO\"));\nrun;\n\n%put \"input caslib =\" &inputCaslib1;\n%put \"input table =\" &inputCASTable1;\n%put \"output caslib =\" &outputCaslib1;\n%put \"output table =\" &outputCASTable1;\n\n\n\n\n\ndata _null_;\nx=\"&_insert_projectpath\";\ny=find(x,':');\nz=substr(x,(find(x,':')+1));\ncall symput(\"tempprojpath_lib_\",z);\nrun;\n\ndata _null_;\nx=\"&_insert_modepath\";\ny=find(x,':');\nz=substr(x,(find(x,':')+1));\ncall symput(\"tempmodelpath_lib_\",z);\nrun;\n\n\n\ndata _null_;\n/* object scale search */\n\tif &_checkbox_obj_scale=1 then do;\n\t\tcall symput(\"_CV_onoff_search_obj\",'yes');\n\tend;\n\tif &_checkbox_obj_scale=0 then do;\n\t\tcall symput(\"_CV_onoff_search_obj\",'no');\n\tend;\n\n/* no object scale search */\n\tif &_checkbox_noobj_scale=1 then do;\n\t\tcall symput(\"_CV_onoff_search_noobj\",'yes');\n\tend;\n\tif &_checkbox_noobj_scale=0 then do;\n\t\tcall symput(\"_CV_onoff_search_noobj\",'no');\n\tend;\n\n/* coord scale search */\n\tif &_checkbox_coord_scale=1 then do;\n\t\tcall symput(\"_CV_onoff_search_coord\",'yes');\n\tend;\n\tif &_checkbox_coord_scale=0 then do;\n\t\tcall symput(\"_CV_onoff_search_coord\",'no');\n\tend;\n\n/* class scale search */\n\tif &_checkbox_class_scale=1 then do;\n\t\tcall symput(\"_CV_onoff_search_class\",'yes');\n\tend;\n\tif &_checkbox_class_scale=0 then do;\n\t\tcall symput(\"_CV_onoff_search_class\",'no');\n\tend;\n\n/* detection threshold search */\n\tif &_checkbox_detec_threshold=1 then do;\n\t\tcall symput(\"_CV_onoff_search_detthresh\",'yes');\n\tend;\n\tif &_checkbox_detec_threshold=0 then do;\n\t\tcall symput(\"_CV_onoff_search_detthresh\",'no');\n\tend;\n\n/* iou threshold search */\n\tif &_checkbox_iou_threshold=1 then do;\n\t\tcall symput(\"_CV_onoff_search_iouthresh\",'yes');\n\tend;\n\tif &_checkbox_iou_threshold=0 then do;\n\t\tcall symput(\"_CV_onoff_search_iouthresh\",'no');\n\tend;\n\n/* train iou threshold search */\n\tif &_checkbox_trainiou_thrhold=1 then do;\n\t\tcall symput(\"_CV_onoff_search_trainiou\",'yes');\n\tend;\n\tif &_checkbox_trainiou_thrhold=0 then do;\n\t\tcall symput(\"_CV_onoff_search_trainiou\",'no');\n\tend;\n\n/* last convo filter width search */\n/* \tif &_checkbox_lc_width=1 then do; */\n/* \t\tcall symput(\"_CV_onoff_search_lc_width\",'yes'); */\n/* \tend; */\n/* \tif &_checkbox_lc_width=0 then do; */\n/* \t\tcall symput(\"_CV_onoff_search_lc_width\",'no'); */\n/* \tend; */\n\n/* last convo filter height search */\n/* \tif &_checkbox_lc_height=1 then do; */\n/* \t\tcall symput(\"_CV_onoff_search_lc_height\",'yes'); */\n/* \tend; */\n/* \tif &_checkbox_lc_height=0 then do; */\n/* \t\tcall symput(\"_CV_onoff_search_lc_height\",'no'); */\n/* \tend; */\n\n/* FC neuron count search */\n\tif &_checkbox_addfc=1 then do;\n\t\tcall symput(\"_CV_onoff_search_FCneuronnum\",'yes');\n\tend;\n\tif &_checkbox_addfc=0 then do;\n\t\tcall symput(\"_CV_onoff_search_FCneuronnum\",'no');\n\tend;\n\n/* FC neuron activation function search */\n\tif &_checkbox_fcactivation=1 then do;\n\t\tcall symput(\"_CV_onoff_search_FCactfunc\",'yes');\n\tend;\n\tif &_checkbox_fcactivation=0 then do;\n\t\tcall symput(\"_CV_onoff_search_FCactfunc\",'no');\n\tend;\n\n/* learning rate search */\n\tif &_checkbox_lr=1 then do;\n\t\tcall symput(\"_CV_onoff_search_lr\",'yes');\n\tend;\n\tif &_checkbox_lr=0 then do;\n\t\tcall symput(\"_CV_onoff_search_lr\",'no');\n\tend;\n\n/* beta difference search */\n\tif &_checkbox_betadiff=1 then do;\n\t\tcall symput(\"_CV_onoff_search_betadiff\",'yes');\n\tend;\n\tif &_checkbox_betadiff=0 then do;\n\t\tcall symput(\"_CV_onoff_search_betadiff\",'no');\n\tend;\n\n/* minibatch search */\n\tif &_checkbox_minibatch=1 then do;\n\t\tcall symput(\"_CV_onoff_search_miniBSize\",'yes');\n\tend;\n\tif &_checkbox_minibatch=0 then do;\n\t\tcall symput(\"_CV_onoff_search_miniBSize\",'no');\n\tend;\n\n/* step size search */\n\tif &_checkbox_stepsize=1 then do;\n\t\tcall symput(\"_CV_onoff_search_stepsize\",'yes');\n\tend;\n\tif &_checkbox_stepsize=0 then do;\n\t\tcall symput(\"_CV_onoff_search_stepsize\",'no');\n\tend;\n\n/* gamma search */\n\tif &_checkbox_gamma=1 then do;\n\t\tcall symput(\"_CV_onoff_search_gamma\",'yes');\n\tend;\n\tif &_checkbox_gamma=0 then do;\n\t\tcall symput(\"_CV_onoff_search_gamma\",'no');\n\tend;\n\n/* l1 reg search */\n\tif &_checkbox_l1reg=1 then do;\n\t\tcall symput(\"_CV_onoff_search_l1reg\",'yes');\n\tend;\n\tif &_checkbox_l1reg=0 then do;\n\t\tcall symput(\"_CV_onoff_search_l1reg\",'no');\n\tend;\n\n/* l2 reg search */\n\tif &_checkbox_l2reg=1 then do;\n\t\tcall symput(\"_CV_onoff_search_l2reg\",'yes');\n\tend;\n\tif &_checkbox_l2reg=0 then do;\n\t\tcall symput(\"_CV_onoff_search_l2reg\",'no');\n\tend;\n\n/* dropout search */\n\tif &_checkbox_dropsearch=1 then do;\n\t\tcall symput(\"_CV_dropValue\",'yes');\n\tend;\n\tif &_checkbox_dropsearch=0 then do;\n\t\tcall symput(\"_CV_dropValue\",'no');\n\tend;\n\n/* backbone activation function search */\n\tif &_checkbox_activation_1=1 then do;\n\t\tcall symput(\"_CV_onoff_search_actfunc\",'yes');\n\tend;\n\tif &_checkbox_activation_1=0 then do;\n\t\tcall symput(\"_CV_onoff_search_actfunc\",'no');\n\tend;\n\n/* gradient clipping search */\n\tif &_checkbox_clipgrad=1 then do;\n\t\tcall symput(\"_CV_onoff_search_gradclips\",'yes');\n\tend;\n\tif &_checkbox_clipgrad=0 then do;\n\t\tcall symput(\"_CV_onoff_search_gradclips\",'no');\n\tend;\n\n\nrun;\n\n%put \"input caslib =\" &inputCaslib1;\n%put \"input table =\" &inputCASTable1;\n\n %let _CV_caslib_=Teimglib;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* (_insert_caslib) */\n/* %let _CV_datafolder_location=&_insert_imagedata_path;\t\t\t\t\t\t\t/* (_insert_imagedata_path) */\n%let _CV_objectdetectiondata_=&inputCASTable1;\t/*(_insert_OD_datasetName)*/\n%let _CV_regressiontable_=&inputCASTable1;\n%let _CV_location_for_results_data=&tempprojpath_lib_; \t\t\t/* (_insert_projectpath)*/\n%let _CV_CVmodel_location=&tempmodelpath_lib_;\t\t\t\t/* (_insert_modepath) */\n%let _imageDS_=model_input_images_; \n%let _CV_partition_var_=&_insert_partvar_name;\t\t\t\t\t\t\t/* (_insert_partvar_name)*/\n%let _CV_valid_partition_per_=&_insert_valid_percent;\t\t\t\t\t\t\t/*Range from zero to 100 (_insert_valid_percent) */ \n%let _CV_modelBackbone_=&_insert_modelbackbone;  \t\t\t\t/* Tiny-Yolov2 resnet50_caffe autotune*/\n%let _CV_partition_seed=&_insert_partitionseed;   /*(_insert_partitionseed)*/\n\n/*OD (_insert_od_image_size), images must be: 224 416 640 1280.  Classification or regression, images must be >=64by64*/\n%let _image_input_height_=&_insert_imageheight; \t\t\t\t\t\t\t/*_insert_imageheight*/\n%let _image_input_width_=&_insert_imagewidth;\t\t\t\t\t\t\t/* _insert_imagewidth */\n\n/* NEW */\t\n%let n_threads_=&_insert_nthreads;\n\n\n%let _image_input_color_=&_insert_image_color_count;\t\t\t\t\t\t\t/*color or greyscale  (_insert_image_color_count)*/\n\n%let _CV_tarVar_name_=&_insert_tarvar_1;\t\t\t\t\t\t\t/*(_insert_tarvar_1)*/\n%let _CV_inpVar_name_=&_insert_imagecolumn;\t\t\t\t\t\t\t/* (_insert_imagecolumn)*/\n%let _CV_modeltask_=&_insert_modelingtask; \t\t\t\t\t/* objectdetection classification regression (_insert_modelingtask)*/\n%let _CV_usegpu_T_F=&_insert_useGPU;\t\t\t\t\t\t\t\t/* (_insert_useGPU)*/\n%let _CV_fliptype_=&_insert_fliping;\t\t\t\t\t\t\t/* _insert_fliping */\n%let _CV_random_mutate=&_insert_imagemutation;\t\t\t\t\t\t/*_insert_imagemutation*/\n/* NEW */\n%let _CV_crop_RESIZE_THENCROP=&_insert_croprand;\n\n%let _CV_num_epochs_=&_insert_finalmodel_e;\n%let _CV_finalweightstable_=&_insertfinal_weights_table;\n%let _CV_percentimages_to_inspect=&_insert_percent_to_inspect;\n/* %let _CV_percentimages_to_insclass=1; */\n\n\n\ndata _null_;\n  _updatevar_filtersizes_=\"&_CV_modeltask_\";\nif _updatevar_filtersizes_=\"objectdetection\" then do;\ncall symput(\"_image_input_height_\",&_insert_od_image_size);\ncall symput(\"_image_input_width_\",&_insert_od_image_size);\nend;\nrun;\n\n/* NEW */\n%let _CV_saveautotune_results=&_checkbox_saveatuotunehtml;\n/* NEW */\n%let _CV_autotuneresults_name=&_insert_tuneresultshtml;\n\n\n\n\n/*object detection only options */\n/* %let _CV_object_num_=1; */\n%let _CV_OD_class_num=&_insert_OD_classcount;\t\t\t\t\t\t\t/*(_insert_OD_classcount)*/\n%let _CV_OD_cluster_criterion=&_insert_clustercriterion;    /* FIRSTMAXWITHSTD FIRSTPEAK GLOBALPEAK */ /*(_insert_clustercriterion)*/\n%let _CV_maxnumclusters=&_insert_maxbb;\t\t\t\t\t\t/*(_insert_maxbb)*/\n/*%let _CV_OD_preds_per_grid=2;*/ /* may need to drop from %let */\n\n\n/* regression only options */\n%let _CV_reg_error=&_insert_regerror; \t\t\t\t\t\t/* Gamma Normal Poisson L1 */ /* (_insert_regerror) */\n%let _CV_reg_out_act_function=&_insert_regactivation; \t\t/* Identity Exponent */ /*(_insert_regactivation)*/\n%let _CV_reg_out_standardization =&_insert_regtargetstd; \t/* MIDRANGE none STD*/ /*(_insert_regtargetstd)*/\n\n\n%let _CV_Global_autotune_initiate=&_insert_globalautotune;\t\t\t\t/*(_insert_globalautotune)*/\n/***************/\n/* Global autotune */\n/***************/\n%let _CV_population_s=&_insert_startingpop;\n%let _CV_gsslocal_s=&_insert_localpermutations;\n%let _CV_gagenerations_s=&_insert_gagenerations;\n%let _CV_maxtraintime=&_insert_maxeagls_time;\n%let _CV_autotuneseed=&_insert_autotuneseed;\n%let _CV_eval_epochs=&_insert_autotune_evalcount; /* not used yet */\n%let _CV_continue_previous_search=&_insert_useprevioussearch;  /* yes or no */  /*(_insert_useprevioussearch)*/\n%let _CV_howmanytouseforfirstgen=&_insert_numofpreviousevals; /*specifies how many observations should be used for the first generation of continued search */\n%let _CV_name_autotuneresults_save=&_insert_saveautotune_results;\t/* */\n%let _CV_name_autotuneresults_load=&_insert_previousautoresults;   \t/*(_insert_previousautoresults)*/\n\n/***************/\n/* OD autotune */\n/***************/\n%let _CV_onoff_search_lc_width=no; \t\t\t\t/* yes no */\n%let _CV_OD_lastConvo_width=1;\t\t\t\t\t\t/*&_insert_lc_width;*/\n\t%let _CV_lb_OD_lconvo_width_value_=1;\t\t\t\t/*&_insert_lcwidth_lb;*/\n\t%let _CV_ub_OD_lconvo_width_value_=1;\t\t\t\t\t/*&_insert_lcwidth_ub;*/\n\n%let _CV_onoff_search_lc_height=no; \t\t\t\t/* yes no */\n%let _CV_OD_lastConvo_height=1;\t\t\t\t\t\t/*&_insert_lc_height;*/\n\t%let _CV_lb_OD_lconvo_height_value_=1;\t\t\t/*&_insert_lcheight_lb;*/\n\t%let _CV_ub_OD_lconvo_height_value_=1;\t\t\t/*&_insert_lcheight_ub;*/\n\n\n\n\n/* %let _CV_onoff_search_obj=yes; \t\t\t\t */\n%let _CV_OD_Obj_scale_=&_insert_obj_scalar;\n\t%let _CV_lb_OD_Obj_value_=&_insert_od_obj_lbscalar;\t\t\t\t/* (_insert_od_objpresent_lb)*/\n\t%let _CV_ub_OD_Obj_value_=&_insert_od_obj_ubscalar;\t\t\t\t\t\t\t\n\n/* %let _CV_onoff_search_noobj=yes; \t\t\t\t */\n%let _CV_OD_Not_Obj_scale_=&_insert_noobj_scalar;\n\t%let _CV_lb_Not_Obj_value_=&_insert_noobj_lbscalar;\t\t\t\t/*_insert_noobj_lb*/\n\t%let _CV_ub_Not_Obj_value_=&_insert_noobj_ubscalar;\n\n/* %let _CV_onoff_search_coord=yes; \t\t\t */\n%let _CV_OD_coord_scale_=&_insert_coord_scalar;\n\t%let _CV_lb_coord_value_=&_insert_coord_lbscalar;\n\t%let _CV_ub_coord_value_=&_insert_coord_ubscalar;\n\n/* %let _CV_onoff_search_class=no; \t\t\t\t */\n%let _CV_OD_class_scale_=&_insert_class_scalar;\t\t\t\t\t\t\n\t%let _CV_lb_class_value_=&_insert_class_lbscalar;\n\t%let _CV_ub_class_value_=&_insert_class_ubscalar;\n\n/* %let _CV_onoff_search_detthresh=yes; \t\t\t */\n%let _CV_OD_detection_thresh_=&_insert_detectthreshold;\n\t%let _CV_lb_detection_thresh_value_=&_insert_detecthre_lb;\n\t%let _CV_ub_detection_thresh_value_=&_insert_detecthre_ub;\n\n/* %let _CV_onoff_search_iouthresh=yes; \t\t\t\t */\n%let _CV_OD_iouthreshold_=&_insert_iouthreshold;\n\t%let _CV_lb_iouthreshold_value_=&_insert_iouthhold_lb;\n\t%let _CV_ub_iouthreshold_value_=&_insert_iouthhold_ub;\n\n/* %let _CV_onoff_search_trainiou=yes; \t\t\t\t */\n%let _CV_iouTrainThreshold_=&_insert_trainiouthrhold;\n\t%let _CV_lb_iouTrainThreshold_value_=&_insert_trainiou_lb;\n\t%let _CV_ub_iouTrainThreshold_value_=&_insert_trainiou_ub;\n\n\n/* Class and regression Autotune */\n%let _CV_include_FC_layer=&_insert_addfclayer;\t\t\t\t\t\t/* yes no */\n\n/* %let _CV_onoff_search_FCneuronnum=yes; \t\t\t\t */\n%let _CV_FC_neuron_num=&_insert_FC_neuroncount;\n\t%let _CV_lb_FC_neuron_value_=&_insert_FCneuron_lb;\n\t%let _CV_ub_FC_neuron_value_=&_insert_FCneuron_ub;\n\n/* %let _CV_onoff_search_FCactfunc=yes; \t\t\t\t */\n%let _CV_FC_act_function=&_insert_fc_act;\n\n/**************************/\n/*  Global Autotune */\n/**************************/\n\n/*NEW*/\n%let _CV_onoff_search_firstc_fsize=&_checkbox_fl_filtersize; \t\t\t\t/* yes no */\n%let _CV_assigned_firstc_fsize=&_insert_fcl_filtersize; \t\t\t\t/* yes no */\n\n\n/*NEW*/\n/* %let _CV_onoff_search_gradclips=yes; */\t\t\t\t/* yes no */\n%let _CV_gradclips_value=&_insert_gradclip;\n\t%let _CV_lb_gradclips_value=&_insert_gradc_lb_;\n\t%let _CV_ub_gradclips_value=&_insert_gradc_ub_;\n\n/* %let _CV_onoff_search_gamma=yes;\t\t\t\t */\n%let _CV_gam_value_=&_insert_gamma;\n\t%let _CV_lb_gamma_value_=&_insert_gam_lb;\n\t%let _CV_ub_gamma_value_=&_insert_gam_ub;\n\n/* %let _CV_onoff_search_stepsize=yes; \t\t\t\t */\n%let _CV_stepSize_value_=&_insert_stepsize;\n\t%let _CV_lb_stepSize_value_=&_insert_steps_lb;\n\t%let _CV_ub_stepSize_value_=&_insert_steps_ub;\n\n/* %let _CV_onoff_search_miniBSize=yes; \t\t\t\t */\n%let _CV_miniBSize_value_=&_insert_minibatchsize;\n\t%let _CV_lb_miniBSize_value_=&_insert_minibatch_lb;\n\t%let _CV_ub_miniBSize_value_=&_insert_minibatch_ub;\n\n/* %let _CV_onoff_search_lr=yes; \t\t\t\t */\n%let _CV_lr_value_=&_insert_learnr;\n\t%let _CV_lb_lr_value_=&_insert_lr_lb;\n\t%let _CV_ub_lr_value_=&_insert_lr_ub;\n\n/* %let _CV_onoff_search_betadiff=yes; \t\t\t\t */\n%let _CV_betadiff_value_=&_insert_betdiff;\n\t%let _CV_lb_betadiff_value_=&_insert_betadiff_lb;\n\t%let _CV_ub_betadiff_value_=&_insert_betadiff_ub;\n\n/* %let _CV_onoff_search_l1reg=yes; \t\t\t\t */\n%let _CV_l1reg_value_=&_insert_l1reg;\n\t%let _CV_lb_l1reg_value_=&_insert_l1r_lb;\n\t%let _CV_ub_l1reg_value_=&_insert_l1r_ub;\n\n/* %let _CV_onoff_search_l2reg=yes; \t\t\t\t */\n%let _CV_l2reg_value_=&_insert_l2reg;\n\t%let _CV_lb_l2reg_value_=&_insert_l2r_lb;\n\t%let _CV_ub_l2reg_value_=&_insert_l2r_ub;\n\n/* %let _CV_onoff_search_actfunc=yes; \t\t\t\t*/\n%let _CV_act_function=&_insert_actfunc_1;\n\n/* %let _CV_dropValue=yes;\t\t\t\t\t\t\t */\n\t%let _CV_dropout_block1=&_insert_drop_l1;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block2=&_insert_drop_l2;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block3=&_insert_drop_l3;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block4=&_insert_drop_l4;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block5=&_insert_drop_l5;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block6=&_insert_drop_l6;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block7=&_insert_drop_l7;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block8=&_insert_drop_l8;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block9=&_insert_drop_l9;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block10=&_insert_dropl10;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block11=&_insert_dropl11;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block12=&_insert_dropl12;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block13=&_insert_dropl13;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block14=&_insert_dropl14;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block15=&_insert_dropl15;\t\t\t\t\t\t\t/* value from zero to one */\n\t%let _CV_dropout_block16=&_insert_dropl16;\t\t\t\t\t\t\t/* value from zero to one */\n\n%macro _useprevioussearch_;\n%if &_CV_continue_previous_search=yes %then %do;\n\tproc sort data=casuser.loaded__search_results_ out=work.loaded__search_results_;\n\tby objVal;\n\trun;\n\tdata casuser._firstgen_table;\n\t\tset work.loaded__search_results_ (obs=&_CV_howmanytouseforfirstgen);\n\t\twhere objVal ne .;\n\trun;\n\tdata work.Cachein_NASv1;\n\t\tset work.loaded__search_results_;\n\t\twhere objVal ne .;\n\t\tif _n_>&_CV_howmanytouseforfirstgen;\n\trun;\n\tdata work.Cachein_NASv2;\n\t\tset work.loaded__search_results_;\n\t\twhere objVal = .;\n\trun;\n\tdata casuser._Cachein_table;\n\t\tset work.Cachein_NASv2 work.Cachein_NASv1;\n\trun;\n%end;\n%mend;\n\n/* %put &_CV_object_num_; */\n%macro _FindAnchorBoxes_ (minclusters=, size=);\n\t%global _CV_object_num_;\n\t%global anchor_box_coord;\n\t%global _CV_OD_preds_per_grid;\n\t%let _CV_object_num_=0;\n\t%let _CV_OD_preds_per_grid=0;\n\t%let anchor_box_coord=0;\n\n%if &_CV_modeltask_=objectdetection %then %do;\n\tdata work._findmax_objs_;\n\t\tset CASUSER._determine_num_clusters_;\n\trun;\n\tproc sql noprint;\n\t\tselect max(_nObjects_)\n\t\tinto: _CV_object_num_\n\t\tfrom work._findmax_objs_;\n\tquit;\n\tdata _My_temp_data_;\n\t\tset work._findmax_objs_;\n\t\t%do objnum_i=0 %to &_CV_object_num_; \n\t\t\theight=_object&objnum_i._height;\n\t\t\twidth=_object&objnum_i._width;\n\t\t\toutput;\n\t\t%end;\n\trun;\n\tdata CASUSER.keepImportantVars;\n\t\tset work._My_temp_data_;\n\t\twhere height ne .;\n\t\tkeep height width;\n\trun;\n\tods output WithinClusStats=Clusstats;\n\tproc kclus data=CASUSER.keepImportantVars maxclusters=&_CV_maxnumclusters MAXITER=1000 seed=1234\n        NOC=ABC(B=100 minclusters=&minclusters align=none criterion=&_CV_OD_cluster_criterion)\n\t\tSTANDARDIZE=none DISTANCE=EUCLIDEAN STOPCRITERION=CLUSTER_CHANGE INIT=FORGY;\n   \t\tinput  height width;\n   \t\tods output ABCStats=ABCStats1;\n\trun;\n\n\tproc sort data=Clusstats;\n\t\tby Cluster decending Variable ;\n\trun;\ntitle \"Bounding Box Anchors\";\n\tproc sql;\n\t\tselect Mean*&size \n\t\tinto : anchor_box_coord separated by ', '\n\t\tfrom Clusstats;\n\trun;quit;\ntitle;\ntitle \"Number of Bounding Box Anchors\";\n\tproc sql;\n\t\tselect count(Mean)/2 \n\t\tinto : _CV_OD_preds_per_grid separated by ', '\n\t\tfrom Clusstats;\n\trun;\ntitle;\n%end;\n%mend;\n\n\n%put \"input caslib =\" &inputCaslib1;\n%put \"input table =\" &inputCASTable1;\n\n\n/* _CV_continue_previous_search */\n;\n\nproc cas;\n_verify_previous_search=\"&_CV_continue_previous_search\"; /* yes no */\nif _verify_previous_search = \"yes\" then do;\n\ttable.addCasLib / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n\ttable.loadTable /caslib=\"libres\", path=\"&_CV_name_autotuneresults_load..sashdat\" casOut={name=\"loaded__search_results_\", caslib=\"casuser\", replace=true};\nend;\n\n_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\nif _verify_modeling_task_=\"objectdetection\" then do;\ntable.copyTable / table={name=\"&inputCASTable1\", caslib=\"&inputCaslib1\"},  casOut={name=\"_determine_num_clusters_\", caslib=\"CASUSER\", replace=True};\t\ntable.alterTable / caslib=\"CASUSER\", name=\"_determine_num_clusters_\", drop={\"_image_\"};\nend;\nquit;\n\n%_useprevioussearch_;\n%_FindAnchorBoxes_ (minclusters=2, size=&_image_input_height_);\n/* %put &anchor_box_coord; */\n/* %put &_CV_OD_preds_per_grid; */\n\n/* proc cas; */\n/* _verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n/* if _verify_modeling_task_=\"objectdetection\" then do; */\n/*    table.dropCaslib / caslib=\"&_CV_caslib_\"; */\n/* end; */\n/* quit; */\n\nproc printto NEW log=\"&_CV_location_for_results_data/CVmodeldevelopmentLog.txt\";\nrun;\n\n\n\nproc cas;\n\ttable.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable={name=\"&inputCASTable1\", caslib=\"&inputCaslib1\"}\n    \t\t\t\t\t\t\t\t\tname=\"&_imageDS_\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\ttable.dropCaslib result=suppress / caslib=\"libres\" quiet=TRUE;\n\nquit;\n\n\nproc cas;\n_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\nif _verify_autotune_init=\"yes\" then do;\n\n_verify_saveautotuneresults=&_CV_saveautotune_results;\nif _verify_saveautotuneresults=1 then do;\nods pdf file=\"&_CV_location_for_results_data/&_CV_autotuneresults_name..pdf\"; \nend;\n\n\n\n/* search gamma */\n\t_verify_search_gamma=\"&_CV_onoff_search_gamma\";\n\tif _verify_search_gamma=\"yes\" then do; \n\t\t_setup_init_gamma=&_CV_gam_value_;\n\t\t_setup_lb_gamma=&_CV_lb_gamma_value_;\n\t\t_setup_ub_gamma=&_CV_ub_gamma_value_;\n\tend;\n\tif _verify_search_gamma ne \"yes\" then do; \n\t\t_setup_init_gamma=&_CV_gam_value_;\n\t\t_setup_lb_gamma=&_CV_gam_value_;\n\t\t_setup_ub_gamma=&_CV_gam_value_;\n\tend;\n\n/* search stepsize */\n\t_verify_search_stepsize=\"&_CV_onoff_search_stepsize\";\n\tif _verify_search_stepsize=\"yes\" then do; \n\t\t_setup_init_stepsize=&_CV_stepSize_value_;\n\t\t_setup_lb_stepsize=&_CV_lb_stepSize_value_;\n\t\t_setup_ub_stepsize=&_CV_ub_stepSize_value_;\n\tend;\n\tif _verify_search_stepsize ne \"yes\" then do; \n\t\t_setup_init_stepsize=&_CV_stepSize_value_;\n\t\t_setup_lb_stepsize=&_CV_stepSize_value_;\n\t\t_setup_ub_stepsize=&_CV_stepSize_value_;\n\tend;\n\n/* search minibatch size */\n\t_verify_search_miniBSize=\"&_CV_onoff_search_miniBSize\";\n\tif _verify_search_miniBSize=\"yes\" then do; \n\t\t_setup_init_miniBSize=&_CV_miniBSize_value_;\n\t\t_setup_lb_miniBSize=&_CV_lb_miniBSize_value_;\n\t\t_setup_ub_miniBSize=&_CV_ub_miniBSize_value_;\n\tend;\n\tif _verify_search_miniBSize ne \"yes\" then do; \n\t\t_setup_init_miniBSize=&_CV_miniBSize_value_;\n\t\t_setup_lb_miniBSize=&_CV_miniBSize_value_;\n\t\t_setup_ub_miniBSize=&_CV_miniBSize_value_;\n\tend;\n\n\n\n/* search learning rate */\n\t_verify_search_lr=\"&_CV_onoff_search_lr\";\n\tif _verify_search_lr=\"yes\" then do; \n\t\t_setup_init_lr=&_CV_lr_value_;\n\t\t_setup_lb_lr=&_CV_lb_lr_value_;\n\t\t_setup_ub_lr=&_CV_ub_lr_value_;\n\tend;\n\tif _verify_search_lr ne \"yes\" then do; \n\t\t_setup_init_lr=&_CV_lr_value_;\n\t\t_setup_lb_lr=&_CV_lr_value_;\n\t\t_setup_ub_lr=&_CV_lr_value_;\n\tend;\n\n/* search second order learning rate */\n\t_verify_search_betadiff=\"&_CV_onoff_search_betadiff\";\n\tif _verify_search_betadiff=\"yes\" then do; \n\t\t_setup_init_betadiff=&_CV_betadiff_value_;\n\t\t_setup_lb_betadiff=&_CV_lb_betadiff_value_;\n\t\t_setup_ub_betadiff=&_CV_ub_betadiff_value_;\n\tend;\n\tif _verify_search_betadiff ne \"yes\" then do; \n\t\t_setup_init_betadiff=&_CV_betadiff_value_;\n\t\t_setup_lb_betadiff=&_CV_betadiff_value_;\n\t\t_setup_ub_betadiff=&_CV_betadiff_value_;\n\tend;\n\n/* search l1 reg */\n\t_verify_search_l1reg=\"&_CV_onoff_search_l1reg\";\n\tif _verify_search_l1reg=\"yes\" then do; \n\t\t_setup_init_l1reg=&_CV_l1reg_value_;\n\t\t_setup_lb_l1reg=&_CV_lb_l1reg_value_;\n\t\t_setup_ub_l1reg=&_CV_ub_l1reg_value_;\n\tend;\n\tif _verify_search_l1reg ne \"yes\" then do; \n\t\t_setup_init_l1reg=&_CV_l1reg_value_;\n\t\t_setup_lb_l1reg=&_CV_l1reg_value_;\n\t\t_setup_ub_l1reg=&_CV_l1reg_value_;\n\tend;\n\n/* search l2 reg */\n\t_verify_search_l2reg=\"&_CV_onoff_search_l2reg\";\n\tif _verify_search_l2reg=\"yes\" then do; \n\t\t_setup_init_l2reg=&_CV_l2reg_value_;\n\t\t_setup_lb_l2reg=&_CV_lb_l2reg_value_;\n\t\t_setup_ub_l2reg=&_CV_ub_l2reg_value_;\n\tend;\n\tif _verify_search_l2reg ne \"yes\" then do; \n\t\t_setup_init_l2reg=&_CV_l2reg_value_;\n\t\t_setup_lb_l2reg=&_CV_l2reg_value_;\n\t\t_setup_ub_l2reg=&_CV_l2reg_value_;\n\tend;\n\n\n/* search cilpgrads */\n\t_verify_gradclips=\"&_CV_onoff_search_gradclips\";\n\tif _verify_gradclips=\"yes\" then do; \n\t\t_setup_init_gradclips=&_CV_gradclips_value;\n\t\t_setup_lb_gradclips=&_CV_lb_gradclips_value;\n\t\t_setup_ub_gradclips=&_CV_ub_gradclips_value;\n\tend;\n\tif _verify_gradclips ne \"yes\" then do; \n\t\t_setup_init_gradclips=&_CV_gradclips_value;\n\t\t_setup_lb_gradclips=&_CV_gradclips_value;\n\t\t_setup_ub_gradclips=&_CV_gradclips_value;\n\tend;\n\n\n/* search first convo filter sizes */\n\n_verify_firstconvo_fsize=\"&_CV_onoff_search_firstc_fsize\";\n\tif _verify_firstconvo_fsize=1 then do; \n\t\t_setup_init_fconvo_size=&_CV_assigned_firstc_fsize;\n\t\t_setup_lb_fconvo_size=1;\n\t\t_setup_ub_fconvo_size=7;\n\tend;\n\n_verify_firstconvo_fsize=\"&_CV_onoff_search_firstc_fsize\";\n\tif _verify_firstconvo_fsize=0 then do; \n\t\t_setup_init_fconvo_size=&_CV_assigned_firstc_fsize;\n\t\t_setup_lb_fconvo_size=&_CV_assigned_firstc_fsize;\n\t\t_setup_ub_fconvo_size=&_CV_assigned_firstc_fsize;\n\tend;\n\n\n\n\n/*model activation function*/\n/* ELU = 10 */\n/* RELU = 8 */\n/* Leaky = 12 */\n/* Softplus = 9 */\n/*Hyperbolic Tangent = 6*/\n\n\t_verify_search_actfunc=\"&_CV_onoff_search_actfunc\";\n\tif _verify_search_actfunc=\"yes\" then do; \n\t\t_setup_init_actfunc=&_CV_act_function;\n\t\t_setup_lb_actfunc=8;\n\t\t_setup_ub_actfunc=12;\n\tend;\n\tif _verify_search_actfunc ne \"yes\" then do; \n\t\t_setup_init_actfunc=&_CV_act_function;\n\t\t_setup_lb_actfunc=&_CV_act_function;\n\t\t_setup_ub_actfunc=&_CV_act_function;\n\tend;\n\n\n/* {name='_decision_gamma', type='C', lb=_setup_lb_gamma, ub=_setup_ub_gamma, init=_setup_init_gamma} */\n/* {name='_decision_stepsize', type='I', lb=_setup_lb_stepsize, ub=_setup_ub_stepsize, init=_setup_init_stepsize} */\n/* {name='_decision_minibatch', type='I', lb=_setup_lb_miniBSize, ub=_setup_ub_miniBSize, init=_setup_init_miniBSize} */\n/* {name='_decision_lr', type='C', lb=_setup_lb_lr, ub=_setup_ub_lr, init=_setup_init_lr} */\n/* {name='_decision_betadiff', type='C', lb=_setup_lb_betadiff, ub=_setup_ub_betadiff, init=_setup_init_betadiff} */\n/* {name='_decision_actfunction', type='I', lb=_setup_lb_actfunc, ub=_setup_ub_actfunc, init=_setup_init_actfunc} */\n\n\n\n\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"objectdetection\" then do;\n/*last convo filter width*/\n\t\t_verify_search_lc_width=\"&_CV_onoff_search_lc_width\";\n\t\tif _verify_search_lc_width=\"yes\" then do; \n\t\t\t_setup_init_lc_width=&_CV_OD_lastConvo_width;\n\t\t\t_setup_lb_lc_width=&_CV_lb_OD_lconvo_width_value_;\n\t\t\t_setup_ub_lc_width=&_CV_ub_OD_lconvo_width_value_;\n\t\tend;\n\t\tif _verify_search_lc_width ne \"yes\" then do; \n\t\t\t_setup_init_lc_width=&_CV_OD_lastConvo_width;\n\t\t\t_setup_lb_lc_width=&_CV_OD_lastConvo_width;\n\t\t\t_setup_ub_lc_width=&_CV_OD_lastConvo_width;\n\t\tend;\n\n/*last convo filter height*/\n\t\t_verify_search_lc_height=\"&_CV_onoff_search_lc_height\";\n\t\tif _verify_search_lc_height=\"yes\" then do; \n\t\t\t_setup_init_lc_height=&_CV_OD_lastConvo_height;\n\t\t\t_setup_lb_lc_height=&_CV_lb_OD_lconvo_height_value_;\n\t\t\t_setup_ub_lc_height=&_CV_ub_OD_lconvo_height_value_;\n\t\tend;\n\t\tif _verify_search_lc_height ne \"yes\" then do; \n\t\t\t_setup_init_lc_height=&_CV_OD_lastConvo_height;\n\t\t\t_setup_lb_lc_height=&_CV_OD_lastConvo_height;\n\t\t\t_setup_ub_lc_height=&_CV_OD_lastConvo_height;\n\t\tend;\n\n/*object scale*/\n\t\t_verify_search_obj=\"&_CV_onoff_search_obj\";\n\t\tif _verify_search_obj=\"yes\" then do; \n\t\t\t_setup_init_obj=&_CV_OD_Obj_scale_;\n\t\t\t_setup_lb_obj=&_CV_lb_OD_Obj_value_;\n\t\t\t_setup_ub_obj=&_CV_ub_OD_Obj_value_;\n\t\tend;\n\t\tif _verify_search_obj ne \"yes\" then do; \n\t\t\t_setup_init_obj=&_CV_OD_Obj_scale_;\n\t\t\t_setup_lb_obj=&_CV_OD_Obj_scale_;\n\t\t\t_setup_ub_obj=&_CV_OD_Obj_scale_;\n\t\tend;\n\n/*no object scale*/\n\t\t_verify_search_noobj=\"&_CV_onoff_search_noobj\";\n\t\tif _verify_search_noobj=\"yes\" then do; \n\t\t\t_setup_init_noobj=&_CV_OD_Not_Obj_scale_;\n\t\t\t_setup_lb_noobj=&_CV_lb_Not_Obj_value_;\n\t\t\t_setup_ub_noobj=&_CV_ub_Not_Obj_value_;\n\t\tend;\n\t\tif _verify_search_noobj ne \"yes\" then do; \n\t\t\t_setup_init_noobj=&_CV_OD_Not_Obj_scale_;\n\t\t\t_setup_lb_noobj=&_CV_OD_Not_Obj_scale_;\n\t\t\t_setup_ub_noobj=&_CV_OD_Not_Obj_scale_;\n\t\tend;\n\n/*coordinate scale*/\n\t\t_verify_search_coord=\"&_CV_onoff_search_coord\";\n\t\tif _verify_search_coord=\"yes\" then do; \n\t\t\t_setup_init_coord=&_CV_OD_coord_scale_;\n\t\t\t_setup_lb_coord=&_CV_lb_coord_value_;\n\t\t\t_setup_ub_coord=&_CV_ub_coord_value_;\n\t\tend;\n\t\tif _verify_search_coord ne \"yes\" then do; \n\t\t\t_setup_init_coord=&_CV_OD_coord_scale_;\n\t\t\t_setup_lb_coord=&_CV_OD_coord_scale_;\n\t\t\t_setup_ub_coord=&_CV_OD_coord_scale_;\n\t\tend;\n\n/*class scale*/\n\t\t_verify_search_class=\"&_CV_onoff_search_class\";\n\t\tif _verify_search_class=\"yes\" then do; \n\t\t\t_setup_init_class=&_CV_OD_class_scale_;\n\t\t\t_setup_lb_class=&_CV_lb_class_value_;\n\t\t\t_setup_ub_class=&_CV_ub_class_value_;\n\t\tend;\n\t\tif _verify_search_class ne \"yes\" then do; \n\t\t\t_setup_init_class=&_CV_OD_class_scale_;\n\t\t\t_setup_lb_class=&_CV_OD_class_scale_;\n\t\t\t_setup_ub_class=&_CV_OD_class_scale_;\n\t\tend;\n\n/*detection threshold*/\n\t\t_verify_search_detthresh=\"&_CV_onoff_search_detthresh\";\n\t\tif _verify_search_detthresh=\"yes\" then do; \n\t\t\t_setup_init_detthresh=&_CV_OD_detection_thresh_;\n\t\t\t_setup_lb_detthresh=&_CV_lb_detection_thresh_value_;\n\t\t\t_setup_ub_detthresh=&_CV_ub_detection_thresh_value_;\n\t\tend;\n\t\tif _verify_search_detthresh ne \"yes\" then do; \n\t\t\t_setup_init_detthresh=&_CV_OD_detection_thresh_;\n\t\t\t_setup_lb_detthresh=&_CV_OD_detection_thresh_;\n\t\t\t_setup_ub_detthresh=&_CV_OD_detection_thresh_;\n\t\tend;\n\n/*iou threshold*/\n\t\t_verify_search_iouhresh=\"&_CV_onoff_search_iouthresh\";\n\t\tif _verify_search_iouhresh=\"yes\" then do; \n\t\t\t_setup_init_iouthresh=&_CV_OD_iouthreshold_;\n\t\t\t_setup_lb_iouthresh=&_CV_lb_iouthreshold_value_;\n\t\t\t_setup_ub_iouthresh=&_CV_ub_iouthreshold_value_;\n\t\tend;\n\t\tif _verify_search_iouhresh ne \"yes\" then do; \n\t\t\t_setup_init_iouthresh=&_CV_OD_iouthreshold_;\n\t\t\t_setup_lb_iouthresh=&_CV_OD_iouthreshold_;\n\t\t\t_setup_ub_iouthresh=&_CV_OD_iouthreshold_;\n\t\tend;\n\n/*train iou threshold*/\n\t\t_verify_search_trainiou=\"&_CV_onoff_search_trainiou\";\n\t\tif _verify_search_trainiou=\"yes\" then do; \n\t\t\t_setup_init_trainiou=&_CV_iouTrainThreshold_;\n\t\t\t_setup_lb_trainiou=&_CV_lb_iouTrainThreshold_value_;\n\t\t\t_setup_ub_trainiou=&_CV_ub_iouTrainThreshold_value_;\n\t\tend;\n\t\tif _verify_search_trainiou ne \"yes\" then do; \n\t\t\t_setup_init_trainiou=&_CV_iouTrainThreshold_;\n\t\t\t_setup_lb_trainiou=&_CV_iouTrainThreshold_;\n\t\t\t_setup_ub_trainiou=&_CV_iouTrainThreshold_;\n\t\tend;\n\n\n\tend; /* end object detection search variable setup */\n\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"classification\" or _verify_modeling_task_=\"regression\" then do;\n\t\t_setup_init_FCneuronnum=&_CV_FC_neuron_num;\n\t\t_setup_lb_FCneuronnum=&_CV_FC_neuron_num;\n\t\t_setup_ub_FCneuronnum=&_CV_FC_neuron_num;\n\t\t_setup_init_FCactfunc=&_CV_FC_act_function;\n\t\t_setup_lb_FCactfunc=&_CV_FC_act_function;\n\t\t_setup_ub_FCactfunc=&_CV_FC_act_function;\n\n\n\t\t_verify_search_FCinclude=\"&_CV_include_FC_layer\";\n\t\tif _verify_search_FCinclude=\"yes\" then do; \n/*FC neuron count*/\n\t\t\t_verify_search_FCneuronnum=\"&_CV_onoff_search_FCneuronnum\";\n\t\t\tif _verify_search_FCneuronnum=\"yes\" then do; \n\t\t\t\t_setup_init_FCneuronnum=&_CV_FC_neuron_num;\n\t\t\t\t_setup_lb_FCneuronnum=&_CV_lb_FC_neuron_value_;\n\t\t\t\t_setup_ub_FCneuronnum=&_CV_ub_FC_neuron_value_;\n\t\t\tend;\n\t\t\tif _verify_search_FCneuronnum ne \"yes\" then do; \n\t\t\t\t_setup_init_FCneuronnum=&_CV_FC_neuron_num;\n\t\t\t\t_setup_lb_FCneuronnum=&_CV_FC_neuron_num;\n\t\t\t\t_setup_ub_FCneuronnum=&_CV_FC_neuron_num;\n\t\t\tend;\n\n/*FC activation function*/\n/* ELU = 10 */\n/* RELU = 8 */\n/* Leaky = 12 */\n/* Softplus = 9 */\n/*Hyperbolic Tangent = 6*/\n\t\t\t_verify_search_FCactfunc=\"&_CV_onoff_search_FCactfunc\";\n\t\t\tif _verify_search_FCactfunc=\"yes\" then do; \n\t\t\t\t_setup_init_FCactfunc=&_CV_FC_act_function;\n\t\t\t\t_setup_lb_FCactfunc=8;\n\t\t\t\t_setup_ub_FCactfunc=12;\n\t\t\tend;\n\t\t\tif _verify_search_FCactfunc ne \"yes\" then do; \n\t\t\t\t_setup_init_FCactfunc=&_CV_FC_act_function;\n\t\t\t\t_setup_lb_FCactfunc=&_CV_FC_act_function;\n\t\t\t\t_setup_ub_FCactfunc=&_CV_FC_act_function;\n\t\t\tend;\n\t\tend; /* end FC attributes */\n\tend; /* end of classification and regression */\n\n\tverify_search_dropout=\"&_CV_dropValue\";\n\tif verify_search_dropout=\"yes\" then do;\n/* Block 1 */\n\t\t_setup_init_Dropoutblock_1=0;\n\t\t_setup_lb_Dropoutblock_1=-10;\n\t\t_setup_ub_Dropoutblock_1=19;\n\n/* Block 2 */\n\t\t_setup_init_Dropoutblock_2=0;\n\t\t_setup_lb_Dropoutblock_2=-10;\n\t\t_setup_ub_Dropoutblock_2=19;\n\n/* Block 3 */\n\t\t_setup_init_Dropoutblock_3=0;\n\t\t_setup_lb_Dropoutblock_3=-10;\n\t\t_setup_ub_Dropoutblock_3=19;\n\n/* Block 4 */\n\t\t_setup_init_Dropoutblock_4=0;\n\t\t_setup_lb_Dropoutblock_4=-10;\n\t\t_setup_ub_Dropoutblock_4=19;\n\n/* Block 5 */\n\t\t_setup_init_Dropoutblock_5=0;\n\t\t_setup_lb_Dropoutblock_5=-10;\n\t\t_setup_ub_Dropoutblock_5=19;\n\n/* Block 6 */\n\t\t_setup_init_Dropoutblock_6=0;\n\t\t_setup_lb_Dropoutblock_6=-10;\n\t\t_setup_ub_Dropoutblock_6=19;\n\n/* Block 7 */\n\t\t_setup_init_Dropoutblock_7=0;\n\t\t_setup_lb_Dropoutblock_7=-10;\n\t\t_setup_ub_Dropoutblock_7=19;\n\n/* Block 8 */\n\t\t_setup_init_Dropoutblock_8=0;\n\t\t_setup_lb_Dropoutblock_8=-10;\n\t\t_setup_ub_Dropoutblock_8=19;\n\n/* Block 9 */\n\t\t_setup_init_Dropoutblock_9=0;\n\t\t_setup_lb_Dropoutblock_9=-10;\n\t\t_setup_ub_Dropoutblock_9=19;\n\n/* Block 10 */\n\t\t_setup_init_Dropoutblock_10=0;\n\t\t_setup_lb_Dropoutblock_10=-10;\n\t\t_setup_ub_Dropoutblock_10=19;\n\n/* Block 11 */\n\t\t_setup_init_Dropoutblock_11=0;\n\t\t_setup_lb_Dropoutblock_11=-10;\n\t\t_setup_ub_Dropoutblock_11=19;\n\n/* Block 12 */\n\t\t_setup_init_Dropoutblock_12=0;\n\t\t_setup_lb_Dropoutblock_12=-10;\n\t\t_setup_ub_Dropoutblock_12=19;\n\n/* Block 13 */\n\t\t_setup_init_Dropoutblock_13=0;\n\t\t_setup_lb_Dropoutblock_13=-10;\n\t\t_setup_ub_Dropoutblock_13=19;\n\n/* Block 14 */\n\t\t_setup_init_Dropoutblock_14=0;\n\t\t_setup_lb_Dropoutblock_14=-10;\n\t\t_setup_ub_Dropoutblock_14=19;\n\n/* Block 15 */\n\t\t_setup_init_Dropoutblock_15=0;\n\t\t_setup_lb_Dropoutblock_15=-10;\n\t\t_setup_ub_Dropoutblock_15=19;\n/* robert come back here */\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\tif _verify_modelbackbone_=\"resnet50_caffe\" or _verify_modelbackbone_=\"autotune\" or _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n/* Block 16 */\n\t\t\t_setup_init_Dropoutblock_16=0;\n\t\t\t_setup_lb_Dropoutblock_16=-10;\n\t\t\t_setup_ub_Dropoutblock_16=19;\n\t\tend;\n\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n/* Block 16 */\n\t\t\t_setup_init_Dropoutblock_16=0;\n\t\t\t_setup_lb_Dropoutblock_16=0;\n\t\t\t_setup_ub_Dropoutblock_16=0;\n\t\tend;\n\tend; /*ending dropout search = yes*/\n\n\n\tif verify_search_dropout ne \"yes\" then do;\n/* Block 1 */\n\t\t_setup_init_Dropoutblock_1=&_CV_dropout_block1;\n\t\t_setup_lb_Dropoutblock_1=&_CV_dropout_block1;\n\t\t_setup_ub_Dropoutblock_1=&_CV_dropout_block1;\n\n/* Block 2 */\n\t\t_setup_init_Dropoutblock_2=&_CV_dropout_block2;\n\t\t_setup_lb_Dropoutblock_2=&_CV_dropout_block2;\n\t\t_setup_ub_Dropoutblock_2=&_CV_dropout_block2;\n\n/* Block 3 */\n\t\t_setup_init_Dropoutblock_3=&_CV_dropout_block3;\n\t\t_setup_lb_Dropoutblock_3=&_CV_dropout_block3;\n\t\t_setup_ub_Dropoutblock_3=&_CV_dropout_block3;\n\n/* Block 4 */\n\t\t_setup_init_Dropoutblock_4=&_CV_dropout_block4;\n\t\t_setup_lb_Dropoutblock_4=&_CV_dropout_block4;\n\t\t_setup_ub_Dropoutblock_4=&_CV_dropout_block4;\n\n/* Block 5 */\n\t\t_setup_init_Dropoutblock_5=&_CV_dropout_block5;\n\t\t_setup_lb_Dropoutblock_5=&_CV_dropout_block5;\n\t\t_setup_ub_Dropoutblock_5=&_CV_dropout_block5;\n\n/* Block 6 */\n\t\t_setup_init_Dropoutblock_6=&_CV_dropout_block6;\n\t\t_setup_lb_Dropoutblock_6=&_CV_dropout_block6;\n\t\t_setup_ub_Dropoutblock_6=&_CV_dropout_block6;\n\n/* Block 7 */\n\t\t_setup_init_Dropoutblock_7=&_CV_dropout_block7;\n\t\t_setup_lb_Dropoutblock_7=&_CV_dropout_block7;\n\t\t_setup_ub_Dropoutblock_7=&_CV_dropout_block7;\n\n/* Block 8 */\n\t\t_setup_init_Dropoutblock_8=&_CV_dropout_block8;\n\t\t_setup_lb_Dropoutblock_8=&_CV_dropout_block8;\n\t\t_setup_ub_Dropoutblock_8=&_CV_dropout_block8;\n\n/* Block 9 */\n\t\t_setup_init_Dropoutblock_9=&_CV_dropout_block9;\n\t\t_setup_lb_Dropoutblock_9=&_CV_dropout_block9;\n\t\t_setup_ub_Dropoutblock_9=&_CV_dropout_block9;\n\n/* Block 10 */\n\t\t_setup_init_Dropoutblock_10=&_CV_dropout_block10;\n\t\t_setup_lb_Dropoutblock_10=&_CV_dropout_block10;\n\t\t_setup_ub_Dropoutblock_10=&_CV_dropout_block10;\n\n/* Block 11 */\n\t\t_setup_init_Dropoutblock_11=&_CV_dropout_block11;\n\t\t_setup_lb_Dropoutblock_11=&_CV_dropout_block11;\n\t\t_setup_ub_Dropoutblock_11=&_CV_dropout_block11;\n\n/* Block 12 */\n\t\t_setup_init_Dropoutblock_12=&_CV_dropout_block12;\n\t\t_setup_lb_Dropoutblock_12=&_CV_dropout_block12;\n\t\t_setup_ub_Dropoutblock_12=&_CV_dropout_block12;\n\n/* Block 13 */\n\t\t_setup_init_Dropoutblock_13=&_CV_dropout_block13;\n\t\t_setup_lb_Dropoutblock_13=&_CV_dropout_block13;\n\t\t_setup_ub_Dropoutblock_13=&_CV_dropout_block13;\n\n/* Block 14 */\n\t\t_setup_init_Dropoutblock_14=&_CV_dropout_block14;\n\t\t_setup_lb_Dropoutblock_14=&_CV_dropout_block14;\n\t\t_setup_ub_Dropoutblock_14=&_CV_dropout_block14;\n\n/* Block 15 */\n\t\t_setup_init_Dropoutblock_15=&_CV_dropout_block15;\n\t\t_setup_lb_Dropoutblock_15=&_CV_dropout_block15;\n\t\t_setup_ub_Dropoutblock_15=&_CV_dropout_block15;\n\n/* Block 16 */\n\t\t_setup_init_Dropoutblock_16=&_CV_dropout_block16;\n\t\t_setup_lb_Dropoutblock_16=&_CV_dropout_block16;\n\t\t_setup_ub_Dropoutblock_16=&_CV_dropout_block16;\n\n\tend; /*ending dropout search = no*/\n\n/* identify model backbone */\n\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t_setup_init_backbone=2;\n\t\t_setup_lb_backbone=1;\n\t\t_setup_ub_backbone=3;\n\tend;\n\tif _verify_modelbackbone_ ne \"autotune\" then do;\n\t\tif _verify_modelbackbone_= \"resnet50_caffe\" then do;\n\t\t\t_setup_init_backbone=1;\n\t\t\t_setup_lb_backbone=1;\n\t\t\t_setup_ub_backbone=1;\n\t\tend;\n\t\tif _verify_modelbackbone_= \"Tiny-Yolov2\" then do;\n\t\t\t_setup_init_backbone=2;\n\t\t\t_setup_lb_backbone=2;\n\t\t\t_setup_ub_backbone=2;\n\t\tend;\n\t\tif _verify_modelbackbone_= \"ShuffleNetV2\" then do;\n\t\t\t_setup_init_backbone=3;\n\t\t\t_setup_lb_backbone=3;\n\t\t\t_setup_ub_backbone=3;\n\t\tend;\n\n\tend;\nrun;\n\n\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"classification\" or _verify_modeling_task_=\"regression\" then do;\n\n \t\tsource caslInit; \n\n/* filename=\"&_CV_location_for_results_data\" || \"init\" || (String)_bbEvalTag_ || \".txt\"; */\n/*          file nodes filename; */\n\n   \t\t\tloadactionset 'deeplearn';\n   \t\t\tloadactionset 'image';\n   \t\t\tloadactionset 'table';\n   \t\t\tloadactionset 'sampling';\n\n   \t\t\ttable.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n   \t\t\ttable.addCasLib result=suppress / name='libCVmod', path=\"&_CV_CVmodel_location\" subdirectories=true;\n\n\t\t\ttable.loadTable /caslib='libres', path=\"&_imageDS_..sashdat\" casOut={name=\"&_imageDS_\", replace=true,caslib='libres'};\n\t\t\t\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\n\n/* Resize the images to 224 by 224 */\n  \t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=1, caslib=\"libres\"}\n\t\t\t\tcopyVars={'_path_',\"&_CV_tarVar_name_\"}\n\t\t\t\timage=\"&_CV_inpVar_name_\",\n\t\t\t\timageTable={name=\"&_imageDS_\",caslib=\"libres\"}\n\t\t\t\timageFunctions={\n\t\t\t\t\t{functionOptions=\n\t\t\t\t\t\t{functionType='RESIZE', height=&_image_input_height_, width=&_image_input_width_}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=True, caslib=\"libres\"}\n\t\t\t\t\tcopyVars={'_path_',\"&_CV_tarVar_name_\"}\n\t\t\t\t\timage=\"&_CV_inpVar_name_\",\n    \t\t\t\timagefunctions={\n\t\t\t\t\t\t{functionOptions=\n\t\t\t\t\t\t\t{functionType='CONVERT_COLOR' type=\"COLOR2GRAY\"}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n    \t\t\t\ttable={name=\"&_imageDS_\", caslib=\"libres\"};\n\t\t\tend;\n\n\n\n\t\t\t_set_train_sample_percent_=100-&_CV_valid_partition_per_;\n/* Create sample for localization model */\n\t\t\taction srs result=suppress / table={name=\"&_imageDS_\", caslib=\"libres\"}\n      \t\t\tsamppct=_set_train_sample_percent_ \n\t\t\t\tsampPct2=&_CV_valid_partition_per_ \n\t\t\t\tseed=&_CV_partition_seed \n\t\t\t\tpartInd=true\n      \t\t\toutput={\n\t\t\t\t\tcasout={name=\"&_imageDS_\",replace=\"TRUE\", caslib=\"libres\"},\n               \tcopyvars=\"ALL\", partIndName=\"&_CV_partition_var_\"\n\t\t\t\t}; \n\n/* Shuffle data per good practice */\n\t\t\ttable.shuffle result=suppress / table={name=\"&_imageDS_\", caslib=\"libres\"}\n \t\t\t\tcasout={name=\"&_imageDS_\", replace=1, caslib=\"libres\"};\n;\n\n\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights.sashdat' casOut={name='resnet50_caffe_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights_attr.sashdat' casOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights' table='resnet50_caffe_weights_attr';\n\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat' casOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights_attr.sashdat' casOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights' table='Tiny-Yolov2_weights_attr';\n\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights.sashdat' casOut={name='resnet50_caffe_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights_attr.sashdat' casOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights' table='resnet50_caffe_weights_attr';\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat' casOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights_attr.sashdat' casOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights' table='Tiny-Yolov2_weights_attr';\n\t\t\tend;\n\t\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\t\t\tend;\n\nrunCode / code= \"\ndata casuser.objectivefunctionhold;\ncurrentobj=99999999;\nrun;\n\";\n\t\tendsource;\n\n\t\n\n\n\t\tsource evalcode; \n\n/* filename=\"&_CV_location_for_results_data\" || (String)_bbEvalTag_ || \".txt\"; */\n/*          file nodes filename; */\n\n\n/* Set first convo filter size */\n\n\t\t\t\tif _decision_fconvo_size=1 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=3+0;\n\t\t\t\t\t\t_CV_firstConvo_height=3+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=2 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=3+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=3 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=3+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=4 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=5 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=7+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=6 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=7+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=7 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=7+0;\n\t\t\t\t\t\t_CV_firstConvo_height=7+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\n\n\n\n/*********************************/\n/*********************************/\n/* Classification modeling */\n/*********************************/\n/*********************************/\n/* filename='/sasdata/roblan/Special Projects/Point and click CV/mytest _' || (String)_bbEvalTag_ || '.txt'; */\n/*          file nodes filename; */\n/* identify model backbone */\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\t\t\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\t\t\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\t\t\tend;\n\t\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe.sashdat' casOut={name='resnet50_caffe', replace=true};\n/* remove current output layer */\n\t\t\t\tremovelayer result=suppress / model='resnet50_caffe' name='fc1000';\n\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=_decision_FCneuronnum act='elu' dropout=0}  srcLayers={'pool5'};  \n\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=_decision_FCactfunc;\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'pool5'};\n\t\t\t\t\tend;\n \t\t\t\tend; /* finished output layer setup for classification model */\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'pool5'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'pool5'};\n\t\t\t\t\tend;\n\t\t\t\tend; /* finished output layer setup for regression model */\n\n\n/*****************************/\n/* Remove biase from convo1 */\n/*****************************/\n\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.no_bias'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\n/*********************/\n/*Apply Dropout */\n/*********************/\n\n\t\t\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\t\t\t\t/*verify_apply_dropout=\"&_CV_dropValue\";*/  /* Robert - bug.  Need to still set dropout even if search is set to no.*/\n\t\t\t\t/*if verify_apply_dropout=\"yes\" then do;*/\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n/*end;*/ /* end applying dropout */\n\n\n/* change model activation functions */\n\t\t\t\t_verify_activation_function=_decision_actfunction;\n\t\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\t\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\t\tend;\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\t\t\t\tif _chk_image_height_<244 or _chk_image_width_<244 then do;\n/* Update Stride for last pool layer */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\t\tinitWeights='resnet50_caffe_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\t\toptimizer={minibatchsize=_decision_minibatch, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n\n\n\n\t\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t;\n\t\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\n\n\n\n\t\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\n\t\t\t\t\tsend_response(f);\n\t\t\t\t\trun;\n\t\t\t\tend;  /* End classification model training code  */\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\t\tinitWeights='resnet50_caffe_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\t\toptimizer={minibatchsize=_decision_minibatch, \n        \t\t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\n\n\t\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t;\n\t\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\n\n\n\t\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\t\t\tsend_response(f);\n\t\t\t\t\trun;\n\t\t\t\tend; /* End regression model training code  */\n\t\t\tend; /* End ResNet50 model setup */\n\n\n/************************************/\n/* tiny-YOLOv2 for classification */\n/************************************/\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\t\t\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\t\t\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2.sashdat' casOut={name='Tiny-Yolov2', replace=true};\n\n\t\t\t\tremovelayer / model='Tiny-Yolov2' name='detection1';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' \n\t\t\t\t\tlayer={type='BATCHNORM' act='leaky'} srcLayers={'convo.9'}; \n\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='fclayer1' \n      \t\t\t\tlayer={type='FULLCONNECT' n=_decision_FCneuronnum act='elu' dropout=0}  srcLayers={'b_n_9'};  \n\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t_verify_FC_activation_function=_decision_FCactfunc;\n\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\tend;\n\n\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'convo.9'};\n\t\t\t\tend;\n\t\t\tend;\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' \n\t\t\t\t\tlayer={type='BATCHNORM' act='leaky'} srcLayers={'convo.9'}; \n\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='fclayer1' \n      \t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'b_n_9'};  \n\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\tend;\n\n\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'convo.9'};\n\t\t\t\tend;\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=_decision_actfunction;\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Leaky Activation Function'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\n\n\t\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\n\n\n\t\t\tverify_apply_dropout=\"&_CV_dropValue\";\n/* if verify_apply_dropout=\"yes\" then do; */\n\n\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\n\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool1' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\n\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.2' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\n\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool2' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\n\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.3' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\n\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool3' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\n\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.4' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool4' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\n\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.5' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\n\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.6' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool6' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\n\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.7' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\n\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.8' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.9' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\n\n\n\n/* end;  end applying dropout */\n\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\n\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n/*begin Resnet for object detection*/\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\tinitWeights='Tiny-Yolov2_weights'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\toptimizer={minibatchsize=_decision_minibatch, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\tseed=12345\n\t\t\t\t;\n\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t;\n\n\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\t\tsend_response(f);\n\t\t\t\trun;\n\t\t\tend;\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n/*begin Tiny-Yolov2 for object detection*/\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\tinitWeights='Tiny-Yolov2_weights'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t        ValidTable={name=\"&_imageDS_\",where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\toptimizer={minibatchsize=_decision_minibatch, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\tseed=12345\n\t\t\t\t;\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t;\n\n\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\t\tsend_response(f);\n\t\t\t\trun;\n\t\t\tend;\n\t\tend; /* End Tiny-YOLOv2 model for classification*/\n\n\n/************************************/\n/* ShuffleNetV2 for classification */\n/************************************/\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\t\t\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\t\t\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2.sashdat' casOut={name='ShuffleNetV2', replace=true};\n\n/* step 1 remove output layer - line 922 reference */\n \t\t\t\tremovelayer result=suppress / model='ShuffleNetV2' name='outputlayer_2';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=_decision_FCneuronnum act='elu' dropout=0}  srcLayers={'global_avg_pool'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=_decision_FCactfunc;\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'global_avg_pool'};\n\t\t\t\t\tend;\n \t\t\t\tend; /* finished output layer setup for classification model */\n\n\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'global_avg_pool'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'global_avg_pool'};\n\t\t\t\t\tend;\n\t\t\t\tend; /* finished output layer setup for regression model */\n\n\n\n\t\t\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block5/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block6/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block7/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block8/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\n\n/* change model activation functions */\n\t\t\t\t_verify_activation_function=_decision_actfunction;\n\t\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\t\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\t\tend;\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\t\t\t\tif _chk_image_height_<244 or _chk_image_width_<244 then do;\n/* Update Stride for last pool layer */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\t\tinitWeights='ShuffleNetV2_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\t\toptimizer={minibatchsize=_decision_minibatch, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n\n\n\n\t\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t;\n\t\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\n\n\n\n\t\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\n\t\t\t\t\tsend_response(f);\n\t\t\t\t\trun;\n\t\t\t\tend;  /* End classification model training code  */\n\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name='autotune_bestweights_', replace=1}\n\t\t\t\t\t\tinitWeights='ShuffleNetV2_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n        \t\t\t\toptimizer={minibatchsize=_decision_minibatch, \n        \t\t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize,\n       \t\t\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t;\n\t\t\t\t\tError1=0+s['ScoreInfo'][3]['Value'];\n\n/* save best model weights */\n\tif _bbEvalTag_ =1 then do;\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n/*   \t\t\t\t\t\t\t\t\t\ttable.save /  */\n/*   \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"   */\n/*     \t\t\t\t\t\t\t\t\ttable=\"&_imageDS_\" */\n/*     \t\t\t\t\t\t\t\t\tname=\"&_imageDS_\" */\n/*     \t\t\t\t\t\t\t\t\treplace=True; */\n/*  */\n\n\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\tif Error1 < globalobj then do;\n\n\t\t\t\t\t_holdvalue_=Error1;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n\n\n\n\t\t\t\t\tf['objVal']=Error1+0; \n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\t\t\tsend_response(f);\n\t\t\t\t\trun;\n\t\t\t\tend; /* End regression model training code  */\n\t\t\tend; /* End ResNet50 model setup */\n\n\ntable.dropTable / caslib=\"libCVmod\" name=\"resnet50_caffe\" quiet=TRUE;\ntable.dropTable / caslib=\"libCVmod\" name=\"Tiny-Yolov2\" quiet=TRUE;\ntable.dropTable / caslib=\"libCVmod\" name=\"ShuffleNetV2\" quiet=TRUE;\n\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"resnet50_caffe\" quiet=TRUE; */\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"Tiny-Yolov2\" quiet=TRUE; */\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"ShuffleNetV2\" quiet=TRUE; */\n\n\n\n\n\n\n\tendsource;\n\nsource cvcleanup;\n  \t\t\t\t\t\t\t\t\t\ttable.save / \n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable={name=\"&_imageDS_\", caslib=\"libres\"}\n    \t\t\t\t\t\t\t\t\tname=\"&_imageDS_\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n  \t\t\t\t\t\t\t\t\t\ttable.save / \n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable={name=\"objectivefunctionhold\", caslib=\"casuser\"}\n    \t\t\t\t\t\t\t\t\tname=\"objectivefunctionhold\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\nendsource;\n\n\n\n\t_verify_previous_search=\"&_CV_continue_previous_search\"; /* classification, regression or objectdetection */\n\tif _verify_previous_search ne \"yes\" then do;\n\n\t\toptimization.solveblackbox / \n\t\tdecVars = {\n\n\t\t{name='_decision_modelbackbone', type='I', lb=_setup_lb_backbone, ub=_setup_ub_backbone, init=_setup_init_backbone}\n\n\t\t{name='_decision_gamma', type='C', lb=_setup_lb_gamma, ub=_setup_ub_gamma, init=_setup_init_gamma}\n\t\t{name='_decision_stepsize', type='I', lb=_setup_lb_stepsize, ub=_setup_ub_stepsize, init=_setup_init_stepsize}\n\t\t{name='_decision_minibatch', type='I', lb=_setup_lb_miniBSize, ub=_setup_ub_miniBSize, init=_setup_init_miniBSize}\n\t\t{name='_decision_lr', type='C', lb=_setup_lb_lr, ub=_setup_ub_lr, init=_setup_init_lr}\n\t\t{name='_decision_betadiff', type='C', lb=_setup_lb_betadiff, ub=_setup_ub_betadiff, init=_setup_init_betadiff}\n\t\t{name='_decision_l1reg', type='C', lb=_setup_lb_l1reg, ub=_setup_ub_l1reg, init=_setup_init_l1reg}\n\t\t{name='_decision_l2reg', type='C', lb=_setup_lb_l2reg, ub=_setup_ub_l2reg, init=_setup_init_l2reg}\n\t\t{name='_decision_gradclips', type='C', lb=_setup_lb_gradclips, ub=_setup_ub_gradclips, init=_setup_init_gradclips}\n\n\t\t{name='_decision_actfunction', type='I', lb=_setup_lb_actfunc, ub=_setup_ub_actfunc, init=_setup_init_actfunc}\n\n\t\t{name='_decision_fconvo_size', type='I', lb=_setup_lb_fconvo_size, ub=_setup_ub_fconvo_size, init=_setup_init_fconvo_size}\t\n\n\t\t{name='_decision_FCneuronnum', type='I', lb=_setup_lb_FCneuronnum, ub=_setup_ub_FCneuronnum, init=_setup_init_FCneuronnum}\n\t\t{name='_decision_FCactfunc', type='I', lb=_setup_lb_FCactfunc, ub=_setup_ub_FCactfunc, init=_setup_init_FCactfunc}\n\n\t\t{name='_decision_Dropoutblock_1_', type='I', lb=_setup_lb_Dropoutblock_1, ub=_setup_ub_Dropoutblock_1, init=_setup_init_Dropoutblock_1}\n\t\t{name='_decision_Dropoutblock_2', type='I', lb=_setup_lb_Dropoutblock_2, ub=_setup_ub_Dropoutblock_2, init=_setup_init_Dropoutblock_2}\n\t\t{name='_decision_Dropoutblock_3', type='I', lb=_setup_lb_Dropoutblock_3, ub=_setup_ub_Dropoutblock_3, init=_setup_init_Dropoutblock_3}\n\t\t{name='_decision_Dropoutblock_4', type='I', lb=_setup_lb_Dropoutblock_4, ub=_setup_ub_Dropoutblock_4, init=_setup_init_Dropoutblock_4}\n\t\t{name='_decision_Dropoutblock_5', type='I', lb=_setup_lb_Dropoutblock_5, ub=_setup_ub_Dropoutblock_5, init=_setup_init_Dropoutblock_5}\n\t\t{name='_decision_Dropoutblock_6', type='I', lb=_setup_lb_Dropoutblock_6, ub=_setup_ub_Dropoutblock_6, init=_setup_init_Dropoutblock_6}\n\t\t{name='_decision_Dropoutblock_7', type='I', lb=_setup_lb_Dropoutblock_7, ub=_setup_ub_Dropoutblock_7, init=_setup_init_Dropoutblock_7}\n\t\t{name='_decision_Dropoutblock_8', type='I', lb=_setup_lb_Dropoutblock_8, ub=_setup_ub_Dropoutblock_8, init=_setup_init_Dropoutblock_8}\n\t\t{name='_decision_Dropoutblock_9', type='I', lb=_setup_lb_Dropoutblock_9, ub=_setup_ub_Dropoutblock_9, init=_setup_init_Dropoutblock_9}\n\t\t{name='_decision_Dropoutblock_10', type='I', lb=_setup_lb_Dropoutblock_10, ub=_setup_ub_Dropoutblock_10, init=_setup_init_Dropoutblock_10}\n\t\t{name='_decision_Dropoutblock_11', type='I', lb=_setup_lb_Dropoutblock_11, ub=_setup_ub_Dropoutblock_11, init=_setup_init_Dropoutblock_11}\n\t\t{name='_decision_Dropoutblock_12', type='I', lb=_setup_lb_Dropoutblock_12, ub=_setup_ub_Dropoutblock_12, init=_setup_init_Dropoutblock_12}\n\t\t{name='_decision_Dropoutblock_13', type='I', lb=_setup_lb_Dropoutblock_13, ub=_setup_ub_Dropoutblock_13, init=_setup_init_Dropoutblock_13}\n\t\t{name='_decision_Dropoutblock_14', type='I', lb=_setup_lb_Dropoutblock_14, ub=_setup_ub_Dropoutblock_14, init=_setup_init_Dropoutblock_14}\n\t\t{name='_decision_Dropoutblock_15', type='I', lb=_setup_lb_Dropoutblock_15, ub=_setup_ub_Dropoutblock_15, init=_setup_init_Dropoutblock_15}\n\t\t{name='_decision_Dropoutblock_16', type='I', lb=_setup_lb_Dropoutblock_16, ub=_setup_ub_Dropoutblock_16, init=_setup_init_Dropoutblock_16}\n\t\t},\n\n\t\tobj = {{name='objVal', type='min'}},\n\t\toutputTables={includeall=true}\n\t\tdisplay={excludeAll=FALSE} \n\t\tprimalOut={name='primal_out',replace=TRUE}\n\t\t/* CACHEIN={name='Cachein_NAS_April_28th'}   */\n\t\t/* firstgen={name='Mydemo_firstGen_best'}   */\n\t\tCACHEOUT={name=\"_temp_ds_results_\", replace=true, caslib=\"casuser\"}\n\t\tfunc = {init=caslInit, eval=evalcode, cleanup=cvcleanup},\n\t\tnParallel=1,\n      \t\tpopsize=&_CV_population_s,  \n      \t\tnlocal=&_CV_gsslocal_s,\n      \t\tmaxGen=&_CV_gagenerations_s,\n\t  \t\tnabsfconv=100000000,\n\t\tmaxtime=&_CV_maxtraintime\n\t\tSeed=&_CV_autotuneseed;\n/* run; */\n\tend;\n\n\n\t_verify_previous_search=\"&_CV_continue_previous_search\"; /* classification, regression or objectdetection */\n\tif _verify_previous_search = \"yes\" then do;\n\n\t\toptimization.solveblackbox / \n\t\tdecVars = {\n\n\t\t{name='_decision_modelbackbone', type='I', lb=_setup_lb_backbone, ub=_setup_ub_backbone, init=_setup_init_backbone}\n\n\t\t{name='_decision_gamma', type='C', lb=_setup_lb_gamma, ub=_setup_ub_gamma, init=_setup_init_gamma}\n\t\t{name='_decision_stepsize', type='I', lb=_setup_lb_stepsize, ub=_setup_ub_stepsize, init=_setup_init_stepsize}\n\t\t{name='_decision_minibatch', type='I', lb=_setup_lb_miniBSize, ub=_setup_ub_miniBSize, init=_setup_init_miniBSize}\n\t\t{name='_decision_lr', type='C', lb=_setup_lb_lr, ub=_setup_ub_lr, init=_setup_init_lr}\n\t\t{name='_decision_betadiff', type='C', lb=_setup_lb_betadiff, ub=_setup_ub_betadiff, init=_setup_init_betadiff}\n\t\t{name='_decision_l1reg', type='C', lb=_setup_lb_l1reg, ub=_setup_ub_l1reg, init=_setup_init_l1reg}\n\t\t{name='_decision_l2reg', type='C', lb=_setup_lb_l2reg, ub=_setup_ub_l2reg, init=_setup_init_l2reg}\n\t\t{name='_decision_actfunction', type='I', lb=_setup_lb_actfunc, ub=_setup_ub_actfunc, init=_setup_init_actfunc}\n\t\t{name='_decision_gradclips', type='C', lb=_setup_lb_gradclips, ub=_setup_ub_gradclips, init=_setup_init_gradclips}\n\n\t\t{name='_decision_FCneuronnum', type='I', lb=_setup_lb_FCneuronnum, ub=_setup_ub_FCneuronnum, init=_setup_init_FCneuronnum}\n\t\t{name='_decision_FCactfunc', type='I', lb=_setup_lb_FCactfunc, ub=_setup_ub_FCactfunc, init=_setup_init_FCactfunc}\n\t\t{name='_decision_fconvo_size', type='I', lb=_setup_lb_fconvo_size, ub=_setup_ub_fconvo_size, init=_setup_init_fconvo_size}\n\t\t\n\t\t{name='_decision_Dropoutblock_1_', type='I', lb=_setup_lb_Dropoutblock_1, ub=_setup_ub_Dropoutblock_1, init=_setup_init_Dropoutblock_1}\n\t\t{name='_decision_Dropoutblock_2', type='I', lb=_setup_lb_Dropoutblock_2, ub=_setup_ub_Dropoutblock_2, init=_setup_init_Dropoutblock_2}\n\t\t{name='_decision_Dropoutblock_3', type='I', lb=_setup_lb_Dropoutblock_3, ub=_setup_ub_Dropoutblock_3, init=_setup_init_Dropoutblock_3}\n\t\t{name='_decision_Dropoutblock_4', type='I', lb=_setup_lb_Dropoutblock_4, ub=_setup_ub_Dropoutblock_4, init=_setup_init_Dropoutblock_4}\n\t\t{name='_decision_Dropoutblock_5', type='I', lb=_setup_lb_Dropoutblock_5, ub=_setup_ub_Dropoutblock_5, init=_setup_init_Dropoutblock_5}\n\t\t{name='_decision_Dropoutblock_6', type='I', lb=_setup_lb_Dropoutblock_6, ub=_setup_ub_Dropoutblock_6, init=_setup_init_Dropoutblock_6}\n\t\t{name='_decision_Dropoutblock_7', type='I', lb=_setup_lb_Dropoutblock_7, ub=_setup_ub_Dropoutblock_7, init=_setup_init_Dropoutblock_7}\n\t\t{name='_decision_Dropoutblock_8', type='I', lb=_setup_lb_Dropoutblock_8, ub=_setup_ub_Dropoutblock_8, init=_setup_init_Dropoutblock_8}\n\t\t{name='_decision_Dropoutblock_9', type='I', lb=_setup_lb_Dropoutblock_9, ub=_setup_ub_Dropoutblock_9, init=_setup_init_Dropoutblock_9}\n\t\t{name='_decision_Dropoutblock_10', type='I', lb=_setup_lb_Dropoutblock_10, ub=_setup_ub_Dropoutblock_10, init=_setup_init_Dropoutblock_10}\n\t\t{name='_decision_Dropoutblock_11', type='I', lb=_setup_lb_Dropoutblock_11, ub=_setup_ub_Dropoutblock_11, init=_setup_init_Dropoutblock_11}\n\t\t{name='_decision_Dropoutblock_12', type='I', lb=_setup_lb_Dropoutblock_12, ub=_setup_ub_Dropoutblock_12, init=_setup_init_Dropoutblock_12}\n\t\t{name='_decision_Dropoutblock_13', type='I', lb=_setup_lb_Dropoutblock_13, ub=_setup_ub_Dropoutblock_13, init=_setup_init_Dropoutblock_13}\n\t\t{name='_decision_Dropoutblock_14', type='I', lb=_setup_lb_Dropoutblock_14, ub=_setup_ub_Dropoutblock_14, init=_setup_init_Dropoutblock_14}\n\t\t{name='_decision_Dropoutblock_15', type='I', lb=_setup_lb_Dropoutblock_15, ub=_setup_ub_Dropoutblock_15, init=_setup_init_Dropoutblock_15}\n\t\t{name='_decision_Dropoutblock_16', type='I', lb=_setup_lb_Dropoutblock_16, ub=_setup_ub_Dropoutblock_16, init=_setup_init_Dropoutblock_16}\n\t\t},\n\n\t\tobj = {{name='objVal', type='min'}},\n\t\toutputTables={includeall=true}\n\t\tdisplay={excludeAll=FALSE} \n\t\tprimalOut={name='primal_out',replace=TRUE}\n\t\tCACHEIN={name='_Cachein_table', caslib=\"casuser\"}  \n\t\tfirstgen={name='_firstgen_table', caslib=\"casuser\"}  \n\t\tCACHEOUT={name=\"_temp_ds_results_\", replace=true, caslib=\"casuser\"}\n\t\tfunc = {init=caslInit, eval=evalcode, cleanup=cvcleanup},\n\t\tnParallel=1,\n      \t\tpopsize=&_CV_population_s,  \n     \t\tnlocal=&_CV_gsslocal_s,\n      \t\tmaxGen=&_CV_gagenerations_s,\n\t  \t\tnabsfconv=100000000,\n\t\tmaxtime=&_CV_maxtraintime\n\t\tSeed=&_CV_autotuneseed;\n/* run; */\n\tend;\nend; /* ending classification model setup */\n\n\n\n/******************************/\n/* Begin Object _Detection_\t\t*/\n/******************************/\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"objectdetection\" then do;\n\t\tsource caslInit;\n\t\tloadactionset 'deeplearn';\n\t\tloadactionset 'image';\n\t\tloadactionset 'table';\n\t\tloadactionset 'sampling';\n\t\t  table.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n\t\t\ttable.addCasLib result=suppress / name='libCVmod', \n\t\t\tpath=\"&_CV_CVmodel_location\" subdirectories=true;\n\n/* filename=\"&_CV_location_for_results_data\" || \"init\" || (String)_bbEvalTag_ || \".txt\"; */\n/*          file nodes filename; */\n\t\t\ttable.loadTable /caslib='libres', path=\"&_imageDS_..sashdat\" casOut={name=\"&_imageDS_\", replace=true,caslib='libres'};\n\n\n\t\t* Create set up variables *;\n\t\tname=\"_Object\";\n\t\tappendNames={\"_\", \"_x\", \"_y\", \"_width\", \"_height\"};\n\t\t_ObjectTargets_={\"_nObjects_\"};\n\t\t* Create the ObjectsTarget variable with the list of names *;\n\t\ti=0;\n\n\t\tdo until (i=&_CV_object_num_);\n\n\t\t\t/*     do i over {0,1,2}; */\n\t\t\tdo col over appendNames;\n\t\t\t\tvalue=name || i || col;\n\t\t\t\t_ObjectTargets_=_ObjectTargets_ + value;\n\t\t\tend;\n\t\t\ti=i+1;\n\t\tend;\n\t\t\t\t\n\n/* Resize the images */\n\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=1, caslib=\"libres\"} \n\t\t\tcopyVars=_ObjectTargets_\n\t\t\timage=\"&_CV_inpVar_name_\", imageTable={name=\"&_imageDS_\",caslib=\"libres\"} \n\t\t\timageFunctions={{functionOptions={functionType='RESIZE', \n\t\t\theight=&_image_input_height_, width=&_image_input_width_}}};\n\n\t\t_verify_image_color=\"&_image_input_color_\";\n\t\t/* yes no */\n\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=True, caslib=\"libres\"} \n\t\t\t\tcopyVars=_ObjectTargets_\n\t\t\t\timage=\"&_CV_inpVar_name_\", \n\t\t\t\timagefunctions={{functionOptions={functionType='CONVERT_COLOR'\n\t\t\t\ttype=\"COLOR2GRAY\"}}} table={name=\"&_imageDS_\", caslib=\"libres\"};\n\t\tend;\n\n\t\t_set_train_sample_percent_=100-&_CV_valid_partition_per_;\n/* Create sample for localization model */\n\t\taction srs result=suppress / table={name=\"&_imageDS_\", caslib=\"libres\"} samppct=_set_train_sample_percent_\n\t\tsampPct2=&_CV_valid_partition_per_ seed=&_CV_partition_seed partInd=true\n\t\toutput={casout={name=\"&_imageDS_\", replace=\"TRUE\", caslib=\"libres\"}, copyvars=\"ALL\", \n\t\t\tpartIndName=\"&_CV_partition_var_\"};\n\n/* Shuffle data per good practice */\n\t\ttable.shuffle result=suppress / table={name=\"&_imageDS_\", caslib=\"libres\"} casout={name=\"&_imageDS_\", \n\t\t\treplace=1, caslib=\"libres\"};\n\t\t;\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights_attr.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights'\n\t\t\ttable='resnet50_caffe_weights_attr';\n\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat'\n\t\t\tcasOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='Tiny-Yolov2_weights_attr.sashdat'\n\t\t\t\tcasOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights'\n\t\t\ttable='Tiny-Yolov2_weights_attr';\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\n\t\tend;\n\n\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights_attr.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights'\n\t\t\ttable='resnet50_caffe_weights_attr';\n\t\tend;\n\n\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat'\n\t\t\tcasOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='Tiny-Yolov2_weights_attr.sashdat'\n\t\t\t\tcasOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights'\n\t\t\ttable='Tiny-Yolov2_weights_attr';\n\t\tend;\n\t\t\n\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\t\tend;\n\n\t\t\trunCode / code= \"\n\t\t\t\tdata casuser.objectivefunctionhold;\n\t\t\t\tcurrentobj=99999999;\n\t\t\t\trun;\n\t\t\t\t\";\n\t\tendsource;\n\t\tsource evalcode;\n/* filename=\"&_CV_location_for_results_data\" || (String)_bbEvalTag_ || \".txt\"; */\n/*          file nodes filename; */\n\n/* Set first convo filter size */\n\t\t\t\tif _decision_fconvo_size=1 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=3+0;\n\t\t\t\t\t\t_CV_firstConvo_height=3+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=2 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=3+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=3 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=3+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=4 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=5 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=5+0;\n\t\t\t\t\t\t_CV_firstConvo_height=7+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=6 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=7+0;\n\t\t\t\t\t\t_CV_firstConvo_height=5+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=7 then do;\n\t\t\t\t\t\t_CV_firstConvo_width=7+0;\n\t\t\t\t\t\t_CV_firstConvo_height=7+0;\n\t\t\t\t\t\t_CV_firstConvo_width=(string)_CV_firstConvo_width;\n\t\t\t\t\t\t_CV_firstConvo_height=(string)_CV_firstConvo_height;\n\n\t\t\t\tend;\n\n\n\t\t* Create set up variables *;\n\t\tname=\"_Object\";\n\t\tappendNames={\"_\", \"_x\", \"_y\", \"_width\", \"_height\"};\n\t\t_ObjectTargets_={\"_nObjects_\"};\n\t\t* Create the ObjectsTarget variable with the list of names *;\n\t\ti=0;\n\n\t\tdo until (i=&_CV_object_num_);\n\n\t\t\t/*     do i over {0,1,2}; */\n\t\t\tdo col over appendNames;\n\t\t\t\tvalue=name || i || col;\n\t\t\t\t_ObjectTargets_=_ObjectTargets_ + value;\n\t\t\tend;\n\t\t\ti=i+1;\n\t\tend;\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\n\t\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\n\t\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\n\t\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\n\t\tend;\n\n\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe.sashdat'\n\t\t\tcasOut={name='resnet50_caffe', replace=true};\n\n/* remove current output layer */\n\t\t\tremovelayer result=suppress / model='resnet50_caffe' name='fc1000';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n/* add new output layer */\n\t\t\t/* Depth = predictionsPerGrid + (ClassNumber + CoorNumber + 1)  */\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_bn_afterpool5_'\n\t\t\t\tlayer={type='BATCHNORM' act='reLu'} srcLayers={'pool5'};\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convoprelast_' layer={type='CONVO'\n\t\t\t\tnFilters=4096\n\t\t\t\twidth=3 height=3 stride=2\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_afterpool5_'};\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_bn_last_' layer={type='BATCHNORM'\n\t\t\t\tact='reLu'} srcLayers={'_convoprelast_'};\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth\n\t\t\t\twidth=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=1\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_last_'};\n\t\t\tend;\nrun;\n\n/*****************************/\n/* Remove biase from convo1 */\n/*****************************/\n\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.no_bias'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n/*********************/\n/*Apply Dropout */\n/*********************/\n\t\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\t\t\tverify_apply_dropout=\"&_CV_dropValue\";\n\n\t\t\t/* if verify_apply_dropout=\"yes\" then do; */\n\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\n\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\n\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\n\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\n\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\n\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\n\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\n\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\n\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\n\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\n\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\n\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\n\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\n\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\n\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\n\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\n\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\n\t\t\t/* end;  end applying dropout */\n\t\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth width=_decision_lc_width_ height=_decision_lc_height_\n\t\t\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'pool5'};\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=_decision_actfunction;\n\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\n\t\t\tif _verify_activation_function ne 11 then \n\t\t\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_new_activation_value_}};\n\t\t\t_update_grid_size=0+0;\n\n\t\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\n\t\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\n\t\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\t\t\t\t_update_grid_size=20;\n\t\t\tAddLayer result=suppress / model='resnet50_caffe'\n\t\t\tname='detection1' layer={type='detection'\n\t\t\tdetectionModelType=\"YOLOV2\"\n\t\t\tclassNumber=&_CV_OD_class_num\n\t\t\tgridNumber=_update_grid_size\n\t\t\tcoordNumber=4\n\t\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\t\tanchors={&anchor_box_coord} \n\t\t\tsoftMaxForClassProb=True\n\n/* Error function scalers: */\n\t\t\tobjectScale=_decision_obj_scale\n\t\t\tpredictionNotAObjectScale=_decision_noobj_scale\n\t\t\tclassScale=_decision_class_scale\n\t\t\tcoordScale=_decision_coord_scale\n\n/* end, error function scalers */\n\t\t\tcoordType=\"YOLO\"\n\n\t\t\t/* Prediction thresholds */\n\t\t\tdetectionThreshold=_decision_detthreshold\n\t\t\tiouThreshold=_decision_iouthreshold\n\t\t\ttrainIouThreshold=_decision_trainiou} srcLayers={'_convolast_'};\n\t\t\t\n\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\n\t\t\tif _verify_mutation_=\"random\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_mutation_=\"none\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\n\t\t\tif _verify_fliptype_=\"none\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"both\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t\t/* yes no */\n\t\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\t\t\t\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\n\n\n/* Update Stride for last pool layer */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\n\t\t\t/* end resnet model setup*/\n\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\nrun;\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n/*begin Resnet for object detection*/\n\t\t\tdlTrain result= t / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\tmodel='resnet50_caffe'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name='autotune_bestweights_', replace=1} \n\t\t\t\tinitWeights='resnet50_caffe_weights'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\toptimizer={minibatchsize=_decision_minibatch, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize, \n\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}, ignoreTrainingError=true,    \t\t\t \t\t\t\n\t\t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n \t\t\t\tmaxepochs=&_CV_eval_epochs} seed=12345;\n\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\nrun;\n\n\t\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n/* \t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\tmodel='resnet50_caffe'\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\tGPU=&_CV_usegpu_T_F;\n\t\t_temp_num_eval_epochs=ceil(&_CV_eval_epochs/3);\n\n\t\tk1_Error=0;\n\t\tdo i=&_CV_eval_epochs to _temp_num_eval_epochs by -1;\n\t\t\tvfitErrori=0+t['OptIterHistory'][i]['ValidError'];\n\t\t\tk1_Error=k1_Error+0+vfitErrori;\n\t\t\ti=i-1;\n\t\tend;\n\t\tk1_Loss_error=(k1_Error/ceil(&_CV_eval_epochs/3));\n\n\n\t\tk1_iouassessment=0+s['ScoreInfo'][3]['Value'];\n\t\tk1_iou_assessment_v2=1-k1_iouassessment;\n\t\tk1_final_error=(k1_iou_assessment_v2+k1_Loss_error)/2;\n\n\n/* save best model weights */\n\t\t\t\tif _bbEvalTag_ =1 then do;\n\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\t\t\t\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\t\t\tif k1_final_error <= globalobj then do;\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\t\t\tend;\n\n\n\n\t\tf['objVal']=k1_final_error;\n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\tsend_response(f);\n\t\trun;\n\n\t\tend;\n\n\t\t/*end resnet50 for object detection*/\n\t\t/************************************/\n\t\t/* tiny-YOLOv2 for Object detection */\n\t\t/************************************/\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\tif _verify_modelbackbone_=\"autotune\" then do;\n\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\n\t\tend;\n\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\n\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2.sashdat'\n\t\tcasOut={name='Tiny-Yolov2', replace=true};\n\t\tremovelayer result=suppress / model='Tiny-Yolov2' name='detection1';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' layer={type='BATCHNORM'\n\t\tact='leaky'} srcLayers={'convo.9'};\n\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t_chk_image_width_=&_image_input_width_+0;\n\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convoprelast_' layer={type='CONVO'\n\t\tnFilters=1024 width=_decision_lc_width_ height=_decision_lc_height_ stride=2\n\t\tact='identity' includeBias=FALSE} srcLayers={'b_n_9'};\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_10' layer={type='BATCHNORM'\n\t\tact='leaky'} srcLayers={'_convoprelast_'};\n\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convolast_' layer={type='CONVO'\n\t\tnFilters=_OD_depth width=_decision_lc_width_ height=_decision_lc_height_\n\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'b_n_10'};\n\t\tend;\n\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convolast_' layer={type='CONVO'\n\t\tnFilters=_OD_depth width=_decision_lc_width_ height=_decision_lc_height_\n\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'b_n_9'};\n\t\tend;\n\n\t\t/* change model activation functions */\n\t\t_verify_activation_function=_decision_actfunction;\n\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\tif _verify_activation_function ne 11 then\n\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Leaky Activation Function'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=_new_activation_value_}};\n\t\t_update_grid_size=0+0;\n\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\t\t\t_update_grid_size=20;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2'\n\t\tname='detection1' layer={type='detection'\n\t\tdetectionModelType=\"YOLOV2\"\n\t\tclassNumber=&_CV_OD_class_num\n\t\tgridNumber=_update_grid_size\n\t\tcoordNumber=4\n\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\tanchors={&anchor_box_coord} softMaxForClassProb=True\n\n\t\t/* Error function scalers: */\n\t\tobjectScale=_decision_obj_scale\n\t\tpredictionNotAObjectScale=_decision_noobj_scale\n\t\tclassScale=_decision_class_scale\n\t\tcoordScale=_decision_coord_scale\n\n\t\t/* end, error function scalers */\n\t\tcoordType=\"YOLO\"\n\n\t\t/* Prediction thresholds */\n\t\tdetectionThreshold=_decision_detthreshold\n\t\tiouThreshold=_decision_iouthreshold\n\t\ttrainIouThreshold=_decision_trainiou} srcLayers={'_convolast_'};\n\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\t\tverify_apply_dropout=\"&_CV_dropValue\";\n\n\t\t/* if verify_apply_dropout=\"yes\" then do; */\n\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool1' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.2' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool2' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.3' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool3' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.4' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool4' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.5' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.6' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool6' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.7' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.8' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.9' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t/* end;  end applying dropout */\n\t\t\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\tif _verify_mutation_=\"random\" then do;\n\n\t\t/* Apply mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\tend;\n\t\tif _verify_mutation_=\"none\" then do;\n\n\t\t/* Apply mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\tend;\n\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\tif _verify_fliptype_=\"none\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"vertical\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"both\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\tend;\n\n\t\t/* Change the expected input size - height */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.height'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=\"&_image_input_height_\"}};\n\n\t\t/* Change the expected input size - width */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.width'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=\"&_image_input_width_\"}};\n\n\t\t/* Change the number of channels to match greyscale if condition exist */\n\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t/* yes no */\n\t\tif _verify_image_color=\"greyscale\" then do;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\tend;\n\t\t_set_beta1_value=.999-_decision_betadiff+0;\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n\t\t/*begin tiny-yolov2 for object detection*/\n\t\tdlTrain result= t / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\tmodel='Tiny-Yolov2'\n\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\tbestweights={name='autotune_bestweights_', replace=1} \n\t\t\tinitWeights='Tiny-Yolov2_weights'\n\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='input1', type='IMAGE'}} \n\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\tnthreads=&n_threads_\n\t\t\t/* \t\tnthreads=32 */\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\toptimizer={minibatchsize=_decision_minibatch, algorithm={method='ADAM', \n\t\t\tlrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize, \n\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}, ignoreTrainingError=true,    \t\t\t \t\t\t\n\t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n\t\t\tmaxepochs=&_CV_eval_epochs} seed=12345;\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\n\n\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\n\t\t/* remove mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t/* remove crop */\n/* \t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\n\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\tmodel='Tiny-Yolov2'\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\tGPU=&_CV_usegpu_T_F;\n\t\t_temp_num_eval_epochs=ceil(&_CV_eval_epochs/3);\n\n\t\tk1_Error=0;\n\t\tdo i=&_CV_eval_epochs to _temp_num_eval_epochs by -1;\n\t\t\tvfitErrori=0+t['OptIterHistory'][i]['ValidError'];\n\t\t\tk1_Error=k1_Error+0+vfitErrori;\n\t\t\ti=i-1;\n\t\tend;\n\t\tk1_Loss_error=(k1_Error/ceil(&_CV_eval_epochs/3));\n\n\n\t\tk1_iouassessment=0+s['ScoreInfo'][3]['Value'];\n\t\tk1_iou_assessment_v2=1-k1_iouassessment;\n\t\tk1_final_error=(k1_iou_assessment_v2+k1_Loss_error)/2;\n\n\n/* save best model weights */\n\t\t\t\tif _bbEvalTag_ =1 then do;\n\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\t\t\t\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\t\t\tif k1_final_error <= globalobj then do;\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\t\t\tend;\n\n\n\n\t\tf['objVal']=k1_final_error;\n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\tsend_response(f);\n\t\trun;\n\t\tend;\n\n\n\n/****************************************/\n/* ShuffleNetV2 Object Detection\t\t*/\n/****************************************/\n\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2.sashdat'\n\t\t\tcasOut={name='ShuffleNetV2', replace=true};\n\n/* remove current output layer */\n \t\t\t\tremovelayer result=suppress / model='ShuffleNetV2' name='outputlayer_2';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_width}};\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_CV_firstConvo_height}};\n\n/* add new output layer */\n\t\t\t/* Depth = predictionsPerGrid + (ClassNumber + CoorNumber + 1)  */\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_bn_afterpool5_'\n\t\t\t\tlayer={type='BATCHNORM' act='reLu'} srcLayers={'global_avg_pool'};\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convoprelast_' layer={type='CONVO'\n\t\t\t\tnFilters=2048\n\t\t\t\twidth=3 height=3 stride=2\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_afterpool5_'};\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_bn_last_' layer={type='BATCHNORM'\n\t\t\t\tact='reLu'} srcLayers={'_convoprelast_'};\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth\n\t\t\t\twidth=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=1\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_last_'};\n\t\t\tend;\nrun;\n\n\n\n\n\t\t\t\t_dec_Drop_out_block_1=_decision_Dropoutblock_1_;\n\t\t\t\t_dec_Drop_out_block_2=_decision_Dropoutblock_2;\n\t\t\t\t_dec_Drop_out_block_3=_decision_Dropoutblock_3;\n\t\t\t\t_dec_Drop_out_block_4=_decision_Dropoutblock_4;\n\t\t\t\t_dec_Drop_out_block_5=_decision_Dropoutblock_5;\n\t\t\t\t_dec_Drop_out_block_6=_decision_Dropoutblock_6;\n\t\t\t\t_dec_Drop_out_block_7=_decision_Dropoutblock_7;\n\t\t\t\t_dec_Drop_out_block_8=_decision_Dropoutblock_8;\n\t\t\t\t_dec_Drop_out_block_9=_decision_Dropoutblock_9;\n\t\t\t\t_dec_Drop_out_block__10=_decision_Dropoutblock_10;\n\t\t\t\t_dec_Drop_out_block__11=_decision_Dropoutblock_11;\n\t\t\t\t_dec_Drop_out_block__12=_decision_Dropoutblock_12;\n\t\t\t\t_dec_Drop_out_block__13=_decision_Dropoutblock_13;\n\t\t\t\t_dec_Drop_out_block__14=_decision_Dropoutblock_14;\n\t\t\t\t_dec_Drop_out_block__15=_decision_Dropoutblock_15;\n\t\t\t\t_dec_Drop_out_block__16=_decision_Dropoutblock_16;\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block5/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block6/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block7/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block8/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\t/* end;  end applying dropout */\n\t\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth width=_decision_lc_width_ height=_decision_lc_height_\n\t\t\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'global_avg_pool'};\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=_decision_actfunction;\n\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\n\t\t\tif _verify_activation_function ne 11 then \n\t\t\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_new_activation_value_}};\n\t\t\t_update_grid_size=0+0;\n\n\t\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\n\t\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\n\t\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\t\t\t\t_update_grid_size=20;\n\n\t\t\tAddLayer result=suppress / model='ShuffleNetV2'\n\t\t\tname='detection1' layer={type='detection'\n\t\t\tdetectionModelType=\"YOLOV2\"\n\t\t\tclassNumber=&_CV_OD_class_num\n\t\t\tgridNumber=_update_grid_size\n\t\t\tcoordNumber=4\n\t\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\t\tanchors={&anchor_box_coord} \n\t\t\tsoftMaxForClassProb=True\n\n/* Error function scalers: */\n\t\t\tobjectScale=_decision_obj_scale\n\t\t\tpredictionNotAObjectScale=_decision_noobj_scale\n\t\t\tclassScale=_decision_class_scale\n\t\t\tcoordScale=_decision_coord_scale\n\n/* end, error function scalers */\n\t\t\tcoordType=\"YOLO\"\n\n\t\t\t/* Prediction thresholds */\n\t\t\tdetectionThreshold=_decision_detthreshold\n\t\t\tiouThreshold=_decision_iouthreshold\n\t\t\ttrainIouThreshold=_decision_trainiou} srcLayers={'_convolast_'};\n\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\n\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\n\t\t\tif _verify_mutation_=\"random\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_mutation_=\"none\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\n\t\t\tif _verify_fliptype_=\"none\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"both\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t\t/* yes no */\n\t\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\n/* Update Stride for last pool layer */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\n\t\t\t/* end ShuffleNetV2 model setup*/\n\t\t\t_set_beta1_value=.999-_decision_betadiff+0;\nrun;\n\t\t\t\t\tlower_clipgrad=0+_decision_gradclips*-1;\n\n/*begin Resnet for object detection*/\n\t\t\tdlTrain result= t / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\", caslib=\"libres\"} \n\t\t\t\tmodel='ShuffleNetV2'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name='autotune_bestweights_', replace=1} \n\t\t\t\tinitWeights='ShuffleNetV2_weights'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\toptimizer={minibatchsize=_decision_minibatch, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=_decision_gamma, stepsize=_decision_stepsize, \n\t\t\t\tlearningrate=_decision_lr, beta1=_set_beta1_value, clipGradMax=_decision_gradclips, clipGradMin=lower_clipgrad}, ignoreTrainingError=true,    \t\t\t \t\t\t\n\t\t\t\tloglevel=1, regL1=_decision_l1reg, regL2=_decision_l2reg,\n \t\t\t\tmaxepochs=&_CV_eval_epochs} seed=12345;\n\n\n\t\t\t\t\ttable.tableExists result=d / name='autotune_bestweights_';\n\t\t\t\t\t\tif d=1 then do;\nrun;\n\n\t\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n/* \t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\t\t\tdlScore result=s / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\", caslib=\"libres\"} \n\t\t\t\tmodel='ShuffleNetV2'\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\tGPU=&_CV_usegpu_T_F;\n\t\t_temp_num_eval_epochs=ceil(&_CV_eval_epochs/3);\n\n\t\tk1_Error=0;\n\t\tdo i=&_CV_eval_epochs to _temp_num_eval_epochs by -1;\n\t\t\tvfitErrori=0+t['OptIterHistory'][i]['ValidError'];\n\t\t\tk1_Error=k1_Error+0+vfitErrori;\n\t\t\ti=i-1;\n\t\tend;\n\t\tk1_Loss_error=(k1_Error/ceil(&_CV_eval_epochs/3));\n\n\n\t\tk1_iouassessment=0+s['ScoreInfo'][3]['Value'];\n\t\tk1_iou_assessment_v2=1-k1_iouassessment;\n\t\tk1_final_error=(k1_iou_assessment_v2+k1_Loss_error)/2;\n\n\n/* save best model weights */\n\t\t\t\tif _bbEvalTag_ =1 then do;\n\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n\t\t\t\tend;\n\n   table.fetch result=r / table={caslib=\"casuser\" name=\"objectivefunctionhold\"};\n\tgrab_obj_value=0+r['Fetch'][1]['currentobj'];\n\n\tglobalobj=0+grab_obj_value;\n\n\n\n\t\t\t\tif k1_final_error <= globalobj then do;\n\t\t\t\t\t_holdvalue_=k1_final_error;\n\t\t\t\t\tnewobjfunc=(string)_holdvalue_;\n\t\t\t\t\tmytbl.caslib=\"casuser\";\n\t\t\t\t\tmytbl.name  =\"objectivefunctionhold\"; \n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"currentobj\", value=newobjfunc}};\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"autotune_bestweights_\"\n    \t\t\t\t\t\t\t\t\tname=\"autotune_bestweights_.sashdat\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\t\t\tend;\n\n\n\n\t\tf['objVal']=k1_final_error;\n\t\t\t\t\tend;\n\t\t\t\t\t\tif d ne 1 then do;\n\t\t\t\t\t\t\t\tError1=.;\t\n\t\t\t\t\t\t\tf['objVal']=Error1; \n\t\t\t\t\t\tend;\n\n\t\t\tsend_response(f);\n\t\trun;\n\n\t\tend;\nend;\n\n\ntable.dropTable / caslib=\"libCVmod\" name=\"resnet50_caffe\" quiet=TRUE;\ntable.dropTable / caslib=\"libCVmod\" name=\"Tiny-Yolov2\" quiet=TRUE;\ntable.dropTable / caslib=\"libCVmod\" name=\"ShuffleNetV2\" quiet=TRUE;\n\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"resnet50_caffe\" quiet=TRUE; */\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"Tiny-Yolov2\" quiet=TRUE; */\n/* table.dropTable / caslib=\"&_CV_caslib_\" name=\"ShuffleNetV2\" quiet=TRUE; */\n/*  */\n/*  */\n\n\t\tendsource;\n\nsource cvcleanup;\n  \t\t\t\t\t\t\t\t\t\ttable.save / \n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable={name=\"&_imageDS_\", caslib=\"libres\"}\n    \t\t\t\t\t\t\t\t\tname=\"&_imageDS_\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n  \t\t\t\t\t\t\t\t\t\ttable.save / \n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable={name=\"objectivefunctionhold\", caslib=\"casuser\"}\n    \t\t\t\t\t\t\t\t\tname=\"objectivefunctionhold\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\nendsource;\n\n\n\n\n\n\t\t_verify_previous_search=\"&_CV_continue_previous_search\";\n\n\t\t/* classification, regression or objectdetection */\n\t\tif _verify_previous_search ne \"yes\" then do;\n\t\toptimization.solveblackbox / decVars={{name='_decision_modelbackbone', \n\t\t\ttype='I', lb=_setup_lb_backbone, ub=_setup_ub_backbone, \n\t\t\tinit=_setup_init_backbone} {name='_decision_gamma', type='C', \n\t\t\tlb=_setup_lb_gamma, ub=_setup_ub_gamma, init=_setup_init_gamma} \n\t\t\t{name='_decision_stepsize', type='I', lb=_setup_lb_stepsize, \n\t\t\tub=_setup_ub_stepsize, init=_setup_init_stepsize} \n\t\t\t{name='_decision_minibatch', type='I', lb=_setup_lb_miniBSize, \n\t\t\tub=_setup_ub_miniBSize, init=_setup_init_miniBSize} {name='_decision_lr', \n\t\t\ttype='C', lb=_setup_lb_lr, ub=_setup_ub_lr, init=_setup_init_lr} \n\t\t\t{name='_decision_betadiff', type='C', lb=_setup_lb_betadiff, \n\t\t\tub=_setup_ub_betadiff, init=_setup_init_betadiff}\n\t\t{name='_decision_l1reg', type='C', lb=_setup_lb_l1reg, ub=_setup_ub_l1reg, init=_setup_init_l1reg}\n\t\t{name='_decision_l2reg', type='C', lb=_setup_lb_l2reg, ub=_setup_ub_l2reg, init=_setup_init_l2reg} \n\t\t{name='_decision_gradclips', type='C', lb=_setup_lb_gradclips, ub=_setup_ub_gradclips, init=_setup_init_gradclips}\n\t\t{name='_decision_fconvo_size', type='I', lb=_setup_lb_fconvo_size, ub=_setup_ub_fconvo_size, init=_setup_init_fconvo_size}\n\n\t\t\t{name='_decision_actfunction', type='I', lb=_setup_lb_actfunc, \n\t\t\tub=_setup_ub_actfunc, init=_setup_init_actfunc} {name='_decision_lc_width_', \n\t\t\ttype='I', lb=_setup_lb_lc_width, ub=_setup_ub_lc_width, \n\t\t\tinit=_setup_init_lc_width} {name='_decision_lc_height_', type='I', \n\t\t\tlb=_setup_lb_lc_height, ub=_setup_ub_lc_height, init=_setup_init_lc_height} \n\t\t\t{name='_decision_obj_scale', type='C', lb=_setup_lb_obj, ub=_setup_ub_obj, \n\t\t\tinit=_setup_init_obj} {name='_decision_noobj_scale', type='C', \n\t\t\tlb=_setup_lb_noobj, ub=_setup_ub_noobj, init=_setup_init_noobj} \n\t\t\t{name='_decision_coord_scale', type='C', lb=_setup_lb_coord, \n\t\t\tub=_setup_ub_coord, init=_setup_init_coord} {name='_decision_class_scale', \n\t\t\ttype='C', lb=_setup_lb_class, ub=_setup_ub_class, init=_setup_init_class} \n\t\t\t{name='_decision_detthreshold', type='C', lb=_setup_lb_detthresh, \n\t\t\tub=_setup_ub_detthresh, init=_setup_init_detthresh} \n\t\t\t{name='_decision_iouthreshold', type='C', lb=_setup_lb_iouthresh, \n\t\t\tub=_setup_ub_iouthresh, init=_setup_init_iouthresh} \n\t\t\t{name='_decision_trainiou', type='C', lb=_setup_lb_trainiou, \n\t\t\tub=_setup_ub_trainiou, init=_setup_init_trainiou} \n\t\t\t{name='_decision_Dropoutblock_1_', type='I', lb=_setup_lb_Dropoutblock_1, \n\t\t\tub=_setup_ub_Dropoutblock_1, init=_setup_init_Dropoutblock_1} \n\t\t\t{name='_decision_Dropoutblock_2', type='I', lb=_setup_lb_Dropoutblock_2, \n\t\t\tub=_setup_ub_Dropoutblock_2, init=_setup_init_Dropoutblock_2} \n\t\t\t{name='_decision_Dropoutblock_3', type='I', lb=_setup_lb_Dropoutblock_3, \n\t\t\tub=_setup_ub_Dropoutblock_3, init=_setup_init_Dropoutblock_3} \n\t\t\t{name='_decision_Dropoutblock_4', type='I', lb=_setup_lb_Dropoutblock_4, \n\t\t\tub=_setup_ub_Dropoutblock_4, init=_setup_init_Dropoutblock_4} \n\t\t\t{name='_decision_Dropoutblock_5', type='I', lb=_setup_lb_Dropoutblock_5, \n\t\t\tub=_setup_ub_Dropoutblock_5, init=_setup_init_Dropoutblock_5} \n\t\t\t{name='_decision_Dropoutblock_6', type='I', lb=_setup_lb_Dropoutblock_6, \n\t\t\tub=_setup_ub_Dropoutblock_6, init=_setup_init_Dropoutblock_6} \n\t\t\t{name='_decision_Dropoutblock_7', type='I', lb=_setup_lb_Dropoutblock_7, \n\t\t\tub=_setup_ub_Dropoutblock_7, init=_setup_init_Dropoutblock_7} \n\t\t\t{name='_decision_Dropoutblock_8', type='I', lb=_setup_lb_Dropoutblock_8, \n\t\t\tub=_setup_ub_Dropoutblock_8, init=_setup_init_Dropoutblock_8} \n\t\t\t{name='_decision_Dropoutblock_9', type='I', lb=_setup_lb_Dropoutblock_9, \n\t\t\tub=_setup_ub_Dropoutblock_9, init=_setup_init_Dropoutblock_9} \n\t\t\t{name='_decision_Dropoutblock_10', type='I', lb=_setup_lb_Dropoutblock_10, \n\t\t\tub=_setup_ub_Dropoutblock_10, init=_setup_init_Dropoutblock_10} \n\t\t\t{name='_decision_Dropoutblock_11', type='I', lb=_setup_lb_Dropoutblock_11, \n\t\t\tub=_setup_ub_Dropoutblock_11, init=_setup_init_Dropoutblock_11} \n\t\t\t{name='_decision_Dropoutblock_12', type='I', lb=_setup_lb_Dropoutblock_12, \n\t\t\tub=_setup_ub_Dropoutblock_12, init=_setup_init_Dropoutblock_12} \n\t\t\t{name='_decision_Dropoutblock_13', type='I', lb=_setup_lb_Dropoutblock_13, \n\t\t\tub=_setup_ub_Dropoutblock_13, init=_setup_init_Dropoutblock_13} \n\t\t\t{name='_decision_Dropoutblock_14', type='I', lb=_setup_lb_Dropoutblock_14, \n\t\t\tub=_setup_ub_Dropoutblock_14, init=_setup_init_Dropoutblock_14} \n\t\t\t{name='_decision_Dropoutblock_15', type='I', lb=_setup_lb_Dropoutblock_15, \n\t\t\tub=_setup_ub_Dropoutblock_15, init=_setup_init_Dropoutblock_15} \n\t\t\t{name='_decision_Dropoutblock_16', type='I', lb=_setup_lb_Dropoutblock_16, \n\t\t\tub=_setup_ub_Dropoutblock_16, init=_setup_init_Dropoutblock_16}}, \n\t\t\tobj={{name='objVal', type='min'}}, outputTables={includeall=true} \n\t\t\tdisplay={excludeAll=FALSE} primalOut={name='primal_out', replace=TRUE} \n\t\t\t/* CACHEIN={name='Cachein_NAS_April_28th'}   */\n\n\t\t\t/* firstgen={name='Mydemo_firstGen_best'}   */\n\t\t\tCACHEOUT={name=\"_temp_ds_results_\", replace=true, caslib=\"casuser\"} \n\t\t\tfunc={init=caslInit, eval=evalcode, cleanup=cvcleanup}, nParallel=1, popsize=&_CV_population_s, \n\t\t\tnlocal=&_CV_gsslocal_s, maxGen=&_CV_gagenerations_s, nabsfconv=100000000, \n\t\t\tmaxtime=&_CV_maxtraintime\n\t\t\tSeed=&_CV_autotuneseed;\n\n\t\t/*   table.save / */\n\t\t/*   Caslib=\"workinglib\"   */\n\t\t/*     table=\"NAS_overfit\" */\n\t\t/*     name=\"NAS_overfit_firstGen.sashdat\" */\n\t\t/*     replace=True; */\n\t\tend;\n\t\t_verify_previous_search=\"&_CV_continue_previous_search\";\n\n\t\t/* classification, regression or objectdetection */\n\t\tif _verify_previous_search=\"yes\" then do;\n\t\toptimization.solveblackbox / decVars={{name='_decision_modelbackbone', \n\t\t\ttype='I', lb=_setup_lb_backbone, ub=_setup_ub_backbone, \n\t\t\tinit=_setup_init_backbone} {name='_decision_gamma', type='C', \n\t\t\tlb=_setup_lb_gamma, ub=_setup_ub_gamma, init=_setup_init_gamma} \n\t\t\t{name='_decision_stepsize', type='I', lb=_setup_lb_stepsize, \n\t\t\tub=_setup_ub_stepsize, init=_setup_init_stepsize} \n\t\t\t{name='_decision_minibatch', type='I', lb=_setup_lb_miniBSize, \n\t\t\tub=_setup_ub_miniBSize, init=_setup_init_miniBSize} {name='_decision_lr', \n\t\t\ttype='C', lb=_setup_lb_lr, ub=_setup_ub_lr, init=_setup_init_lr} \n\t\t\t{name='_decision_betadiff', type='C', lb=_setup_lb_betadiff, \n\t\t\tub=_setup_ub_betadiff, init=_setup_init_betadiff}\n\t\t{name='_decision_l1reg', type='C', lb=_setup_lb_l1reg, ub=_setup_ub_l1reg, init=_setup_init_l1reg}\n\t\t{name='_decision_l2reg', type='C', lb=_setup_lb_l2reg, ub=_setup_ub_l2reg, init=_setup_init_l2reg} \n\t\t{name='_decision_gradclips', type='C', lb=_setup_lb_gradclips, ub=_setup_ub_gradclips, init=_setup_init_gradclips}\n\t\t{name='_decision_fconvo_size', type='I', lb=_setup_lb_fconvo_size, ub=_setup_ub_fconvo_size, init=_setup_init_fconvo_size}\n\t\t\t{name='_decision_actfunction', type='I', lb=_setup_lb_actfunc, \n\t\t\tub=_setup_ub_actfunc, init=_setup_init_actfunc} {name='_decision_lc_width_', \n\t\t\ttype='I', lb=_setup_lb_lc_width, ub=_setup_ub_lc_width, \n\t\t\tinit=_setup_init_lc_width} {name='_decision_lc_height_', type='I', \n\t\t\tlb=_setup_lb_lc_height, ub=_setup_ub_lc_height, init=_setup_init_lc_height} \n\t\t\t{name='_decision_obj_scale', type='C', lb=_setup_lb_obj, ub=_setup_ub_obj, \n\t\t\tinit=_setup_init_obj} {name='_decision_noobj_scale', type='C', \n\t\t\tlb=_setup_lb_noobj, ub=_setup_ub_noobj, init=_setup_init_noobj} \n\t\t\t{name='_decision_coord_scale', type='C', lb=_setup_lb_coord, \n\t\t\tub=_setup_ub_coord, init=_setup_init_coord} {name='_decision_class_scale', \n\t\t\ttype='C', lb=_setup_lb_class, ub=_setup_ub_class, init=_setup_init_class} \n\t\t\t{name='_decision_detthreshold', type='C', lb=_setup_lb_detthresh, \n\t\t\tub=_setup_ub_detthresh, init=_setup_init_detthresh} \n\t\t\t{name='_decision_iouthreshold', type='C', lb=_setup_lb_iouthresh, \n\t\t\tub=_setup_ub_iouthresh, init=_setup_init_iouthresh} \n\t\t\t{name='_decision_trainiou', type='C', lb=_setup_lb_trainiou, \n\t\t\tub=_setup_ub_trainiou, init=_setup_init_trainiou} \n\t\t\t{name='_decision_Dropoutblock_1_', type='I', lb=_setup_lb_Dropoutblock_1, \n\t\t\tub=_setup_ub_Dropoutblock_1, init=_setup_init_Dropoutblock_1} \n\t\t\t{name='_decision_Dropoutblock_2', type='I', lb=_setup_lb_Dropoutblock_2, \n\t\t\tub=_setup_ub_Dropoutblock_2, init=_setup_init_Dropoutblock_2} \n\t\t\t{name='_decision_Dropoutblock_3', type='I', lb=_setup_lb_Dropoutblock_3, \n\t\t\tub=_setup_ub_Dropoutblock_3, init=_setup_init_Dropoutblock_3} \n\t\t\t{name='_decision_Dropoutblock_4', type='I', lb=_setup_lb_Dropoutblock_4, \n\t\t\tub=_setup_ub_Dropoutblock_4, init=_setup_init_Dropoutblock_4} \n\t\t\t{name='_decision_Dropoutblock_5', type='I', lb=_setup_lb_Dropoutblock_5, \n\t\t\tub=_setup_ub_Dropoutblock_5, init=_setup_init_Dropoutblock_5} \n\t\t\t{name='_decision_Dropoutblock_6', type='I', lb=_setup_lb_Dropoutblock_6, \n\t\t\tub=_setup_ub_Dropoutblock_6, init=_setup_init_Dropoutblock_6} \n\t\t\t{name='_decision_Dropoutblock_7', type='I', lb=_setup_lb_Dropoutblock_7, \n\t\t\tub=_setup_ub_Dropoutblock_7, init=_setup_init_Dropoutblock_7} \n\t\t\t{name='_decision_Dropoutblock_8', type='I', lb=_setup_lb_Dropoutblock_8, \n\t\t\tub=_setup_ub_Dropoutblock_8, init=_setup_init_Dropoutblock_8} \n\t\t\t{name='_decision_Dropoutblock_9', type='I', lb=_setup_lb_Dropoutblock_9, \n\t\t\tub=_setup_ub_Dropoutblock_9, init=_setup_init_Dropoutblock_9} \n\t\t\t{name='_decision_Dropoutblock_10', type='I', lb=_setup_lb_Dropoutblock_10, \n\t\t\tub=_setup_ub_Dropoutblock_10, init=_setup_init_Dropoutblock_10} \n\t\t\t{name='_decision_Dropoutblock_11', type='I', lb=_setup_lb_Dropoutblock_11, \n\t\t\tub=_setup_ub_Dropoutblock_11, init=_setup_init_Dropoutblock_11} \n\t\t\t{name='_decision_Dropoutblock_12', type='I', lb=_setup_lb_Dropoutblock_12, \n\t\t\tub=_setup_ub_Dropoutblock_12, init=_setup_init_Dropoutblock_12} \n\t\t\t{name='_decision_Dropoutblock_13', type='I', lb=_setup_lb_Dropoutblock_13, \n\t\t\tub=_setup_ub_Dropoutblock_13, init=_setup_init_Dropoutblock_13} \n\t\t\t{name='_decision_Dropoutblock_14', type='I', lb=_setup_lb_Dropoutblock_14, \n\t\t\tub=_setup_ub_Dropoutblock_14, init=_setup_init_Dropoutblock_14} \n\t\t\t{name='_decision_Dropoutblock_15', type='I', lb=_setup_lb_Dropoutblock_15, \n\t\t\tub=_setup_ub_Dropoutblock_15, init=_setup_init_Dropoutblock_15} \n\t\t\t{name='_decision_Dropoutblock_16', type='I', lb=_setup_lb_Dropoutblock_16, \n\t\t\tub=_setup_ub_Dropoutblock_16, init=_setup_init_Dropoutblock_16}}, \n\t\t\tobj={{name='objVal', type='min'}}, outputTables={includeall=true} \n\t\t\tdisplay={excludeAll=FALSE} primalOut={name='primal_out', replace=TRUE} \n\t\t\tCACHEIN={name='_Cachein_table', caslib=\"casuser\"} \n\t\t\tfirstgen={name='_firstgen_table', caslib=\"casuser\"} \n\t\t\tCACHEOUT={name=\"_temp_ds_results_\", replace=true, caslib=\"casuser\"} \n\t\t\tfunc={init=caslInit, eval=evalcode, cleanup=cvcleanup}, nParallel=1, popsize=&_CV_population_s, \n\t\t\tnlocal=&_CV_gsslocal_s, maxGen=&_CV_gagenerations_s, nabsfconv=100000000, \n\t\t\tmaxtime=&_CV_maxtraintime\n\t\t\tSeed=&_CV_autotuneseed;\n\n\t\t/* run; */\n\t\tend;\n\n\t\t/*   table.save / */\n\t\t/*   Caslib=\"workinglib\"   */\n\t\t/*     table=\"NAS_overfit\" */\n\t\t/*     name=\"NAS_overfit_firstGen.sashdat\" */\n\t\t/*     replace=True; */\n\t\tend;\n\t\tend;\n\n\t\t/* end object detection model setup */\n\t\tend;\n\n\t\t/* ending autotuning conditional yes/no */\n\t\tquit;\n\nproc sort data=casuser._temp_ds_results_ out=work._temp_ds_results_;\nby objVal;\nrun;\n\ndata _null_;\n  set work._temp_ds_results_(where=(objVal ne .) obs=1);\n\n  _updatevar_modelBackbone=\"&_CV_modelBackbone_\";\n\t\t\tif _updatevar_modelBackbone=\"autotune\" then do;\n\t\t\t\tif _decision_modelbackbone=1 then _verify_modelbackbone_=\"resnet50_caffe\";\n\t\t\t\tif _decision_modelbackbone=2 then _verify_modelbackbone_=\"Tiny-Yolov2\";\n\t\t\t\tif _decision_modelbackbone=3 then _verify_modelbackbone_=\"ShuffleNetV2\";\n\t\t\t  call symput(\"_CV_modelBackbone_\",_verify_modelbackbone_);\n\t\t\tend;\n\n\n\t\t\t\tif _decision_fconvo_size=1 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"3\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"3\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=2 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"3\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"5\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=3 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"5\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"3\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=4 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"5\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"5\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=5 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"5\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"7\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=6 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"7\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"5\");\n\t\t\t\tend;\n\t\t\t\tif _decision_fconvo_size=7 then do;\n\t\t\t  call symput(\"mac_firstConvo_width\",\"7\");\n\t\t\t  call symput(\"mac_firstConvo_height\",\"7\");\n\t\t\t\tend;\n\n\n_updatevar_gamma=\"&_CV_onoff_search_gamma\";\nif _updatevar_gamma=\"yes\" then do;\n  call symput(\"_CV_gam_value_\",_decision_gamma);\nend;\n_updatevar_stepsize=\"&_CV_onoff_search_stepsize\";\nif _updatevar_stepsize=\"yes\" then do;\n  call symput(\"_CV_stepSize_value_\",_decision_stepsize);\nend;\n_updatevar_miniBSize=\"&_CV_onoff_search_miniBSize\";\nif _CV_onoff_search_miniBSize=\"yes\" then do;\n  call symput(\"_CV_miniBSize_value_\",_decision_minibatch);\nend;\n_updatevar_lrate=\"&_CV_onoff_search_lr\";\nif _updatevar_lrate=\"yes\" then do;\n  call symput(\"_CV_lr_value_\",_decision_lr);\nend;\n_updatevar_betadiff=\"&_CV_onoff_search_betadiff\";\nif _updatevar_betadiff=\"yes\" then do;\n  call symput(\"_CV_betadiff_value_\",_decision_betadiff);\nend;\n\n_updatevar_l1reg=\"&_CV_onoff_search_l1reg\";\nif _updatevar_l1reg=\"yes\" then do;\n  call symput(\"_CV_l1reg_value_\",_decision_l1reg);\nend;\n\n\n_updatevar_l2reg=\"&_CV_onoff_search_l2reg\";\nif _updatevar_l2reg=\"yes\" then do;\n  call symput(\"_CV_l2reg_value_\",_decision_l2reg);\nend;\n\n_updatevar_clipgrad=\"&_CV_onoff_search_gradclips\";\nif _updatevar_clipgrad=\"yes\" then do;\n  call symput(\"_CV_gradclips_value\",_decision_gradclips);\nend;\n\n_updatevar_actfunction=\"&_CV_onoff_search_actfunc\";\nif _updatevar_actfunction=\"yes\" then do;\n  call symput(\"_CV_act_function\",_decision_actfunction);\nend;\n/*dropout*/\n_updatevar_dropoutValue=\"&_CV_dropValue\";\nif _updatevar_dropoutValue=\"yes\" then do;\n  call symput(\"_CV_dropout_block1\",_decision_Dropoutblock_1_);\n  call symput(\"_CV_dropout_block2\",_decision_Dropoutblock_2);\n  call symput(\"_CV_dropout_block3\",_decision_Dropoutblock_3);\n  call symput(\"_CV_dropout_block4\",_decision_Dropoutblock_4);\n  call symput(\"_CV_dropout_block5\",_decision_Dropoutblock_5);\n  call symput(\"_CV_dropout_block6\",_decision_Dropoutblock_6);\n  call symput(\"_CV_dropout_block7\",_decision_Dropoutblock_7);\n  call symput(\"_CV_dropout_block8\",_decision_Dropoutblock_8);\n  call symput(\"_CV_dropout_block9\",_decision_Dropoutblock_9);\n  call symput(\"_CV_dropout_block10\",_decision_Dropoutblock_10);\n  call symput(\"_CV_dropout_block11\",_decision_Dropoutblock_11);\n  call symput(\"_CV_dropout_block12\",_decision_Dropoutblock_12);\n  call symput(\"_CV_dropout_block13\",_decision_Dropoutblock_13);\n  call symput(\"_CV_dropout_block14\",_decision_Dropoutblock_14);\n  call symput(\"_CV_dropout_block15\",_decision_Dropoutblock_15);\n  call symput(\"_CV_dropout_block16\",_decision_Dropoutblock_16);\nend;\n\n/* classification and regression only */\n_updatevar_modeltask=\"&_CV_modeltask_\";\nif _updatevar_modeltask=\"classification\" or _updatevar_modeltask=\"regression\" then do;\n_updatevar_FClayer=\"&_CV_include_FC_layer\";\n_updatevar_FCneuronnum=\"&_CV_onoff_search_FCneuronnum\";\nif _updatevar_FClayer=\"yes\" and _updatevar_FCneuronnum=\"yes\" then do;\n  call symput(\"_CV_FC_neuron_num\",_decision_FCneuronnum);\nend;\n_updatevar_FCactfunc=\"&_CV_onoff_search_FCactfunc\";\nif _updatevar_FClayer=\"yes\" and _updatevar_FCactfunc=\"yes\" then do;\n  call symput(\"_CV_FC_act_function\",_decision_FCactfunc);\nend;\n\nend; /* end classification and regression only updates */\n\nif _updatevar_modeltask=\"objectdetection\" then do;\n_updatevar_lc_width=\"&_CV_onoff_search_lc_width\";\nif _updatevar_lc_width=\"yes\" then do;\n  call symput(\"_CV_OD_lastConvo_width\",_decision_lc_width_);\nend;\n_updatevar_lc_height=\"&_CV_onoff_search_lc_height\";\nif _updatevar_lc_height=\"yes\" then do;\n  call symput(\"_CV_OD_lastConvo_height\",_decision_lc_height_);\nend;\n_updatevar_od_obj=\"&_CV_onoff_search_obj\";\nif _updatevar_od_obj=\"yes\" then do;\n  call symput(\"_CV_OD_Obj_scale_\",_decision_obj_scale);\nend;\n_updatevar_od_noobj=\"&_CV_onoff_search_noobj\";\nif _updatevar_od_noobj=\"yes\" then do;\n  call symput(\"_CV_OD_Not_Obj_scale_\",_decision_noobj_scale);\nend;\n_updatevar_od_coord=\"&_CV_onoff_search_coord\";\nif _updatevar_od_coord=\"yes\" then do;\n  call symput(\"_CV_OD_coord_scale_\",_decision_coord_scale);\nend;\n_updatevar_od_class=\"&_CV_onoff_search_class\";\nif _updatevar_od_class=\"yes\" then do;\n  call symput(\"_CV_OD_class_scale_\",_decision_class_scale);\nend;\n_updatevar_od_detthresh=\"&_CV_onoff_search_detthresh\";\nif _updatevar_od_detthresh=\"yes\" then do;\n  call symput(\"_CV_OD_detection_thresh_\",_decision_detthreshold);\nend;\n_updatevar_od_iouthreshold=\"&_CV_onoff_search_iouthresh\";\nif _updatevar_od_iouthreshold=\"yes\" then do;\n  call symput(\"_CV_OD_iouthreshold_\",_decision_iouthreshold);\nend;\n_updatevar_od_trainiou=\"&_CV_onoff_search_trainiou\";\nif _updatevar_od_trainiou=\"yes\" then do;\n  call symput(\"_CV_iouTrainThreshold_\",_decision_trainiou);\nend;\n\n\n\nend; /* end objectdetection only updates */\n\nrun;\n\n%put new value is gamma is:  &_CV_gam_value_;\n%put new value is stepsize is: &_CV_stepSize_value_;\n%put new value is activation function is: &_CV_act_function;\n%put new value is activation minibatch size is: &_CV_miniBSize_value_;\n/*  &_CV_FC_neuron_num; */\n\nproc cas;\ntable.dropCaslib result=suppress / caslib=\"libres\" quiet=TRUE;\n   table.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\nif _verify_autotune_init=\"yes\" then do;\n  table.save /\n  Caslib=\"libres\"  \n    table={name=\"_temp_ds_results_\", caslib=\"casuser\"}\n    name=\"&_CV_name_autotuneresults_save..sashdat\"\n    replace=True;\n\n_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\nif _verify_modeling_task_=\"objectdetection\" then do;\n\n/* update */\nrunCode result=suppress / code= \"\n\ndata casuser._TEMP_DS_RESULTS_;\n  set casuser._TEMP_DS_RESULTS_;\n\tch__decision_modelbackbone = input(_decision_modelbackbone, $32.);\n\tch__decision_actfunction = input(_decision_actfunction, $32.); \n\tch__decision_fconvo_size = input(_decision_fconvo_size, $32.);             \n            \n   drop _decision_modelbackbone _decision_actfunction _decision_fconvo_size;                      \n   rename \n\t\t\tch__decision_modelbackbone=_decision_modelbackbone \n\t\t\tch__decision_actfunction=_decision_actfunction\n\t\t\tch__decision_fconvo_size = _decision_fconvo_size\n;   \n\nrun;\n\";\n\n\nrunCode / code= \"\ndata casuser._RESULTS_humanreadable;\nRETAIN objVal _evalTime_ _decision_modelbackbone\t_decision_actfunction _decision_fconvo_size _decision_gamma\t_decision_stepsize\t\n\t\t_decision_minibatch\t_decision_lr _decision_betadiff\t_decision_l1reg _decision_l2reg _decision_gradclips _decision_lc_width_\t_decision_lc_height_\n\t\t_decision_obj_scale\t_decision_noobj_scale\t_decision_coord_scale\t_decision_class_scale\t_decision_detthreshold\n\t\t_decision_iouthreshold\t_decision_trainiou\t_decision_Dropoutblock_1_\t_decision_Dropoutblock_2\t\n\t\t_decision_Dropoutblock_3\t_decision_Dropoutblock_4\t_decision_Dropoutblock_5\t_decision_Dropoutblock_6\t\n\t\t_decision_Dropoutblock_7\t_decision_Dropoutblock_8\t_decision_Dropoutblock_9\t_decision_Dropoutblock_10\t\n\t\t_decision_Dropoutblock_11\t_decision_Dropoutblock_12\t_decision_Dropoutblock_13\t_decision_Dropoutblock_14\t\n\t\t_decision_Dropoutblock_15\t_decision_Dropoutblock_16\t_tag_\t_inf_\t_iter_;\t\t\n\n  set casuser._TEMP_DS_RESULTS_;\n\n/* change model backbone to human interpretable */\nif left(trim(_decision_modelbackbone))='1' then _decision_modelbackbone='resnet50_caffe';\nif left(trim(_decision_modelbackbone))='2' then _decision_modelbackbone='Tiny-Yolov2';\nif left(trim(_decision_modelbackbone))='3' then _decision_modelbackbone='ShuffleNetV2';\n\n/* change model activation function to human interpretable */\nif left(trim(_decision_actfunction))='8' then _decision_actfunction='ReLU';\nif left(trim(_decision_actfunction))='9' then _decision_actfunction='SoftPlus';\nif left(trim(_decision_actfunction))='10' then _decision_actfunction='Exponential Linear Unit (ELU)';\nif left(trim(_decision_actfunction))='11' then _decision_actfunction='Hyperbolic Tangent';\nif left(trim(_decision_actfunction))='12' then _decision_actfunction='Leaky ReLU';\n\n/* change model activation function to human interpretable */\nif left(trim(_decision_fconvo_size))='1' then _decision_fconvo_size='3 by 3';\nif left(trim(_decision_fconvo_size))='2' then _decision_fconvo_size='3 by 5';\nif left(trim(_decision_fconvo_size))='3' then _decision_fconvo_size='5 by 3';\nif left(trim(_decision_fconvo_size))='4' then _decision_fconvo_size='5 by 5';\nif left(trim(_decision_fconvo_size))='5' then _decision_fconvo_size='5 by 7';\nif left(trim(_decision_fconvo_size))='6' then _decision_fconvo_size='7 by 5';\nif left(trim(_decision_fconvo_size))='7' then _decision_fconvo_size='7 by 7';\n\n\nif _decision_Dropoutblock_1_<0 then _decision_Dropoutblock_1_=0;\nif _decision_Dropoutblock_2<0 then _decision_Dropoutblock_2=0;\nif _decision_Dropoutblock_3<0 then _decision_Dropoutblock_3=0;\nif _decision_Dropoutblock_4<0 then _decision_Dropoutblock_4=0;\nif _decision_Dropoutblock_5<0 then _decision_Dropoutblock_5=0;\nif _decision_Dropoutblock_6<0 then _decision_Dropoutblock_6=0;\nif _decision_Dropoutblock_7<0 then _decision_Dropoutblock_7=0;\nif _decision_Dropoutblock_8<0 then _decision_Dropoutblock_8=0;\nif _decision_Dropoutblock_9<0 then _decision_Dropoutblock_9=0;\nif _decision_Dropoutblock_10<0 then _decision_Dropoutblock_10=0;\nif _decision_Dropoutblock_11<0 then _decision_Dropoutblock_11=0;\nif _decision_Dropoutblock_12<0 then _decision_Dropoutblock_12=0;\nif _decision_Dropoutblock_13<0 then _decision_Dropoutblock_13=0;\nif _decision_Dropoutblock_14<0 then _decision_Dropoutblock_14=0;\nif _decision_Dropoutblock_15<0 then _decision_Dropoutblock_15=0;\nif _decision_Dropoutblock_16<0 then _decision_Dropoutblock_16=0;\n\nif _decision_modelbackbone='Tiny-Yolov2' then _decision_Dropoutblock_16=.;\n\n_decision_Dropoutblock_1_=_decision_Dropoutblock_1_*.05;\n_decision_Dropoutblock_2=_decision_Dropoutblock_2*.05;\n_decision_Dropoutblock_3=_decision_Dropoutblock_3*.05;\n_decision_Dropoutblock_4=_decision_Dropoutblock_4*.05;\n_decision_Dropoutblock_5=_decision_Dropoutblock_5*.05;\n_decision_Dropoutblock_6=_decision_Dropoutblock_6*.05;\n_decision_Dropoutblock_7=_decision_Dropoutblock_7*.05;\n_decision_Dropoutblock_8=_decision_Dropoutblock_8*.05;\n_decision_Dropoutblock_9=_decision_Dropoutblock_9*.05;\n_decision_Dropoutblock_10=_decision_Dropoutblock_10*.05;\n_decision_Dropoutblock_11=_decision_Dropoutblock_11*.05;\n_decision_Dropoutblock_12=_decision_Dropoutblock_12*.05;\n_decision_Dropoutblock_13=_decision_Dropoutblock_13*.05;\n_decision_Dropoutblock_14=_decision_Dropoutblock_14*.05;\n_decision_Dropoutblock_15=_decision_Dropoutblock_15*.05;\n_decision_Dropoutblock_16=_decision_Dropoutblock_16*.05;\n\nlabel \n\tobjVal = 'Objective Function'\n\t_evalTime_ = 'Evaluation Time'\n\t_decision_modelbackbone = 'Backbone Used'\n\t_decision_actfunction = 'Activation Function'\n\t_decision_fconvo_size = 'Size of First Convo Filter'\n\t_decision_gamma = 'Gamma Value'\n\t_decision_stepsize = 'Stepsize Value'\n\t_decision_minibatch = 'Minibatch Size'\n\t_decision_lr = 'Learning Rate'\n\t_decision_betadiff = 'Difference Between Betas (ADAM)'\n\t_decision_l1reg = 'L1 Regularization'\n\t_decision_l2reg = 'L2 Regularization'\n\t_decision_gradclips = 'Gradient Clips'\n\t_decision_betadiff = 'Difference Between Betas (ADAM)'\n\n\t_decision_lc_width_ = 'Last Convolution Layer Filter Widths'\n\t_decision_lc_height_ = 'Last Convolution Layer Filter Heights'\n\t_decision_obj_scale = 'Scalar for Object Presence'\n\t_decision_noobj_scale = 'Scalar for Non-Object Presence'\n\t_decision_coord_scale = 'Scalar for Coordinate Preditions'\n\t_decision_class_scale = 'Scalar for Class Preditions'\n\t_decision_detthreshold = 'Detection Threshold'\n\t_decision_iouthreshold = 'IoU Threshold'\n\t_decision_trainiou = 'Training IoU Threshold'\n\t_decision_Dropoutblock_1_ = 'Block1/Layer1 Dropout Percentage'\n\t_decision_Dropoutblock_2 = 'Block2/Layer2 Dropout Percentage'\n\t_decision_Dropoutblock_3 = 'Block3/Layer3 Dropout Percentage'\n\t_decision_Dropoutblock_4 = 'Block4/Layer4 Dropout Percentage'\n\t_decision_Dropoutblock_5 = 'Block5/Layer5 Dropout Percentage'\n\t_decision_Dropoutblock_6 = 'Block6/Layer6 Dropout Percentage'\n\t_decision_Dropoutblock_7 = 'Block7/Layer7 Dropout Percentage'\n\t_decision_Dropoutblock_8 = 'Block8/Layer8 Dropout Percentage'\n\t_decision_Dropoutblock_9 = 'Block9/Layer9 Dropout Percentage'\n\t_decision_Dropoutblock_10 = 'Block10/Layer10 Dropout Percentage'\n\t_decision_Dropoutblock_11 = 'Block11/Layer11 Dropout Percentage'\n\t_decision_Dropoutblock_12 = 'Block12/Layer12 Dropout Percentage'\n\t_decision_Dropoutblock_13 = 'Block13/Layer13 Dropout Percentage'\n\t_decision_Dropoutblock_14 = 'Block14/Layer14 Dropout Percentage'\n\t_decision_Dropoutblock_15 = 'Block15/Layer15 Dropout Percentage'\n\t_decision_Dropoutblock_16 = 'Block16/Layer16 Dropout Percentage'\n\n;\nrun;\n\";\nend;\n\n_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\nif _verify_modeling_task_=\"classification\" or _verify_modeling_task_=\"regression\" then do;\n\n/* update */\nrunCode result=suppress / code= \"\n\ndata casuser._TEMP_DS_RESULTS_;\n  set casuser._TEMP_DS_RESULTS_;\n\tch__decision_modelbackbone = input(_decision_modelbackbone, $32.);\n\tch__decision_actfunction = input(_decision_actfunction, $32.); \n\tch__decision_FCactfunc = input(_decision_FCactfunc, $32.);             \n    ch__decision_fconvo_size = input(_decision_fconvo_size, $32.);   \n \n   drop _decision_modelbackbone _decision_actfunction _decision_FCactfunc _decision_fconvo_size;                      \n   rename \n\t\t\tch__decision_modelbackbone=_decision_modelbackbone \n\t\t\tch__decision_actfunction=_decision_actfunction\n\t\t\tch__decision_FCactfunc=_decision_FCactfunc \n\t\t\tch__decision_fconvo_size = _decision_fconvo_size\n;   \n\nrun;\n\";\nrunCode / code= \"\ndata casuser._RESULTS_humanreadable;\nRETAIN objVal _evalTime_ _decision_modelbackbone\t_decision_actfunction _decision_fconvo_size _decision_gamma\t_decision_stepsize\t\n\t\t_decision_minibatch\t_decision_lr\t_decision_betadiff \n_decision_l1reg _decision_l2reg\t\t_decision_gradclips _decision_FCneuronnum\t_decision_FCactfunc\t\n\t\t_decision_Dropoutblock_1_\t_decision_Dropoutblock_2\t\n\t\t_decision_Dropoutblock_3\t_decision_Dropoutblock_4\t_decision_Dropoutblock_5\t_decision_Dropoutblock_6\t\n\t\t_decision_Dropoutblock_7\t_decision_Dropoutblock_8\t_decision_Dropoutblock_9\t_decision_Dropoutblock_10\t\n\t\t_decision_Dropoutblock_11\t_decision_Dropoutblock_12\t_decision_Dropoutblock_13\t_decision_Dropoutblock_14\t\n\t\t_decision_Dropoutblock_15\t_decision_Dropoutblock_16\t_tag_\t_inf_\t_iter_;\t\t\n\n  set casuser._TEMP_DS_RESULTS_;\n\n/* change model backbone to human interpretable */\nif left(trim(_decision_modelbackbone))='1' then _decision_modelbackbone='resnet50_caffe';\nif left(trim(_decision_modelbackbone))='2' then _decision_modelbackbone='Tiny-Yolov2';\nif left(trim(_decision_modelbackbone))='3' then _decision_modelbackbone='ShuffleNetV2';\n\n/* change model activation function to human interpretable */\nif left(trim(_decision_actfunction))='8' then _decision_actfunction='ReLU';\nif left(trim(_decision_actfunction))='9' then _decision_actfunction='SoftPlus';\nif left(trim(_decision_actfunction))='10' then _decision_actfunction='Exponential Linear Unit (ELU)';\nif left(trim(_decision_actfunction))='11' then _decision_actfunction='Hyperbolic Tangent';\nif left(trim(_decision_actfunction))='12' then _decision_actfunction='Leaky ReLU';\n\n/* change model activation function to human interpretable */\nif left(trim(_decision_FCactfunc))='8' then _decision_FCactfunc='ReLU';\nif left(trim(_decision_FCactfunc))='9' then _decision_FCactfunc='SoftPlus';\nif left(trim(_decision_FCactfunc))='10' then _decision_FCactfunc='Exponential Linear Unit (ELU)';\nif left(trim(_decision_FCactfunc))='11' then _decision_FCactfunc='Hyperbolic Tangent';\nif left(trim(_decision_FCactfunc))='12' then _decision_FCactfunc='Leaky ReLU';\n\n/* change model activation function to human interpretable */\nif left(trim(_decision_fconvo_size))='1' then _decision_fconvo_size='3 by 3';\nif left(trim(_decision_fconvo_size))='2' then _decision_fconvo_size='3 by 5';\nif left(trim(_decision_fconvo_size))='3' then _decision_fconvo_size='5 by 3';\nif left(trim(_decision_fconvo_size))='4' then _decision_fconvo_size='5 by 5';\nif left(trim(_decision_fconvo_size))='5' then _decision_fconvo_size='5 by 7';\nif left(trim(_decision_fconvo_size))='6' then _decision_fconvo_size='7 by 5';\nif left(trim(_decision_fconvo_size))='7' then _decision_fconvo_size='7 by 7';\n\n\nif _decision_Dropoutblock_1_<0 then _decision_Dropoutblock_1_=0;\nif _decision_Dropoutblock_2<0 then _decision_Dropoutblock_2=0;\nif _decision_Dropoutblock_3<0 then _decision_Dropoutblock_3=0;\nif _decision_Dropoutblock_4<0 then _decision_Dropoutblock_4=0;\nif _decision_Dropoutblock_5<0 then _decision_Dropoutblock_5=0;\nif _decision_Dropoutblock_6<0 then _decision_Dropoutblock_6=0;\nif _decision_Dropoutblock_7<0 then _decision_Dropoutblock_7=0;\nif _decision_Dropoutblock_8<0 then _decision_Dropoutblock_8=0;\nif _decision_Dropoutblock_9<0 then _decision_Dropoutblock_9=0;\nif _decision_Dropoutblock_10<0 then _decision_Dropoutblock_10=0;\nif _decision_Dropoutblock_11<0 then _decision_Dropoutblock_11=0;\nif _decision_Dropoutblock_12<0 then _decision_Dropoutblock_12=0;\nif _decision_Dropoutblock_13<0 then _decision_Dropoutblock_13=0;\nif _decision_Dropoutblock_14<0 then _decision_Dropoutblock_14=0;\nif _decision_Dropoutblock_15<0 then _decision_Dropoutblock_15=0;\nif _decision_Dropoutblock_16<0 then _decision_Dropoutblock_16=0;\n\nif _decision_modelbackbone='Tiny-Yolov2' then _decision_Dropoutblock_16=.;\n\n_decision_Dropoutblock_1_=_decision_Dropoutblock_1_*.05;\n_decision_Dropoutblock_2=_decision_Dropoutblock_2*.05;\n_decision_Dropoutblock_3=_decision_Dropoutblock_3*.05;\n_decision_Dropoutblock_4=_decision_Dropoutblock_4*.05;\n_decision_Dropoutblock_5=_decision_Dropoutblock_5*.05;\n_decision_Dropoutblock_6=_decision_Dropoutblock_6*.05;\n_decision_Dropoutblock_7=_decision_Dropoutblock_7*.05;\n_decision_Dropoutblock_8=_decision_Dropoutblock_8*.05;\n_decision_Dropoutblock_9=_decision_Dropoutblock_9*.05;\n_decision_Dropoutblock_10=_decision_Dropoutblock_10*.05;\n_decision_Dropoutblock_11=_decision_Dropoutblock_11*.05;\n_decision_Dropoutblock_12=_decision_Dropoutblock_12*.05;\n_decision_Dropoutblock_13=_decision_Dropoutblock_13*.05;\n_decision_Dropoutblock_14=_decision_Dropoutblock_14*.05;\n_decision_Dropoutblock_15=_decision_Dropoutblock_15*.05;\n_decision_Dropoutblock_16=_decision_Dropoutblock_16*.05;\n\nlabel \n\tobjVal = 'Objective Function'\n\t_evalTime_ = 'Evaluation Time'\n\t_decision_modelbackbone = 'Backbone Used'\n\t_decision_actfunction = 'Activation Function'\n\t_decision_fconvo_size = 'Size of First Convo Filter'\n\t_decision_gamma = 'Gamma Value'\n\t_decision_stepsize = 'Stepsize Value'\n\t_decision_minibatch = 'Minibatch Size'\n\t_decision_lr = 'Learning Rate'\n\t_decision_betadiff = 'Difference Between Betas (ADAM)'\n\t_decision_l1reg = 'L1 Regularization'\n\t_decision_l2reg = 'L2 Regularization'\n\t_decision_gradclips = 'Gradient Clips'\n\t_decision_FCneuronnum = 'Number of Neurons in FC Layer'\n\t_decision_FCactfunc = 'Activation Function Used in FC Layer'\n\t_decision_Dropoutblock_1_ = 'Block1/Layer1 Dropout Percentage'\n\t_decision_Dropoutblock_2 = 'Block2/Layer2 Dropout Percentage'\n\t_decision_Dropoutblock_3 = 'Block3/Layer3 Dropout Percentage'\n\t_decision_Dropoutblock_4 = 'Block4/Layer4 Dropout Percentage'\n\t_decision_Dropoutblock_5 = 'Block5/Layer5 Dropout Percentage'\n\t_decision_Dropoutblock_6 = 'Block6/Layer6 Dropout Percentage'\n\t_decision_Dropoutblock_7 = 'Block7/Layer7 Dropout Percentage'\n\t_decision_Dropoutblock_8 = 'Block8/Layer8 Dropout Percentage'\n\t_decision_Dropoutblock_9 = 'Block9/Layer9 Dropout Percentage'\n\t_decision_Dropoutblock_10 = 'Block10/Layer10 Dropout Percentage'\n\t_decision_Dropoutblock_11 = 'Block11/Layer11 Dropout Percentage'\n\t_decision_Dropoutblock_12 = 'Block12/Layer12 Dropout Percentage'\n\t_decision_Dropoutblock_13 = 'Block13/Layer13 Dropout Percentage'\n\t_decision_Dropoutblock_14 = 'Block14/Layer14 Dropout Percentage'\n\t_decision_Dropoutblock_15 = 'Block15/Layer15 Dropout Percentage'\n\t_decision_Dropoutblock_16 = 'Block16/Layer16 Dropout Percentage'\n\n;\nrun;\n\";\nend;\nend;\nrun;\n\n\n    table.fetch  /  \n     table={name=\"_RESULTS_humanreadable\", caslib=\"casuser\"}  \n    to=10000000 sortby={\n      {name=\"objVal\", order=\"ascending\"}};  /* don't forget to set up a macro value for this */\n\n\nend;\n\ntable.dropCaslib result=suppress / caslib=\"libres\" quiet=TRUE;\nquit;\n\n\n\n%put Model backbone is:  &_CV_modelBackbone_;\n%put Gamma value is: &_CV_gam_value_;\n%put Stepsize value is: &_CV_stepSize_value_;\n%put Minibatchsize is: &_CV_miniBSize_value_;\n%put &_CV_miniBSize_value_;\n\n%put Model backbone is:  &_CV_modelBackbone_;\n%put Gamma value is: &_CV_gam_value_;\n%put Stepsize value is: &_CV_stepSize_value_;\n%put Minibatchsize is: &_CV_miniBSize_value_;\n%put &_CV_miniBSize_value_;\n\n\n/* proc cas; */\n/* table.dropcaslib caslib='libres'; */\n/* quit; */\n\n/***************************************************/\n/***************************************************/\n/***************************************************/\n/* FINAL MODEL TRAINING */\n/***************************************************/\n/***************************************************/\n/***************************************************/\n\n\n\n\n/* %Macro _trainFinalCVModel(); */\nods output OptIterHistory=ObjectModeliter;\nproc cas;\n\n/* %if &_CV_modeltask_=classification or &_CV_modeltask_=regression %then %do; */\n\n%put &_CV_modeltask_;\n\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"classification\" or _verify_modeling_task_=\"regression\" then do;\n\n   \t\t\tloadactionset 'deeplearn';\n   \t\t\tloadactionset 'image';\n   \t\t\tloadactionset 'table';\n   \t\t\tloadactionset 'sampling';\n\n   \t\t\ttable.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n   \t\t\ttable.addCasLib result=suppress / name='libCVmod', path=\"&_CV_CVmodel_location\" subdirectories=true;\n\t\t\t\n\t\t\ttable.loadTable /caslib=\"libres\", path=\"&_imageDS_..sashdat\" casOut={name=\"&_imageDS_\", replace=true};\n/*\n\n\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n \t\t\timage.loadimages / caslib=\"&_CV_caslib_\" \n            \trecurse=true labellevels=1\n                casout={name=\"&_imageDS_\", replace=true};\n\t\t\tend;\n\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\t\t\ttable.loadTable /caslib=\"&_CV_caslib_\", path=\"&_CV_regressiontable_..sashdat\" casOut={name=\"&_imageDS_\", replace=true};\n\t\t\tend;\n\n\n\t\t\t_verify_image_color=\"&_image_input_color_\"; \n\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=True}\n\t\t\t\t\tcopyVars={'_path_',\"&_CV_tarVar_name_\"}\n\t\t\t\t\timage=\"&_CV_inpVar_name_\",\n    \t\t\t\timagefunctions={\n\t\t\t\t\t\t{functionOptions=\n\t\t\t\t\t\t\t{functionType='CONVERT_COLOR' type=\"COLOR2GRAY\"}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n    \t\t\t\ttable={name=\"&_imageDS_\"};\n\t\t\tend;\n\n  \t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=1}\n\t\t\t\tcopyVars={'_path_',\"&_CV_tarVar_name_\"}\n\t\t\t\timage=\"&_CV_inpVar_name_\",\n\t\t\t\timageTable={name=\"&_imageDS_\"}\n\t\t\t\timageFunctions={\n\t\t\t\t\t{functionOptions=\n\t\t\t\t\t\t{functionType='RESIZE', height=&_image_input_height_, width=&_image_input_width_}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t_set_train_sample_percent_=100-&_CV_valid_partition_per_;\n\t\t\taction srs result=suppress / table={name=\"&_imageDS_\"}\n      \t\t\tsamppct=_set_train_sample_percent_ \n\t\t\t\tsampPct2=&_CV_valid_partition_per_ \n\t\t\t\tseed=&_CV_partition_seed \n\t\t\t\tpartInd=true\n      \t\t\toutput={\n\t\t\t\t\tcasout={name=\"&_imageDS_\",replace=\"TRUE\"},\n               \tcopyvars=\"ALL\", partIndName=\"&_CV_partition_var_\"\n\t\t\t\t}; \n\n\t\t\ttable.shuffle result=suppress / table={name=\"&_imageDS_\"}\n \t\t\t\tcasout={name=\"&_imageDS_\", replace=1};\n*/\n;\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\n\t\t\t\t\t\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\t\tif _verify_autotune_init=\"yes\" then do;\n\n\t\t\t\ttable.loadTable /caslib='libres', path='autotune_bestweights_.sashdat' casOut={name='autotune_bestweights_', replace=true};\n\t\t\t\ttable.loadTable /caslib='libres', path='autotune_bestweights_.ATTRS.sashdat' casOut={name='autotune_bestweights__attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='autotune_bestweights_' table='autotune_bestweights__attr';\n\t\tend;\n\t\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights.sashdat' casOut={name='resnet50_caffe_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe_weights_attr.sashdat' casOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights' table='resnet50_caffe_weights_attr';\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat' casOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights_attr.sashdat' casOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights' table='Tiny-Yolov2_weights_attr';\n\t\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\t\t\tend;\n\t\tend;\n\n\n\n/*********************************/\n/*********************************/\n/* Classification modeling */\n/*********************************/\n/*********************************/\n/* filename='/data/roblan/NIH/TunerResults/mytest _' || (String)_bbEvalTag_ || '.txt'; */\n/*          file nodes filename; */\n/* identify model backbone */\n\t\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe.sashdat' casOut={name='resnet50_caffe', replace=true};\n/* remove current output layer */\n\t\t\t\tremovelayer / model='resnet50_caffe' name='fc1000';\n\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'pool5'};  \n\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=&_CV_FC_act_function;\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'pool5'};\n\t\t\t\t\tend;\n \t\t\t\tend; /* finished output layer setup for classification model */\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'pool5'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'pool5'};\n\t\t\t\t\tend;\n\t\t\t\tend; /* finished output layer setup for regression model */\n\n/*****************************/\n/* Remove biase from convo1 */\n/*****************************/\n\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.no_bias'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\n\n/*****************************/\n/* Remove biase from convo1 */\n/*****************************/\n\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.no_bias'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\n/*********************/\n/*Apply Dropout */\n/*********************/\n\n\t\t\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\t\t\t\t/*verify_apply_dropout=\"&_CV_dropValue\";*/  /* Robert - bug.  Need to still set dropout even if search is set to no.*/\n\t\t\t\t/*if verify_apply_dropout=\"yes\" then do;*/\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res2c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res3d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4e_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res4f_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'res5c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n/*end;*/ /* end applying dropout */\n\n\n/* change model activation functions */\n\t\t\t\t_verify_activation_function=&_CV_act_function;\n\t\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\t\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\t\tend;\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\t\t\t\tif _chk_image_height_<244 or _chk_image_width_<244 then do;\n/* Update Stride for last pool layer */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n\n\t\t\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\t\tend;\n\n/* no autotune applied training: */\n\tif _verify_autotune_init ne \"yes\" then do;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='resnet50_caffe_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\t\tend;\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\n\t\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n\t\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t\tENCODENAME=TRUE\n\t\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t\t\t\t;\n\t\t\t\tend;  /* End classification model training code  */\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n/* proc cas; */\n/* _set_beta1_value=.999-&_CV_betadiff_value_+0; */\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n/* quit; */\n\t\t\t\tend;\n/* no autotune applied training: */\n\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='resnet50_caffe_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\t\t\t\tend;\n\n\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\t\tmodel='resnet50_caffe' \n\t\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t\tENCODENAME=TRUE\n\t\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t\t\t\t;\n\t\t\t\tend; /* End regression model training code  */\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"resnet50_caffe\"\n    \t\t\t\t\t\t\t\t\tname=\"resnet50_caffe\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\t\tend; /* End ResNet50 model setup */\n\n\n/************************************/\n/* tiny-YOLOv2 for classification */\n/************************************/\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2.sashdat' casOut={name='Tiny-Yolov2', replace=true};\n\n\t\t\t\tremovelayer / model='Tiny-Yolov2' name='detection1';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' \n\t\t\t\t\tlayer={type='BATCHNORM' act='leaky'} srcLayers={'convo.9'}; \n\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='fclayer1' \n      \t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'b_n_9'};  \n\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t_verify_FC_activation_function=&_CV_FC_act_function;\n\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\tend;\n\n\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'convo.9'};\n\t\t\t\tend;\n\t\t\tend;\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' \n\t\t\t\t\tlayer={type='BATCHNORM' act='leaky'} srcLayers={'convo.9'}; \n\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='fclayer1' \n      \t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'b_n_9'};  \n\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\tend;\n\n\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='output1' \n\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'convo.9'};\n\t\t\t\tend;\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=&_CV_act_function;\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Leaky Activation Function'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\n\n\t\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\n\n\n\t\t\tverify_apply_dropout=\"&_CV_dropValue\";\n/* if verify_apply_dropout=\"yes\" then do; */\n\n\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\n\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool1' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\n\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.2' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\n\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool2' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\n\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.3' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\n\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool3' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\n\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.4' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool4' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\n\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.5' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\n\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.6' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'pool6' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\n\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.7' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\n\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.8' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\n\n\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'convo.9' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\n\n\n\n/* end;  end applying dropout */\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\n\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\t\t\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\t\tif _verify_autotune_init=\"yes\" then do;\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin Resnet for object detection*/\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\tseed=12345\n\t\t\t\t;\n\t\tend;\n\n\t\tif _verify_autotune_init ne \"yes\" then do;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin Resnet for object detection*/\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\tinitWeights='Tiny-Yolov2_weights'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\t\t\t/* \t\tweight=\"weight\" */\n         \t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\tseed=12345\n\t\t\t\t;\n\t\tend;\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove crop */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n      \t\t\t\tENCODENAME=TRUE\n\t\t\t\t;\n\n\t\t\tend;\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\n\n/*begin Tiny-Yolov2 for object detection*/\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\n/* \t\t\t\t\tnthreads=32 */\n\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t        ValidTable={name=\"&_imageDS_\",where=\"&_CV_partition_var_=2\"} \n        \t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\tseed=12345\n\t\t\t\t;\n\t\tend;\n\n\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin Tiny-Yolov2 for object detection*/\n\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n        \t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\tinitWeights='Tiny-Yolov2_weights'\n    \t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\ttarget=\"&_CV_tarVar_name_\" \n        \t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tnthreads=&n_threads_\n\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t        ValidTable={name=\"&_imageDS_\",where=\"&_CV_partition_var_=2\"} \n        \t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n        \t\t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\tmaxepochs=&_CV_num_epochs_} \n        \t\t\tseed=12345\n\t\t\t\t;\n\t\tend;\n\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove mutations */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n/* remove crop */\n\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\tmodel='Tiny-Yolov2' \n\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t\t\t\tENCODENAME=TRUE\n\t\t\t\t;\n\n\t\t\tend;\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"Tiny-Yolov2\"\n    \t\t\t\t\t\t\t\t\tname=\"Tiny-Yolov2\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend; /* End Tiny-YOLOv2 model for classification*/\n\n/************************************/\n/* ShuffleNetV2 for classification */\n/************************************/\n\n\t\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\t\t\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2.sashdat' casOut={name='ShuffleNetV2', replace=true};\n\n/* step 1 remove output layer - line 922 reference */\n \t\t\t\tremovelayer result=suppress / model='ShuffleNetV2' name='outputlayer_2';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'global_avg_pool'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'fclayer1'};\n\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=&_CV_FC_act_function;\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' act='SOFTMAX'} srcLayers={'global_avg_pool'};\n\t\t\t\t\tend;\n \t\t\t\tend; /* finished output layer setup for classification model */\n\n\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\t\t\t\t\t_verify_FC_include_=\"&_CV_include_FC_layer\"; /* include FC layer for class and reg task?   */\n\t\t\t\t\tif _verify_FC_include_=\"yes\" then do;\n/* Add a fully-connected layer with Batch Normalization */\n   \t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='fclayer1' \n      \t\t\t\t\tlayer={type='FULLCONNECT' n=&_CV_FC_neuron_num act='elu' dropout=0}  srcLayers={'global_avg_pool'};  \n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'fclayer1'};\n/* change model activation functions */\n\t\t\t\t\t\t_verify_FC_activation_function=\"&_CV_FC_act_function\";\n\t\t\t\t\t\tif _verify_FC_activation_function=11 then _new_FC_activation_value_=(string)6;\n\t\t\t\t\t\tif _verify_FC_activation_function ne 11 then _new_FC_activation_value_=(string)_verify_FC_activation_function;\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'fclayer1' and  _DLKey1_ = 'fcopts.act'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_FC_activation_value_}};\n\t\t\t\t\tend;\n\t\t\t\t\n\t\t\t\t\tif _verify_FC_include_ ne \"yes\" then do;\n/* add new output layer */\n\t\t\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='output1' \n\t\t\t\t\t\tlayer={type='output' error=\"&_CV_reg_error\" act=\"&_CV_reg_out_act_function\" targetStd=\"&_CV_reg_out_standardization\"} srcLayers={'global_avg_pool'};\n\t\t\t\t\tend;\n\t\t\t\tend; /* finished output layer setup for regression model */\n\n\n\n\t\t\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block5/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block6/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block7/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block8/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\n\n/* change model activation functions */\n\t\t\t\t_verify_activation_function=&_CV_act_function;\n\t\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\t\t\tif _verify_activation_function ne 11 then _new_activation_value_=(string)_verify_activation_function;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_new_activation_value_}};\n\n\t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\";\n\t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do;\n/* Apply crop */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_crop_=\"none\" then do;\n/* Apply no crop */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\n\n\t\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\t\t\tif _verify_mutation_=\"random\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_mutation_=\"none\" then do;\n/* Apply mutations */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\n\t\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\t\t\tif _verify_fliptype_=\"none\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"vertical\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='3'}};\n\t\t\t\tend;\n\t\t\t\tif _verify_fliptype_=\"both\" then do;\n/* Apply flipping */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}};\n\t\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t\t_verify_image_color=\"&_image_input_color_\"; /* yes no */\n\t\t\t\tif _verify_image_color = \"greyscale\" then do;\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\t\tend;\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\t\t\t\tif _chk_image_height_<244 or _chk_image_width_<244 then do;\n/* Update Stride for last pool layer */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tend;\n\n\n\n\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"classification\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\n\n\t\t\t\t\t\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\t\tif _verify_autotune_init=\"yes\" then do;\n\n\t\t\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n\t\tend;\n\n/* no autotune applied training: */\n\tif _verify_autotune_init ne \"yes\" then do;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='ShuffleNetV2_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" nominal={\"&_CV_tarVar_name_\"}\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\n\t\tend;\n\n/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\n\n\t\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n\t\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t\tENCODENAME=TRUE\n\t\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t\t\t\t;\n\t\t\t\tend;  /* End classification model training code  */\n\n\n\n\t\t\t\t\t\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\t\t\t\tif _verify_modeling_task_=\"regression\" then do;\n\n\t\t\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n/* proc cas; */\n/* _set_beta1_value=.999-&_CV_betadiff_value_+0; */\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='autotune_bestweights_'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\"\n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345;\n\n\t\t\tend;\n\n\n\t\t\t/* no autotune applied training: */\n\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\t\n\t\t\t\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n        \t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1}\n        \t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1}\n\t\t\t\t\t\tinitWeights='ShuffleNetV2_weights'\n    \t\t\t\t\tinputs=\"&_CV_inpVar_name_\"\n        \t\t\t\ttarget=\"&_CV_tarVar_name_\" \n\t\t\t\t        GPU=&_CV_usegpu_T_F\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\t\t\tnthreads=&n_threads_\n         \t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n        \t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, \n\t\t        \t\t\talgorithm={method='ADAM', lrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_,\n       \t\t\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}\n   \t\t\t \t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n        \t\t\t\tmaxepochs=&_CV_eval_epochs} \n        \t\t\t\tseed=12345\n\t\t\t\t\t;\n\t\t\t\tend;\n\n\t\t\t\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\";\n\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}};\n\n\t\t\t\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\t\t\tmodel='ShuffleNetV2' \n\t\t\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\t\t\tgpu=&_CV_usegpu_T_F\n\t\t\t\t\t\tENCODENAME=TRUE\n\t\t\t\t\t\tcopyVars={\"&_CV_tarVar_name_\", \"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t\t\t\t;\n\t\n\t\t\t\tend; /* End regression model training code  */\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"ShuffleNetV2\"\n    \t\t\t\t\t\t\t\t\tname=\"ShuffleNetV2\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\t\tend; /* End ShuffleNetV2 model setup */\n\tend;\n\n/* %end; */\n\n/* %if &_CV_modeltask_=objectdetection %then %do; */\n\n%PUT &_CV_modeltask_;\n\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\tif _verify_modeling_task_=\"objectdetection\" then do;\n\t\tloadactionset 'deeplearn';\n\t\tloadactionset 'image';\n\t\tloadactionset 'table';\n\t\tloadactionset 'sampling';\n/* \t\ttable.addCaslib / name=\"&_CV_caslib_\" path='/mnt/viya-share/data/Cifar10/' */\n\t\tsubdirectories=true;\n\t\ttable.addCasLib result=suppress / name='libCVmod', \n\t\t\tpath=\"&_CV_CVmodel_location\" subdirectories=true;\n\n\t\t   table.addCasLib result=suppress / name=\"libres\", path=\"&_CV_location_for_results_data\" subdirectories=true;\n\n\t\t\ttable.loadTable /caslib=\"libres\", path=\"&_imageDS_..sashdat\" casOut={name=\"&_imageDS_\", replace=true};\n\n\n/*\n\n\t\ttable.loadTable /caslib=\"&_CV_caslib_\", path=\"&_CV_objectdetectiondata_\"\n\t\tcasOut={name=\"&_imageDS_\", replace=true};\n\t\tname=\"_Object\";\n\t\tappendNames={\"_\", \"_x\", \"_y\", \"_width\", \"_height\"};\n\t\t_ObjectTargets_={\"_nObjects_\"};\n\t\ti=0;\n\n\t\tdo until (i=&_CV_object_num_);\n\n\t\t\tdo col over appendNames;\n\t\t\t\tvalue=name || i || col;\n\t\t\t\t_ObjectTargets_=_ObjectTargets_ + value;\n\t\t\tend;\n\t\t\ti=i+1;\n\t\tend;\n\n\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=True} \n\t\t\t\tcopyVars=_ObjectTargets_\n\t\t\t\timage=\"&_CV_inpVar_name_\", \n\t\t\t\timagefunctions={{functionOptions={functionType='CONVERT_COLOR'\n\t\t\t\ttype=\"COLOR2GRAY\"}}} table={name=\"&_imageDS_\"};\n\t\tend;\n\n\t\timage.processImages result=suppress / casout={name=\"&_imageDS_\", replace=1} \n\t\t\tcopyVars=_ObjectTargets_\n\t\t\timage=\"&_CV_inpVar_name_\", imageTable={name=\"&_imageDS_\"} \n\t\t\timageFunctions={{functionOptions={functionType='RESIZE', \n\t\t\theight=&_image_input_height_, width=&_image_input_width_}}};\n\t\t_set_train_sample_percent_=100-&_CV_valid_partition_per_;\n\n\t\taction srs result=suppress / table={name=\"&_imageDS_\"} samppct=_set_train_sample_percent_\n\t\tsampPct2=&_CV_valid_partition_per_ seed=&_CV_partition_seed partInd=true\n\t\toutput={casout={name=\"&_imageDS_\", replace=\"TRUE\"}, copyvars=\"ALL\", \n\t\t\tpartIndName=\"&_CV_partition_var_\"};\n\n\t\ttable.shuffle result=suppress / table={name=\"&_imageDS_\"} casout={name=\"&_imageDS_\", \n\t\t\treplace=1};\n\n*/\n\t\t;\n\t\t\t\t\t\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\t\tif _verify_autotune_init=\"yes\" then do;\n\n\t\t\t\ttable.loadTable /caslib='libres', path='autotune_bestweights_.sashdat' casOut={name='autotune_bestweights_', replace=true};\n\t\t\t\ttable.loadTable /caslib='libres', path='autotune_bestweights_.ATTRS.sashdat' casOut={name='autotune_bestweights__attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='autotune_bestweights_' table='autotune_bestweights__attr';\n\t\tend;\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\t\t\t\t\t\t_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\t\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='resnet50_caffe_weights_attr.sashdat'\n\t\t\t\tcasOut={name='resnet50_caffe_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='resnet50_caffe_weights'\n\t\t\ttable='resnet50_caffe_weights_attr';\n\t\tend;\n\n\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2_weights.sashdat'\n\t\t\tcasOut={name='Tiny-Yolov2_weights', replace=true};\n\t\t\ttable.loadTable /caslib='libCVmod', \n\t\t\t\tpath='Tiny-Yolov2_weights_attr.sashdat'\n\t\t\t\tcasOut={name='Tiny-Yolov2_weights_attr', replace=true};\n\t\t\ttable.attribute / task='add' name='Tiny-Yolov2_weights'\n\t\t\ttable='Tiny-Yolov2_weights_attr';\n\t\tend;\n\n\t\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights.sashdat' casOut={name='ShuffleNetV2_weights', replace=true};\n\t\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2_weights_attr.sashdat' casOut={name='ShuffleNetV2_weights_attr', replace=true};\n\t\t\t\ttable.attribute / task='add' name='ShuffleNetV2_weights' table='ShuffleNetV2_weights_attr';\n\t\t\tend;\n\t\tend;\n\n\t\t* Create set up variables *;\n\t\tname=\"_Object\";\n\t\tappendNames={\"_\", \"_x\", \"_y\", \"_width\", \"_height\"};\n\t\t_ObjectTargets_={\"_nObjects_\"};\n\t\t* Create the ObjectsTarget variable with the list of names *;\n\t\ti=0;\n\n\t\tdo until (i=&_CV_object_num_);\n\n\t\t\t/*     do i over {0,1,2}; */\n\t\t\tdo col over appendNames;\n\t\t\t\tvalue=name || i || col;\n\t\t\t\t_ObjectTargets_=_ObjectTargets_ + value;\n\t\t\tend;\n\t\t\ti=i+1;\n\t\tend;\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\n\t\tif _verify_modelbackbone_=\"resnet50_caffe\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='resnet50_caffe.sashdat'\n\t\t\tcasOut={name='resnet50_caffe', replace=true};\n\n/* remove current output layer */\n\t\t\tremovelayer / model='resnet50_caffe' name='fc1000';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n/* add new output layer */\n\t\t\t/* Depth = predictionsPerGrid + (ClassNumber + CoorNumber + 1)  */\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_bn_afterpool5_'\n\t\t\t\tlayer={type='BATCHNORM' act='reLu'} srcLayers={'pool5'};\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convoprelast_' layer={type='CONVO'\n\t\t\t\tnFilters=4096\n\t\t\t\twidth=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=2\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_afterpool5_'};\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_bn_last_' layer={type='BATCHNORM'\n\t\t\t\tact='reLu'} srcLayers={'_convoprelast_'};\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth\n\t\t\t\twidth=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=1\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_last_'};\n\t\t\tend;\n\n\n/*****************************/\n/* Remove biase from convo1 */\n/*****************************/\n\n\t\t\t\tmytbl.name  =\"resnet50_caffe\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.no_bias'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"1\"}};\n\n/*********************/\n/*Apply Dropout */\n/*********************/\n\t\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\t\t\tverify_apply_dropout=\"&_CV_dropValue\";\n\n\t\t\t/* if verify_apply_dropout=\"yes\" then do; */\n\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\n\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\n\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\n\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res2c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\n\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\n\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\n\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\n\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res3d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\n\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\n\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\n\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__10}};\n\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\n\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4d_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__11}};\n\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\n\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4e_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__12}};\n\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\n\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res4f_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__13}};\n\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\n\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5a_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__14}};\n\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\n\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5b_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__15}};\n\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\n\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2a' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2b' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'res5c_branch2c' and  _DLKey1_ = 'convopts.dropout'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_Dropout_block__16}};\n\n\t\t\t/* end;  end applying dropout */\n\t\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='resnet50_caffe' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth width=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height\n\t\t\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'pool5'};\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=&_CV_act_function;\n\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\n\t\t\tif _verify_activation_function ne 11 then \n\t\t\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_new_activation_value_}};\n\t\t\t_update_grid_size=0+0;\n\n\t\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\n\t\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\n\t\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\t\t\t\t_update_grid_size=20;\n\t\t\tAddLayer result=suppress / model='resnet50_caffe'\n\t\t\tname='detection1' layer={type='detection'\n\t\t\tdetectionModelType=\"YOLOV2\"\n\t\t\tclassNumber=&_CV_OD_class_num\n\t\t\tgridNumber=_update_grid_size\n\t\t\tcoordNumber=4\n\t\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\t\tanchors={&anchor_box_coord} \n\t\t\tsoftMaxForClassProb=True\n\n/* Error function scalers: */\n\t\t\tobjectScale=&_CV_OD_Obj_scale_\n\t\t\tpredictionNotAObjectScale=&_CV_OD_Not_Obj_scale_\n\t\t\tclassScale=&_CV_OD_class_scale_\n\t\t\tcoordScale=&_CV_OD_coord_scale_\n\n/* end, error function scalers */\n\t\t\tcoordType=\"YOLO\"\n\n\t\t\t/* Prediction thresholds */\n\t\t\tdetectionThreshold=&_CV_OD_detection_thresh_\n\t\t\tiouThreshold=&_CV_OD_iouthreshold_\n\t\t\ttrainIouThreshold=&_CV_iouTrainThreshold_} srcLayers={'_convolast_'};\n\t\t\t\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\n\t\t\tif _verify_mutation_=\"random\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_mutation_=\"none\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\n\t\t\tif _verify_fliptype_=\"none\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"both\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t\t/* yes no */\n\t\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\t_verify_modeling_task_=\"&_CV_modeltask_\"; /* classification, regression or objectdetection */\n\n\n\t\t\tif _chk_image_height_<244 or _chk_image_width_<244 or\n\t\t\t_verify_modeling_task_=\"objectdetection\" then do;\n\n/* Update Stride for last pool layer */\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\t/* end resnet model setup*/\n\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin Resnet for object detection*/\n\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\tmodel='resnet50_caffe'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad},ignoreTrainingError=true, \n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n\t\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\tend;\n\n\n\tif _verify_autotune_init ne \"yes\" then do;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin Resnet for object detection*/\n\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\tmodel='resnet50_caffe'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\t\tinitWeights='resnet50_caffe_weights'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad},ignoreTrainingError=true, \n   \t\t\t \t\t\tloglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n\t\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\tend;\n\n\n\t\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tmytbl.name=\"resnet50_caffe\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n/* \t\t\tmytbl.name  =\"resnet50_caffe\";  */\n/* \t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\t\t\tdlScore  / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\tmodel='resnet50_caffe'\n\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tcopyVars={/*'idjoin',*/\"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\n\t\t\t;\n\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"resnet50_caffe\"\n    \t\t\t\t\t\t\t\t\tname=\"resnet50_caffe\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\n\t\tend;\n\n\t\t/*end resnet50 for object detection*/\n\t\t/************************************/\n\t\t/* tiny-YOLOv2 for Object detection */\n\t\t/************************************/\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\tif _verify_modelbackbone_=\"Tiny-Yolov2\" then do;\n\t\ttable.loadTable /caslib='libCVmod', path='Tiny-Yolov2.sashdat'\n\t\tcasOut={name='Tiny-Yolov2', replace=true};\n\n\t\tremovelayer result=suppress / model='Tiny-Yolov2' name='detection1';\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_9' layer={type='BATCHNORM'\n\t\tact='leaky'} srcLayers={'convo.9'};\n\n\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t_chk_image_width_=&_image_input_width_+0;\n\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convoprelast_' layer={type='CONVO'\n\t\tnFilters=1024 width=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=2\n\t\tact='identity' includeBias=FALSE} srcLayers={'b_n_9'};\n\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='b_n_10' layer={type='BATCHNORM'\n\t\tact='leaky'} srcLayers={'_convoprelast_'};\n\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convolast_' layer={type='CONVO'\n\t\tnFilters=_OD_depth width=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height\n\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'b_n_10'};\n\t\tend;\n\n\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\tAddLayer result=suppress / model='Tiny-Yolov2' name='_convolast_' layer={type='CONVO'\n\t\tnFilters=_OD_depth width=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height\n\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'b_n_9'};\n\t\tend;\n\n\t\t/* change model activation functions */\n\t\t_verify_activation_function=&_CV_act_function;\n\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\t\tif _verify_activation_function ne 11 then\n\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Leaky Activation Function'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=_new_activation_value_}};\n\n\t\t_update_grid_size=0+0;\n\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\n\t\t_update_grid_size=20;\n\n\t\tAddLayer result=suppress / model='Tiny-Yolov2'\n\t\tname='detection1' layer={type='detection'\n\t\tdetectionModelType=\"YOLOV2\"\n\t\tclassNumber=&_CV_OD_class_num\n\t\tgridNumber=_update_grid_size\n\t\tcoordNumber=4\n\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\tanchors={&anchor_box_coord} softMaxForClassProb=True\n\n\t\t/* Error function scalers: */\n\t\tobjectScale=&_CV_OD_Obj_scale_\n\t\tpredictionNotAObjectScale=&_CV_OD_Not_Obj_scale_\n\t\tclassScale=&_CV_OD_class_scale_\n\t\tcoordScale=&_CV_OD_coord_scale_\n\n\t\t/* end, error function scalers */\n\t\tcoordType=\"YOLO\"\n\n\t\t/* Prediction thresholds */\n\t\tdetectionThreshold=&_CV_OD_detection_thresh_\n\t\tiouThreshold=&_CV_OD_iouthreshold_\n\t\ttrainIouThreshold=&_CV_iouTrainThreshold_} \n\t\tsrcLayers={'_convolast_'};\n\n\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\t\tverify_apply_dropout=\"&_CV_dropValue\";\n\n\t\t/* if verify_apply_dropout=\"yes\" then do; */\n\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.1' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool1' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.2' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool2' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.3' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool3' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.4' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool4' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.5' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool5' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.6' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'pool6' and  _DLKey1_ = 'poolingopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.7' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.8' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'convo.9' and  _DLKey1_ = 'convopts.dropout'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\n\t\t/* end;  end applying dropout */\n\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\t\tif _verify_mutation_=\"random\" then do;\n\n\t\t/* Apply mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\tend;\n\t\tif _verify_mutation_=\"none\" then do;\n\n\t\t/* Apply mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\tend;\n\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\t\tif _verify_fliptype_=\"none\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"vertical\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\tend;\n\t\tif _verify_fliptype_=\"both\" then do;\n\n\t\t/* Apply flipping */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\tend;\n\n\t\t/* Change the expected input size - height */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.height'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=\"&_image_input_height_\"}};\n\n\t\t/* Change the expected input size - width */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.width'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\tvalue=\"&_image_input_width_\"}};\n\n\t\t/* Change the number of channels to match greyscale if condition exist */\n\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t/* yes no */\n\t\tif _verify_image_color=\"greyscale\" then do;\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\tend;\n\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t/*begin tiny-yolov2 for object detection*/\n\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\tmodel='Tiny-Yolov2'\n\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\tinitWeights='autotune_bestweights_'\n\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='input1', type='IMAGE'}} \n\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\n\t\t\t/* \t\tnthreads=32 */\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad},ignoreTrainingError=true, \n   \t\t\t loglevel=2, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\tend;\n\n\tif _verify_autotune_init ne \"yes\" then do;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t/*begin tiny-yolov2 for object detection*/\n\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\tmodel='Tiny-Yolov2'\n\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\tinitWeights='Tiny-Yolov2_weights'\n\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='input1', type='IMAGE'}} \n\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\t\tnthreads=&n_threads_\n\n\t\t\t/* \t\tnthreads=32 */\n\t\t\t/* \t\tweight=\"weight\" */\n\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad},ignoreTrainingError=true, \n   \t\t\t loglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\tend;\n\n\n\n\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.flip'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\n\t\t/* remove mutations */\n\t\tmytbl.name=\"Tiny-Yolov2\";\n\t\tmytbl.where=\"_DLKey0_ = 'input1' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t/* remove crop */\n/* \t\tmytbl.name  =\"Tiny-Yolov2\";  */\n/* \t\tmytbl.where = \"_DLKey0_ = 'input1' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\t\tdlScore / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\tmodel='Tiny-Yolov2'\n\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\tcopyVars={/*'idjoin',*/\"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\t\t;\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"Tiny-Yolov2\"\n    \t\t\t\t\t\t\t\t\tname=\"Tiny-Yolov2\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\t\tend;\n\n\n/****************************************/\n/* ShuffleNetV2 Object Detection\t\t*/\n/****************************************/\n\t\t_verify_modelbackbone_=\"&_CV_modelBackbone_\";\n\t\tif _verify_modelbackbone_=\"ShuffleNetV2\" then do;\n\t\t\ttable.loadTable /caslib='libCVmod', path='ShuffleNetV2.sashdat'\n\t\t\tcasOut={name='ShuffleNetV2', replace=true};\n\n/* remove current output layer */\n \t\t\t\tremovelayer result=suppress / model='ShuffleNetV2' name='outputlayer_2';\n\n\n/* Adjust first convo layer filter sizes */\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.width'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_width\"}};\n\t\t\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\t\t\tmytbl.where = \"_DLKey0_ = 'conv1' and  _DLKey1_ = 'convopts.height'\";\n\t\t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=\"&mac_firstConvo_height\"}};\n\n\n/* add new output layer */\n\t\t\t/* Depth = predictionsPerGrid + (ClassNumber + CoorNumber + 1)  */\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then do;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_bn_afterpool5_'\n\t\t\t\tlayer={type='BATCHNORM' act='reLu'} srcLayers={'global_avg_pool'};\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convoprelast_' layer={type='CONVO'\n\t\t\t\tnFilters=2048\n\t\t\t\twidth=3 height=3 stride=2\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_afterpool5_'};\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_bn_last_' layer={type='BATCHNORM'\n\t\t\t\tact='reLu'} srcLayers={'_convoprelast_'};\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth\n\t\t\t\twidth=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height stride=1\n\t\t\t\tact='identity' includeBias=FALSE} srcLayers={'_bn_last_'};\n\t\t\tend;\n\n\n\n\n\t\t\t_dec_Drop_out_block_1=&_CV_dropout_block1;\n\t\t\t_dec_Drop_out_block_2=&_CV_dropout_block2;\n\t\t\t_dec_Drop_out_block_3=&_CV_dropout_block3;\n\t\t\t_dec_Drop_out_block_4=&_CV_dropout_block4;\n\t\t\t_dec_Drop_out_block_5=&_CV_dropout_block5;\n\t\t\t_dec_Drop_out_block_6=&_CV_dropout_block6;\n\t\t\t_dec_Drop_out_block_7=&_CV_dropout_block7;\n\t\t\t_dec_Drop_out_block_8=&_CV_dropout_block8;\n\t\t\t_dec_Drop_out_block_9=&_CV_dropout_block9;\n\t\t\t_dec_Drop_out_block__10=&_CV_dropout_block10;\n\t\t\t_dec_Drop_out_block__11=&_CV_dropout_block11;\n\t\t\t_dec_Drop_out_block__12=&_CV_dropout_block12;\n\t\t\t_dec_Drop_out_block__13=&_CV_dropout_block13;\n\t\t\t_dec_Drop_out_block__14=&_CV_dropout_block14;\n\t\t\t_dec_Drop_out_block__15=&_CV_dropout_block15;\n\t\t\t_dec_Drop_out_block__16=&_CV_dropout_block16;\n\n\n\t\t\t\t_dec_update_Drop_out_block_1=_dec_Drop_out_block_1*.05;\n\t\t\t\tif _dec_update_Drop_out_block_1<0 then _dec_update_Drop_out_block_1=0;\n\t\t\t\t_Dropout_block_1=(string)_dec_update_Drop_out_block_1;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_1}};\n\n\t\t\t\t_dec_update_Drop_out_block_2=_dec_Drop_out_block_2*.05;\n\t\t\t\tif _dec_update_Drop_out_block_2<0 then _dec_update_Drop_out_block_2=0;\n\t\t\t\t_Dropout_block_2=(string)_dec_update_Drop_out_block_2;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_2}};\n\n\t\t\t\t_dec_update_Drop_out_block_3=_dec_Drop_out_block_3*.05;\n\t\t\t\tif _dec_update_Drop_out_block_3<0 then _dec_update_Drop_out_block_3=0;\n\t\t\t\t_Dropout_block_3=(string)_dec_update_Drop_out_block_3;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_3}};\n\n\t\t\t\t_dec_update_Drop_out_block_4=_dec_Drop_out_block_4*.05;\n\t\t\t\tif _dec_update_Drop_out_block_4<0 then _dec_update_Drop_out_block_4=0;\n\t\t\t\t_Dropout_block_4=(string)_dec_update_Drop_out_block_4;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage2/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_4}};\n\n\t\t\t\t_dec_update_Drop_out_block_5=_dec_Drop_out_block_5*.05;\n\t\t\t\tif _dec_update_Drop_out_block_5<0 then _dec_update_Drop_out_block_5=0;\n\t\t\t\t_Dropout_block_5=(string)_dec_update_Drop_out_block_5;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_5}};\n\n\t\t\t\t_dec_update_Drop_out_block_6=_dec_Drop_out_block_6*.05;\n\t\t\t\tif _dec_update_Drop_out_block_6<0 then _dec_update_Drop_out_block_6=0;\n\t\t\t\t_Dropout_block_6=(string)_dec_update_Drop_out_block_6;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_6}};\n\n\t\t\t\t_dec_update_Drop_out_block_7=_dec_Drop_out_block_7*.05;\n\t\t\t\tif _dec_update_Drop_out_block_7<0 then _dec_update_Drop_out_block_7=0;\n\t\t\t\t_Dropout_block_7=(string)_dec_update_Drop_out_block_7;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_7}};\n\n\n\t\t\t\t_dec_update_Drop_out_block_8=_dec_Drop_out_block_8*.05;\n\t\t\t\tif _dec_update_Drop_out_block_8<0 then _dec_update_Drop_out_block_8=0;\n\t\t\t\t_Dropout_block_8=(string)_dec_update_Drop_out_block_8;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_8}};\n\n\t\t\t\t_dec_update_Drop_out_block_9=_dec_Drop_out_block_9*.05;\n\t\t\t\tif _dec_update_Drop_out_block_9<0 then _dec_update_Drop_out_block_9=0;\n\t\t\t\t_Dropout_block_9=(string)_dec_update_Drop_out_block_9;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block5/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block_9}};\n\n\t\t\t\t_dec_update_Drop_out_block__10=_dec_Drop_out_block__10*.05;\n\t\t\t\tif _dec_update_Drop_out_block__10<0 then _dec_update_Drop_out_block__10=0;\n\t\t\t\t_Dropout_block__10=(string)_dec_update_Drop_out_block__10;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block6/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__10}};\n\n\t\t\t\t_dec_update_Drop_out_block__11=_dec_Drop_out_block__11*.05;\n\t\t\t\tif _dec_update_Drop_out_block__11<0 then _dec_update_Drop_out_block__11=0;\n\t\t\t\t_Dropout_block__11=(string)_dec_update_Drop_out_block__11;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block7/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__11}};\n\n\t\t\t\t_dec_update_Drop_out_block__12=_dec_Drop_out_block__12*.05;\n\t\t\t\tif _dec_update_Drop_out_block__12<0 then _dec_update_Drop_out_block__12=0;\n\t\t\t\t_Dropout_block__12=(string)_dec_update_Drop_out_block__12;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage3/block8/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__12}};\n\n\t\t\t\t_dec_update_Drop_out_block__13=_dec_Drop_out_block__13*.05;\n\t\t\t\tif _dec_update_Drop_out_block__13<0 then _dec_update_Drop_out_block__13=0;\n\t\t\t\t_Dropout_block__13=(string)_dec_update_Drop_out_block__13;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block1/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__13}};\n\n\t\t\t\t_dec_update_Drop_out_block__14=_dec_Drop_out_block__14*.05;\n\t\t\t\tif _dec_update_Drop_out_block__14<0 then _dec_update_Drop_out_block__14=0;\n\t\t\t\t_Dropout_block__14=(string)_dec_update_Drop_out_block__14;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block2/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__14}};\n\n\t\t\t\t_dec_update_Drop_out_block__15=_dec_Drop_out_block__15*.05;\n\t\t\t\tif _dec_update_Drop_out_block__15<0 then _dec_update_Drop_out_block__15=0;\n\t\t\t\t_Dropout_block__15=(string)_dec_update_Drop_out_block__15;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block3/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__15}};\n\n\t\t\t\t_dec_update_Drop_out_block__16=_dec_Drop_out_block__16*.05;\n\t\t\t\tif _dec_update_Drop_out_block__16<0 then _dec_update_Drop_out_block__16=0;\n\t\t\t\t_Dropout_block__16=(string)_dec_update_Drop_out_block__16;\n\t\t\t\tmytbl.name  =\"ShuffleNetV2\"; \n\t\t\t\tmytbl.where = \"_DLKey0_ = 'stage4/block4/3x3dwconv' and  _DLKey1_ = 'groupconvopts.dropout'\";\n\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value=_Dropout_block__16}};\n\n\t\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\t\t\t/* end;  end applying dropout */\n\t\t\tif _chk_image_height_ ne 1280 or _chk_image_width_ ne 1280 then do;\n\t\t\t\t_OD_depth=&_CV_OD_preds_per_grid * (&_CV_OD_class_num + 5)+0;\n\t\t\t\tAddLayer result=suppress / model='ShuffleNetV2' name='_convolast_' layer={type='CONVO'\n\t\t\t\tnFilters=_OD_depth width=&_CV_OD_lastConvo_width height=&_CV_OD_lastConvo_height\n\t\t\t\tstride=1 act='identity' includeBias=FALSE} srcLayers={'global_avg_pool'};\n\t\t\tend;\n\n/* change model activation functions */\n\t\t\t_verify_activation_function=&_CV_act_function;\n\n\t\t\tif _verify_activation_function=11 then _new_activation_value_=(string)6;\n\n\t\t\tif _verify_activation_function ne 11 then \n\t\t\t\t_new_activation_value_=(string)_verify_activation_function;\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey1_ = 'bnopts.act' and  _DLChrVal_ = 'Rectifier'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=_new_activation_value_}};\n\t\t\t_update_grid_size=0+0;\n\n\t\t\tif _chk_image_height_=224 or _chk_image_width_=224 then _update_grid_size=7;\n\n\t\t\tif _chk_image_height_=416 or _chk_image_width_=416 then _update_grid_size=13;\n\n\t\t\tif _chk_image_height_=640 or _chk_image_width_=640 then _update_grid_size=20;\n\n\t\t\tif _chk_image_height_=1280 or _chk_image_width_=1280 then \n\t\t\t\t_update_grid_size=20;\n\n\t\t\tAddLayer result=suppress / model='ShuffleNetV2'\n\t\t\tname='detection1' layer={type='detection'\n\t\t\tdetectionModelType=\"YOLOV2\"\n\t\t\tclassNumber=&_CV_OD_class_num\n\t\t\tgridNumber=_update_grid_size\n\t\t\tcoordNumber=4\n\t\t\tpredictionsPerGrid=&_CV_OD_preds_per_grid\n\t\t\tanchors={&anchor_box_coord} \n\t\t\tsoftMaxForClassProb=True\n\n/* Error function scalers: */\n\t\t\tobjectScale=&_CV_OD_Obj_scale_\n\t\t\tpredictionNotAObjectScale=&_CV_OD_Not_Obj_scale_\n\t\t\tclassScale=&_CV_OD_class_scale_\n\t\t\tcoordScale=&_CV_OD_coord_scale_\n\n/* end, error function scalers */\n\t\t\tcoordType=\"YOLO\"\n\n\t\t\t/* Prediction thresholds */\n\t\t\tdetectionThreshold=&_CV_OD_detection_thresh_\n\t\t\tiouThreshold=&_CV_OD_iouthreshold_\n\t\t\ttrainIouThreshold=&_CV_iouTrainThreshold_} srcLayers={'_convolast_'};\n\n\n/* \t\t\t\t_verify_crop_=\"&_CV_crop_RESIZE_THENCROP\"; */\n/* \t\t\t\tif _verify_crop_=\"RESIZETHENCROP\" then do; */\n/* Apply crop */\n/* \t\t\t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='4'}}; */\n/* \t\t\t\tend; */\n/* \t\t\t\tif _verify_crop_=\"none\" then do; */\n/* Apply no crop */\n/* \t\t\t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n/* \t\t\t\tend; */\n\n\t\t\t_verify_mutation_=\"&_CV_random_mutate\";\n\n\t\t\tif _verify_mutation_=\"random\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_mutation_=\"none\" then do;\n\n/* Apply mutations */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\t\t\t_verify_fliptype_=\"&_CV_fliptype_\";\n\n\t\t\tif _verify_fliptype_=\"none\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"horizontal\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"vertical\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='3'}};\n\t\t\tend;\n\n\t\t\tif _verify_fliptype_=\"both\" then do;\n\n/* Apply flipping */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='4'}};\n\t\t\tend;\n\n/* Change the expected input size - height */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.height'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_height_\"}};\n\n/* Change the expected input size - width */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.width'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", \n\t\t\t\tvalue=\"&_image_input_width_\"}};\n\n/* Change the number of channels to match greyscale if condition exist */\n\t\t\t_verify_image_color=\"&_image_input_color_\";\n\n\t\t\t/* yes no */\n\t\t\tif _verify_image_color=\"greyscale\" then do;\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = '\tinputopts.nchannels'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value=\"1\"}};\n\t\t\tend;\n\t\t\t_chk_image_height_=&_image_input_height_+0;\n\t\t\t_chk_image_width_=&_image_input_width_+0;\n\n\n/* Update Stride for last pool layer */\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.stride_width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.height'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\t\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\t\tmytbl.where=\"_DLKey0_ = 'global_avg_pool' and  _DLKey1_ = 'poolingopts.width'\";\n\t\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='2'}};\n\n\t\t\t/* end ShuffleNetV2 model setup*/\n\t\t\t_set_beta1_value=.999-&_CV_betadiff_value_+0;\n\n_verify_autotune_init=\"&_CV_Global_autotune_initiate\";\n\tif _verify_autotune_init=\"yes\" then do;\n\t\t\t_new_final_lr=(&_CV_gam_value_**(floor(&_CV_eval_epochs/&_CV_stepSize_value_)))*&_CV_lr_value_;\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n/*begin ShuffleNetV2 for object detection*/\n\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\tmodel='ShuffleNetV2'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\t\tinitWeights='autotune_bestweights_'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\t\tlearningrate=_new_final_lr, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}, ignoreTrainingError=true,    \t\t\t \t\t\t\n\t\t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n \t\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\nend;\n\tif _verify_autotune_init ne \"yes\" then do;\n\n\t\t\t\t\tlower_clipgrad=0+&_CV_gradclips_value*-1;\n\n\t\t\tdlTrain / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=1\"} \n\t\t\t\tmodel='ShuffleNetV2'\n\t\t\t\tmodelWeights={name='ConVTrainedWeights_d', replace=1} \n\t\t\t\tbestweights={name=\"&_CV_finalweightstable_\", replace=1} \n\t\t\t\tinitWeights='ShuffleNetV2_weights'\n\t\t\t\tdataSpecs={{data=_ObjectTargets_, layer='detection1', \n\t\t\t\ttype='OBJECTDETECTION'} {data={'_image_'}, layer='data', type='IMAGE'}} \n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\tnthreads=&n_threads_\n\t\t\t\t/* \t\tweight=\"weight\" */\n\t\t\t\tValidTable={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\toptimizer={minibatchsize=&_CV_miniBSize_value_, algorithm={method='ADAM', \n\t\t\t\tlrpolicy='Step', gamma=&_CV_gam_value_, stepsize=&_CV_stepSize_value_, \n\t\t\t\tlearningrate=&_CV_lr_value_, beta1=_set_beta1_value, clipGradMax=&_CV_gradclips_value, clipGradMin=lower_clipgrad}, ignoreTrainingError=true,    \t\t\t \t\t\t\n\t\t\t\tloglevel=1, regL1=&_CV_l1reg_value_, regL2=&_CV_l2reg_value_,\n \t\t\t\tmaxepochs=&_CV_num_epochs_} seed=12345;\n\nend;\n\n\t\t\t/* return flipping back to \"no flip\" for OD model scoring and deployment */\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.flip'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n\t\t\tmytbl.name=\"ShuffleNetV2\";\n\t\t\tmytbl.where=\"_DLKey0_ = 'data' and  _DLKey1_ = 'inputopts.mutation'\";\n\t\t\ttable.update / table=mytbl set={{var=\"_DLNumVal_\", value='1'}};\n/* \t\t\tmytbl.name  =\"ShuffleNetV2\";  */\n/* \t\t\tmytbl.where = \"_DLKey0_ = 'data' and  _DLChrVal_ = 'No cropping'\"; */\n/* \t\t\ttable.update /  table=mytbl  set = {{var=\"_DLNumVal_\", value='1'}}; */\n\n\n\t\t\t\tdlScore  / table={name=\"&_imageDS_\", where=\"&_CV_partition_var_=2\"} \n\t\t\t\tmodel='ShuffleNetV2'\n\t\t\t\tinitWeights=\"&_CV_finalweightstable_\"\n\t\t\t\tGPU=&_CV_usegpu_T_F\n\t\t\t\t\tcopyVars={/*'idjoin',*/\"&_CV_partition_var_\", \"&_CV_inpVar_name_\"}\n      \t\t\t\tcasout={name=\"&outputCASTable1\", replace=1, caslib=\"&outputCaslib1\"}\n\n\t\t\t;\n\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"ShuffleNetV2\"\n    \t\t\t\t\t\t\t\t\tname=\"ShuffleNetV2\"\n    \t\t\t\t\t\t\t\t\treplace=True;\n\n\n\t\t/* end object detection model setup */\n\t\tend;end;\n\tend;\n/* %end; */\n\t\t/* ending autotuning conditional yes/no */\n\t\tquit;\n\n/****************************/\n/*  Store minimum training  */\n/*  and validation error in */\n/*  macro variables. \t    */\n/****************************/\n\nproc sql noprint;\n\tselect min(FitError)\n\tinto :Train separated by ' '\n\tfrom ObjectModeliter;\nquit;\n\n\nproc sql noprint;  \nselect min(ValidError) \n \tinto :Valid separated by ' '  \n \tfrom ObjectModeliter;  \n  quit;   \n\n/* Plot Performance */\nproc sgplot data=ObjectModeliter;;\nyaxis label='ERROR Rate';\n\tseries x=Epoch y=FitError / CURVELABEL=\"&Train\" CURVELABELPOS=END name =\"Training\";\n     \tseries x=Epoch y=Validerror / CURVELABEL=\"&Valid\" CURVELABELPOS=END name = \"Validation\";\nkeylegend \"Training\" \"Validation\";   \nrun;\n\n\n\n\nproc cas;\n  \t\t\t\t\t\t\t\t\t\ttable.save / saveAttrs=True\n  \t\t\t\t\t\t\t\t\t\tCaslib=\"libres\"  \n    \t\t\t\t\t\t\t\t\ttable=\"&_CV_finalweightstable_\"\n    \t\t\t\t\t\t\t\t\tname=\"&_CV_finalweightstable_\"\n    \t\t\t\t\t\t\t\t\treplace=True;\nquit;\n\n/* %mend; */\n/*  */\n/* %_trainFinalCVModel; */\n\noptions mprint MLOGIC ;\n%Macro viewimagepredictions();\n\n%if &_CV_modeltask_=classification %then %do;\n\n\nproc cas;\n table.shuffle / table={name=\"&outputCASTable1\",\n computedVars={{name=\"Misclassified_count\"}},\n computedVarsProgram=\"if trim(left(&_CV_tarVar_name_)) = trim(left(I_&_CV_tarVar_name_)) then Misclassified_count=0;\n      else Misclassified_count=1;\n\n\", caslib=\"&outputCaslib1\", where=\"&_CV_partition_var_=2\"}\n \t\t\t\t casout={name='scoredimagedata_w_miss', replace=1, caslib='casuser'};\nquit;\n\n\ndata work.MISC_Counts;\n   set casuser.scoredimagedata_w_miss (drop=_image_);\n      if trim(left(&_CV_tarVar_name_)) = trim(left(I_&_CV_tarVar_name_)) then Misclassified_count=0;\n      else Misclassified_count=1;\nrun;\n\n/**************************************************/\n/*Sum misclassification counts at the target level*/\n/**************************************************/\nproc sql;\n   create table work.AssessModel as\t\n      select distinct &_CV_tarVar_name_, sum(Misclassified_count) as number_MISC\n      from work.MISC_Counts\n      group by &_CV_tarVar_name_;\nquit;\n\n/***************************************************/\n/*Plot each target level's misclassification counts */\n/***************************************************/\nproc sgplot data=work.AssessModel;\n   vbar _label_ / response=number_MISC;\n   yaxis display=(nolabel) grid;\n   xaxis display=(nolabel);\nrun;\n\n\n/* proc cas; */\n/* \tRandomly select images to display */\n/* \taction sampling.srs / table={caslib=\"casuser\",  */\n/* \t\tname=\"scoredimagedata_w_miss\", where=\"Misclassified_count=1\"}, sampPct=&_CV_percentimages_to_insclass,  */\n/* \t\tdisplay={excludeAll=TRUE},  */\n/* \t\toutput={casOut={caslib=\"casuser\", name=\"tempDisplayTable_\", replace=TRUE},  */\n/*  */\n/* \t\toutput={casOut={caslib=\"&_CV_caslib_\", name=\"tempDisplayTable_\", replace=TRUE},  */\n/* \t\tcopyVars=\"ALL\"}; */\n/* quit; */\n/*  */\n/* proc cas; */\n/*    saveImages result=suppress / caslib=\"libres\"   */\n/*    subdirectory='Final_images_to_display' */\n/*    images = {table={name='tempDisplayTable_', caslib=\"casuser\"}  */\n/* \t\t\timage=\"&_CV_inpVar_name_\", id=\"I_&_CV_tarVar_name_\",label=\"I_&_CV_tarVar_name_\"} */\n/*    overwrite=TRUE   type=\"JPG\" labelLevels=1; */\n/*  */\n/* ********************************************* */\n/* Highlight bounding box regions in Images in */\n/* ********************************************* */\n/*  */\n/* \taction image.loadImages result=suppress / caslib=\"libres\" path=\"Final_images_to_display\" */\n/* \t\trecurse=TRUE labelLevels=-1 casOut={caslib=\"casuser\",  */\n/* \t\tname=\"_viewyourimages_\", replace=TRUE}; */\n/* \trun; */\n/* quit; */\n/*  */\n/* Display images */\n/* data _null_; */\n/* \tset casuser._viewyourimages_ end=eof; */\n/* \t_labelID_=cat(_label_, ' (_id_=', _id_, ')'); */\n/*  */\n/* \tif _n_=1 then */\n/* \t\tdo; */\n/* \t\t\tdcl odsout obj(); */\n/* \t\t\tobj.layout_gridded(columns: 4); */\n/* \t\tend; */\n/* \tobj.region(); */\n/* \tobj.format_text(text: _labelID_, just: \"c\", style_attr: 'font_size=9pt'); */\n/* \tobj.image(file: _path_, width: \"&_image_input_width_\", height: \"&_image_input_height_\"); */\n/*  */\n/* \tif eof then */\n/* \t\tdo; */\n/* \t\t\tobj.layout_end(); */\n/* \t\tend; */\n/* run; */\n\n\n\n%end;\n\n\n%if &_CV_modeltask_=objectdetection %then %do;\n\nproc cas;\n/* \tRandomly select images to display */\n\taction sampling.srs / table={caslib=\"&outputCaslib1\", \n\t\tname=\"&outputCASTable1\", where=\"&_CV_partition_var_=2\"}, sampPct=&_CV_percentimages_to_inspect, \n\t\tdisplay={excludeAll=TRUE}, \n\t\toutput={casOut={caslib=\"casuser\", name=\"tempDisplayTable_\", replace=TRUE}, \n\n/* \t\toutput={casOut={caslib=\"&_CV_caslib_\", name=\"tempDisplayTable_\", replace=TRUE},  */\n\t\tcopyVars=\"ALL\"};\nquit;\ntitle \"Number of Holdout Images Selected:\";\nproc freq data=casuser.tempDisplayTable_;\ntables _partind_;\nrun;\ntitle;\ntitle \"Number of Selected Holdout Images Containing Successful Extractions:\";\nproc cas;\nimage.extractDetectedObjects /\n\tcasOut={name='_Objects_highlighted_', replace=true, caslib=\"libres\"}\n\tcoordType='YOLO'\n\tmaxObjects=&_CV_OD_class_num\n  \textractType=\"HIGHLIGHT\" \n\tTable={name='tempDisplayTable_', caslib=\"casuser\"};\nquit;\ntitle;\nproc cas;\n   saveImages result=suppress / caslib=\"libres\"  \n   subdirectory='Final_images_to_display'\n   images = {table={name='_Objects_highlighted_', caslib=\"libres\"} image=\"&_CV_inpVar_name_\"}\n   overwrite=TRUE   type=\"JPG\";\n\n/***********************************************/\n/*Highlight bounding box regions in Images in*/\n/***********************************************/\n\n\taction image.loadImages result=suppress / caslib=\"libres\" path=\"Final_images_to_display\"\n\t\trecurse=TRUE labelLevels=-1 casOut={caslib=\"casuser\", \n\t\tname=\"_viewyourimages_\", replace=TRUE};\n\trun;\nquit;\n\n/* Display images */\ndata _null_;\n\tset casuser._viewyourimages_ end=eof;\n\t_labelID_=cat(_label_, ' (_id_=', _id_, ')');\n\n\tif _n_=1 then\n\t\tdo;\n\t\t\tdcl odsout obj();\n\t\t\tobj.layout_gridded(columns: 4);\n\t\tend;\n\tobj.region();\n\tobj.format_text(text: _labelID_, just: \"c\", style_attr: 'font_size=9pt');\n\tobj.image(file: _path_, width: \"&_image_input_width_\", height: \"&_image_input_height_\");\n\n\tif eof then\n\t\tdo;\n\t\t\tobj.layout_end();\n\t\tend;\nrun;\n\n\n%end;\n%mend;\n%viewimagepredictions;\n\n\nproc cas;\n/* table.dropCaslib result=suppress / caslib=\"&_CV_caslib_\" quiet=TRUE; */\ntable.dropCaslib result=suppress / caslib=\"libCVmod\" quiet=TRUE;\ntable.dropCaslib result=suppress / caslib=\"libres\" quiet=TRUE;\nquit;\nODS pdf CLOSE;\nproc printto;\nrun;\n"}}