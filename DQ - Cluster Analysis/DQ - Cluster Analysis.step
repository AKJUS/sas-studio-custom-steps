{"creationTimeStamp":"2023-11-24T17:30:46.147Z","modifiedTimeStamp":"2024-01-22T13:42:55.007Z","createdBy":"viyademo01","modifiedBy":"viyademo01","name":"DQ - Cluster Analysis.step","displayName":"DQ - Cluster Analysis.step","localDisplayName":"DQ - Cluster Analysis.step","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","uri":"/dataFlows/steps/712ada35-023b-413c-a370-d4ca96883cf2","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"_intable","displayName":"_intable","localDisplayName":"_intable","minEntries":1,"maxEntries":1,"defaultEntries":0,"type":"table"}],"outputPorts":[{"name":"_outtable","displayName":"_outtable","localDisplayName":"_outtable","minEntries":1,"maxEntries":1,"defaultEntries":0,"type":"table","supportsView":false,"requiresStructure":false}]},"ui":"{\"showPageContentOnly\":true,\"pages\":[{\"id\":\"_cluster_analysis_page\",\"type\":\"page\",\"label\":\"Cluster Analysis\",\"children\":[{\"id\":\"_intable\",\"type\":\"inputtable\",\"label\":\"Input table\",\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_outtable\",\"type\":\"outputtable\",\"label\":\"Output table\",\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_clusterid\",\"type\":\"columnselector\",\"label\":\"Cluster ID column:\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_adv_rus\",\"type\":\"checkbox\",\"label\":\"Advanced rule editing\",\"visible\":[0,\"=\",1]},{\"id\":\"text1\",\"type\":\"text\",\"text\":\"In the editor you can munualy write the cluster rules using data step IF statements. \",\"visible\":\"$_adv_rus\"},{\"id\":\"_ru_editor\",\"type\":\"textarea\",\"label\":\"Rule editor\",\"placeholder\":\"\",\"required\":false,\"visible\":\"$_adv_rus\"},{\"id\":\"_ru_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rules:\",\"required\":true,\"integer\":true,\"min\":null,\"max\":5,\"stepsize\":1,\"visible\":\"!$_adv_rus\"},{\"id\":\"_ru_1\",\"type\":\"section\",\"label\":\"Rule 1\",\"open\":true,\"visible\":\"!$_adv_rus\",\"children\":[{\"id\":\"_ru_1_co_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rule conditions:\",\"required\":false,\"integer\":false,\"min\":1,\"max\":8,\"stepsize\":1},{\"id\":\"_ru_1_co_1\",\"type\":\"section\",\"label\":\"Condition 1\",\"open\":false,\"visible\":\"\",\"children\":[{\"id\":\"_ru_1_co_1_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_1_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_1_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_1_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_2\",\"type\":\"section\",\"label\":\"Condition 2\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",1],\"children\":[{\"id\":\"_ru_1_co_2_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_2_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_2_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_2_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_3\",\"type\":\"section\",\"label\":\"Condition 3\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",2],\"children\":[{\"id\":\"_ru_1_co_3_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_3_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_3_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_3_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_4\",\"type\":\"section\",\"label\":\"Condition 4\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",3],\"children\":[{\"id\":\"_ru_1_co_4_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_4_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_4_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_4_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_5\",\"type\":\"section\",\"label\":\"Condition 5\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",4],\"children\":[{\"id\":\"_ru_1_co_5_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_5_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_5_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_5_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_6\",\"type\":\"section\",\"label\":\"Condition 6\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",5],\"children\":[{\"id\":\"_ru_1_co_6_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_6_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_6_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_6_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_7\",\"type\":\"section\",\"label\":\"Condition 7\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",6],\"children\":[{\"id\":\"_ru_1_co_7_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_7_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_7_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_7_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_1_co_8\",\"type\":\"section\",\"label\":\"Condition 8\",\"open\":false,\"visible\":[\"$_ru_1_co_cnt\",\">\",7],\"children\":[{\"id\":\"_ru_1_co_8_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_8_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_1_co_8_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_1_co_8_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]}]},{\"id\":\"_ru_2\",\"type\":\"section\",\"label\":\"Rule 2\",\"open\":false,\"visible\":[[\"$_ru_cnt\",\">\",1],\"&\",\"!$_adv_rus\"],\"children\":[{\"id\":\"_ru_2_co_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rule conditions:\",\"required\":false,\"integer\":false,\"min\":1,\"max\":8,\"stepsize\":1},{\"id\":\"_ru_2_co_1\",\"type\":\"section\",\"label\":\"Condition 1\",\"open\":false,\"visible\":\"\",\"children\":[{\"id\":\"_ru_2_co_1_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_1_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_1_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_1_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_2\",\"type\":\"section\",\"label\":\"Condition 2\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",1],\"children\":[{\"id\":\"_ru_2_co_2_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_2_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_2_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_2_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_3\",\"type\":\"section\",\"label\":\"Condition 3\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",2],\"children\":[{\"id\":\"_ru_2_co_3_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_3_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_3_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_3_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_4\",\"type\":\"section\",\"label\":\"Condition 4\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",3],\"children\":[{\"id\":\"_ru_2_co_4_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_4_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_4_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_4_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_5\",\"type\":\"section\",\"label\":\"Condition 5\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",4],\"children\":[{\"id\":\"_ru_2_co_5_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_5_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_5_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_5_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_6\",\"type\":\"section\",\"label\":\"Condition 6\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",5],\"children\":[{\"id\":\"_ru_2_co_6_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_6_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_6_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_6_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_7\",\"type\":\"section\",\"label\":\"Condition 7\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",6],\"children\":[{\"id\":\"_ru_2_co_7_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_7_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_7_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_7_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_2_co_8\",\"type\":\"section\",\"label\":\"Condition 8\",\"open\":false,\"visible\":[\"$_ru_2_co_cnt\",\">\",7],\"children\":[{\"id\":\"_ru_2_co_8_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_8_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_2_co_8_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_2_co_8_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]}]},{\"id\":\"_ru_3\",\"type\":\"section\",\"label\":\"Rule 3\",\"open\":false,\"visible\":[[\"$_ru_cnt\",\">\",2],\"&\",\"!$_adv_rus\"],\"children\":[{\"id\":\"_ru_3_co_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rule conditions:\",\"required\":false,\"integer\":false,\"min\":1,\"max\":8,\"stepsize\":1},{\"id\":\"_ru_3_co_1\",\"type\":\"section\",\"label\":\"Condition 1\",\"open\":false,\"visible\":\"\",\"children\":[{\"id\":\"_ru_3_co_1_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_1_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_1_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_1_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_2\",\"type\":\"section\",\"label\":\"Condition 2\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",1],\"children\":[{\"id\":\"_ru_3_co_2_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_2_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_2_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_2_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_3\",\"type\":\"section\",\"label\":\"Condition 3\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",2],\"children\":[{\"id\":\"_ru_3_co_3_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_3_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_3_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_3_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_4\",\"type\":\"section\",\"label\":\"Condition 4\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",3],\"children\":[{\"id\":\"_ru_3_co_4_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_4_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_4_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_4_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_5\",\"type\":\"section\",\"label\":\"Condition 5\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",4],\"children\":[{\"id\":\"_ru_3_co_5_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_5_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_5_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_5_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_6\",\"type\":\"section\",\"label\":\"Condition 6\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",5],\"children\":[{\"id\":\"_ru_3_co_6_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_6_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_6_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_6_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_7\",\"type\":\"section\",\"label\":\"Condition 7\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",6],\"children\":[{\"id\":\"_ru_3_co_7_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_7_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_7_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_7_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_3_co_8\",\"type\":\"section\",\"label\":\"Condition 8\",\"open\":false,\"visible\":[\"$_ru_3_co_cnt\",\">\",7],\"children\":[{\"id\":\"_ru_3_co_8_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_8_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_3_co_8_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_3_co_8_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]}]},{\"id\":\"_ru_4\",\"type\":\"section\",\"label\":\"Rule 4\",\"open\":false,\"visible\":[[\"$_ru_cnt\",\">\",3],\"&\",\"!$_adv_rus\"],\"children\":[{\"id\":\"_ru_4_co_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rule conditions:\",\"required\":false,\"integer\":false,\"min\":1,\"max\":8,\"stepsize\":1},{\"id\":\"_ru_4_co_1\",\"type\":\"section\",\"label\":\"Condition 1\",\"open\":false,\"visible\":\"\",\"children\":[{\"id\":\"_ru_4_co_1_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_1_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_1_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_1_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_2\",\"type\":\"section\",\"label\":\"Condition 2\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",1],\"children\":[{\"id\":\"_ru_4_co_2_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_2_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_2_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_2_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_3\",\"type\":\"section\",\"label\":\"Condition 3\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",2],\"children\":[{\"id\":\"_ru_4_co_3_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_3_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_3_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_3_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_4\",\"type\":\"section\",\"label\":\"Condition 4\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",3],\"children\":[{\"id\":\"_ru_4_co_4_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_4_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_4_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_4_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_5\",\"type\":\"section\",\"label\":\"Condition 5\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",4],\"children\":[{\"id\":\"_ru_4_co_5_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_5_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_5_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_5_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_6\",\"type\":\"section\",\"label\":\"Condition 6\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",5],\"children\":[{\"id\":\"_ru_4_co_6_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_6_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_6_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_6_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_7\",\"type\":\"section\",\"label\":\"Condition 7\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",6],\"children\":[{\"id\":\"_ru_4_co_7_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_7_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_7_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_7_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_4_co_8\",\"type\":\"section\",\"label\":\"Condition 8\",\"open\":false,\"visible\":[\"$_ru_4_co_cnt\",\">\",7],\"children\":[{\"id\":\"_ru_4_co_8_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_8_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_4_co_8_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_4_co_8_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]}]},{\"id\":\"_ru_5\",\"type\":\"section\",\"label\":\"Rule 5\",\"open\":false,\"visible\":[[\"$_ru_cnt\",\">\",4],\"&\",\"!$_adv_rus\"],\"children\":[{\"id\":\"_ru_5_co_cnt\",\"type\":\"numstepper\",\"label\":\"Number of rule conditions:\",\"required\":false,\"integer\":false,\"min\":1,\"max\":8,\"stepsize\":1},{\"id\":\"_ru_5_co_1\",\"type\":\"section\",\"label\":\"Condition 1\",\"open\":false,\"visible\":\"\",\"children\":[{\"id\":\"_ru_5_co_1_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_1_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_1_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_1_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_2\",\"type\":\"section\",\"label\":\"Condition 2\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",1],\"children\":[{\"id\":\"_ru_5_co_2_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_2_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_2_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_2_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_3\",\"type\":\"section\",\"label\":\"Condition 3\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",2],\"children\":[{\"id\":\"_ru_5_co_3_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_3_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_3_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_3_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_4\",\"type\":\"section\",\"label\":\"Condition 4\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",3],\"children\":[{\"id\":\"_ru_5_co_4_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_4_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_4_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_4_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_5\",\"type\":\"section\",\"label\":\"Condition 5\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",4],\"children\":[{\"id\":\"_ru_5_co_5_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_5_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_5_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_5_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_6\",\"type\":\"section\",\"label\":\"Condition 6\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",5],\"children\":[{\"id\":\"_ru_5_co_6_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_6_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_6_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_6_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_7\",\"type\":\"section\",\"label\":\"Condition 7\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",6],\"children\":[{\"id\":\"_ru_5_co_7_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_7_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_7_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_7_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]},{\"id\":\"_ru_5_co_8\",\"type\":\"section\",\"label\":\"Condition 8\",\"open\":false,\"visible\":[\"$_ru_5_co_cnt\",\">\",7],\"children\":[{\"id\":\"_ru_5_co_8_rec_1_fld\",\"type\":\"columnselector\",\"label\":\"Record 1 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_8_compare\",\"type\":\"dropdown\",\"label\":\"Camparison\",\"items\":[{\"value\":\"=\",\"label\":\"equal to\"},{\"value\":\"~=\",\"label\":\"not equal to\"},{\"value\":\">\",\"label\":\"greater than\"},{\"value\":\"<\",\"label\":\"less than\"},{\"value\":\">=\",\"label\":\"greater than or equal to\"},{\"value\":\"<=\",\"label\":\"less than or equal to\"}],\"required\":true,\"placeholder\":\"\",\"visible\":\"\"},{\"id\":\"_ru_5_co_8_rec_2_fld\",\"type\":\"columnselector\",\"label\":\"Record 2 Field\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":1,\"visible\":\"\",\"table\":\"_intable\"},{\"id\":\"_ru_5_co_8_score\",\"type\":\"numberfield\",\"label\":\"Score\",\"placeholder\":\"\",\"required\":true,\"max\":null,\"min\":null,\"visible\":[\"$_option_rb\",\"=\",\"Use rules for cluster analysis\"]}]}]}]},{\"id\":\"_options_page\",\"type\":\"page\",\"label\":\"Options\",\"children\":[{\"id\":\"_option_rb\",\"type\":\"radiogroup\",\"label\":\"\",\"items\":[{\"value\":\"Use rules for cluster analysis\"},{\"value\":\"Use rules as cluster rules\"}],\"visible\":\"\"},{\"id\":\"text3\",\"type\":\"text\",\"text\":\"The rules are used to analyse the clusters. Each record in a cluster is compared with each other based on the rules. \\nThe output will have two columns showing the compared records. \\nIf you can set a column with a unique record id, the output will show the record ids for the compared records. \\nIf no record id column is set the record numbers will be used.\",\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"]},{\"id\":\"_record_id\",\"type\":\"columnselector\",\"label\":\"Record ID column:\",\"order\":false,\"columntype\":\"a\",\"max\":1,\"min\":0,\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"],\"table\":\"_intable\"},{\"id\":\"text4\",\"type\":\"text\",\"text\":\"You can choose the alalysis output to get information for conditions, rules or a total score for the rules per record.\",\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"]},{\"id\":\"_show_cond_score\",\"type\":\"checkbox\",\"label\":\"Show condition score\",\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"]},{\"id\":\"_show_rule_score\",\"type\":\"checkbox\",\"label\":\"Show rule score\",\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"]},{\"id\":\"_show_total_score\",\"type\":\"checkbox\",\"label\":\"Show total score\",\"visible\":[\"$_option_rb\",\"!=\",\"Use rules as cluster rules\"]},{\"id\":\"text2\",\"type\":\"text\",\"text\":\"The rules are assumed to be the cluster rules used to cluster the data. \\nThe Cluster Analysis result will show which cluster rules got triggered for each row to join a cluster.\",\"visible\":[\"$_option_rb\",\"=\",\"Use rules as cluster rules\"]}]},{\"id\":\"_about_page\",\"type\":\"page\",\"label\":\"About\",\"children\":[{\"id\":\"_about_text\",\"type\":\"text\",\"text\":\"The Cluster Analysis step enables you can compare pairs of rows within a single match cluster to determine whether each pair is really a match. This step helps you to score each record in a cluster to determine if a record in a cluster is a potential false positive or not.\\n\\n* You can either run rules and set an individual score for each rule condition or\\n* You can use the rules to determine if a cluster rule was triggered for a record to match a cluster.\\n\\nChange Log:\\n\\nVersion 1.0 (15JAN2024)\\n  *  Initial version\\n\",\"visible\":\"\"}]}],\"values\":{\"_intable\":{\"library\":\"\",\"table\":\"\"},\"_outtable\":{\"library\":\"\",\"table\":\"\"},\"_clusterid\":[],\"_adv_rus\":false,\"_ru_editor\":\"\",\"_ru_cnt\":1,\"_ru_1_co_cnt\":1,\"_ru_1_co_1_rec_1_fld\":[],\"_ru_1_co_1_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_1_rec_2_fld\":[],\"_ru_1_co_1_score\":10,\"_ru_1_co_2_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_2_score\":10,\"_ru_1_co_3_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_3_score\":10,\"_ru_1_co_4_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_4_score\":10,\"_ru_1_co_5_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_5_score\":10,\"_ru_1_co_6_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_6_score\":10,\"_ru_1_co_7_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_7_score\":10,\"_ru_1_co_8_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_1_co_8_score\":10,\"_ru_2_co_cnt\":1,\"_ru_2_co_1_rec_1_fld\":[],\"_ru_2_co_1_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_1_rec_2_fld\":[],\"_ru_2_co_1_score\":10,\"_ru_2_co_2_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_2_score\":10,\"_ru_2_co_3_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_3_score\":10,\"_ru_2_co_4_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_4_score\":10,\"_ru_2_co_5_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_5_score\":10,\"_ru_2_co_6_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_6_score\":10,\"_ru_2_co_7_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_7_score\":10,\"_ru_2_co_8_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_2_co_8_score\":10,\"_ru_3_co_cnt\":1,\"_ru_3_co_1_rec_1_fld\":[],\"_ru_3_co_1_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_1_rec_2_fld\":[],\"_ru_3_co_1_score\":10,\"_ru_3_co_2_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_2_score\":10,\"_ru_3_co_3_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_3_score\":10,\"_ru_3_co_4_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_4_score\":10,\"_ru_3_co_5_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_5_score\":10,\"_ru_3_co_6_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_6_score\":10,\"_ru_3_co_7_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_7_score\":10,\"_ru_3_co_8_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_3_co_8_score\":10,\"_ru_4_co_cnt\":1,\"_ru_4_co_1_rec_1_fld\":[],\"_ru_4_co_1_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_1_rec_2_fld\":[],\"_ru_4_co_1_score\":10,\"_ru_4_co_2_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_2_score\":10,\"_ru_4_co_3_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_3_score\":10,\"_ru_4_co_4_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_4_score\":10,\"_ru_4_co_5_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_5_score\":10,\"_ru_4_co_6_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_6_score\":10,\"_ru_4_co_7_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_7_score\":10,\"_ru_4_co_8_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_4_co_8_score\":10,\"_ru_5_co_cnt\":1,\"_ru_5_co_1_rec_1_fld\":[],\"_ru_5_co_1_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_1_rec_2_fld\":[],\"_ru_5_co_1_score\":10,\"_ru_5_co_2_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_2_score\":10,\"_ru_5_co_3_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_3_score\":10,\"_ru_5_co_4_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_4_score\":10,\"_ru_5_co_5_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_5_score\":10,\"_ru_5_co_6_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_6_score\":10,\"_ru_5_co_7_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_7_score\":10,\"_ru_5_co_8_compare\":{\"value\":\"=\",\"label\":\"equal to\"},\"_ru_5_co_8_score\":10,\"_option_rb\":{\"value\":\"Use rules for cluster analysis\"},\"_record_id\":[],\"_show_cond_score\":false,\"_show_rule_score\":false,\"_show_total_score\":true},\"syntaxversion\":\"1.3.0\"}","templates":{"SAS":"/***************************************************************************\n* Custom Step: DQ Cluster Analysis\n* --------------------------------------------------------------------------\n* The Cluster Analysis node will compare pairs of rows within a single match \n* cluster to determine whether each pair is really a match. \n* You can use this step to analyse data clusters or to find out which \n* cluster rules was triggered when the data got clustered\n* --------------------------------------------------------------------------\n* Note: Macros starting with an underscore contain UI variable values\n***************************************************************************/\n\n/***************************************************************************/\n/* Macro setRules()                                                        */ \n/* ----------------------------------------------------------------------- */\n/* The macro will generate rules from the UI input rules and conditions    */\n/* In the rule condition we compare a field from the first record with a   */\n/* field from the second record. The fields from record one start with R1_ */\n/* and the field from record two start with R2_ respectively               */\n/* The rules will be executes in a data step                               */\n/***************************************************************************/\n%macro setRules();\n\t%local ru co;\n\t/* loop through all available rules and their conditions */\n\t%do ru=1 %to &_ru_cnt;\n\t\tR&ru.Score= 0;\n\t\tR&ru.Ind= 0;\n\t\t%do co=1 %to &&_ru_&ru._co_cnt;\n\t\t\t/* Rule code */\n\t\t\tR&ru.C&co= 0;\n\t\t\tIF R1_&&_ru_&ru._co_&co._rec_1_fld &&_ru_&ru._co_&co._compare R2_&&_ru_&ru._co_&co._rec_2_fld THEN do;\n\t\t\t\tR&ru.C&co= &&_ru_&ru._co_&co._score;\n\t\t\t\tR&ru.Ind= R&ru.Ind + 1;\n\t\t\tend;\n\t\t\tR&ru.Score= R&ru.Score + R&ru.C&co;\n\n\t\t%end;\n\t\t/* set the rule indicator to show if a rules was triggered */\n\t\t/* we set it to 1 (ture) when all conditions have fired */\n\t\t/* we need this when we evaluate which cluster rule got triggered */\n\t\tif R&ru.Ind =  &&_ru_&ru._co_cnt then\n\t\t\tR&ru.Ind= 1;\n\t\telse\n\t\t\tR&ru.Ind= 0;\n\t%end;\n%mend setRules;\n\n/***************************************************************************/\n/* Macro setTotalScore()                                                   */\n/* ----------------------------------------------------------------------- */\n/* A macro to generate code to add-up the total score for all rules        */\n/***************************************************************************/\n%macro setTotalScore();\n\ttotal_score= 0;\n\t%local ru;\n\t%do ru=1 %to &_ru_cnt;\n\t\ttotal_score= total_score + \tR&ru.Score;\n\t%end;\n%mend setTotalScore;\n\n/***************************************************************************/\n/* Macro setSelfCompareOutput()                                                   */\n/* ----------------------------------------------------------------------- */\n/* A macro to generate code to set score fields to -1 when we compare rows */\n/* with itself (row1 == row2)                                              */\n/***************************************************************************/\n%macro setSelfCompareOutput();\n\t%local ru co;\n\t%do ru=1 %to &_ru_cnt;\n\t\tR&ru.Score= -1;\n\t\t%do co=1 %to &&_ru_&ru._co_cnt;\n\t\t\tR&ru.C&co= -1;\n\t\t%end;\n\t%end;\n\ttotal_score= -1;\n%mend setSelfCompareOutput;\n\n/***************************************************************************/\n/* Macro ruleIndCols()                                                     */\n/* ----------------------------------------------------------------------- */\n/* A macro to set rule indicator columns for outputin  SQL statement       */\n/***************************************************************************/\n%macro ruleIndCols();\n\t%local ru co;\n\t%do ru=1 %to &_ru_cnt;\n\t\t,R&ru\n\t%end;\n%mend ruleIndCols;\n\n/***************************************************************************/\n/* Macro dropRowID()                                                       */\n/* ----------------------------------------------------------------------- */\n/* A macro to help dropping the column _ROW_ID if the table ID is used     */\n/***************************************************************************/\n%macro dropRowID();\n\t%if &_record_id_count > 0 %then %do;\n\t\t_ROW_ID\n\t%end;\n%mend dropRowID;\n\n/***************************************************************************/\n/* Macro ruleTriggerResult()                                               */\n/* ----------------------------------------------------------------------- */\n/* A macro to aggregate rule trigger results to indicate which             */\n/* rule got triggered - used for \"Use rules as cluster rules\"              */\n/***************************************************************************/\n%macro ruleTriggerResult();\n\tproc sql;\n\t\tcreate table _FLW_CA_CR as\n\t\tselect row1, \n\t\t\t%local i;\n\t\t\t%let i= 1;\n\t\t\t%do %while (&i < (&_ru_cnt + 1));\n\t\t\t\tcase\n\t\t\t\t\twhen sum(R&i.Ind) >= 1 then 1 \n\t\t\t\t\telse 0\n\t\t\t\tend as R&i\n\t\t\t\t%if &i < &_ru_cnt %then %do;\n\t\t\t\t\t,\n\t\t\t\t%end;\n\t\t\t%let i=  %eval(&i+1);\n\t\t\t%end;\n\t\tfrom WORK._FLW_CA_CLUSTERJOIN\n\t\tgroup by row1;\n\trun;\n\tquit;\n%mend ruleTriggerResult;\n\n/***************************************************************************/\n/* Main - The Step execution starts here                                   */  \n/***************************************************************************/\n/* If the radio button in the UI is set to \"Use rules for cluster analysis\"*/\n/* we explicetly switch off the checkbox cluster_rules*/\n%if  &_option_rb = %nrquote(Use rules for cluster analysis) %then %do;\n\t%let cluster_rules= 0;\n%end;\n%else %do;\n\t%let cluster_rules= 1;\n%end;\n\n/* Add row number as artificial key to the table */\n/* we need this as we don't know what the row ID is */\ndata WORK._FLW_CA_DATA;\n\tset &_intable;\n\t_ROW_ID= _N_;\nrun;\n\n/* --------------------------------------------------------------------------- */\n/* get all column names from the incoming table (plus column _ROW_ID)*/\nPROC SQL;\n    CREATE TABLE _FLW_CA_DATA_COLS AS\n    SELECT NAME\n      FROM DICTIONARY.COLUMNS\n     WHERE upper(LIBNAME) = 'WORK'\n       AND upper(MEMNAME) = '_FLW_CA_DATA'\n;\nQUIT;\n\n/* --------------------------------------------------------------------------- */\n/* generate SQL column list and put in macro &selectlist */\n/* when we join the table we want to select all columns from both tables */\n/* therefore we add a prefix to the columns name R1 and R2 for record 1 and record 2 respectively */\n/* E.g.: SELECT a.col1 as R1_col1, b.col1 as R2_col1 */\ndata _null_;\n\tset _FLW_CA_DATA_COLS end=last;\n\tlength selectlist $1000;\n\tretain selectlist;\n\tif last then do;\n\t\tselectlist= catt(selectlist, \"a.\", name, \" as R1_\", name, \", \");\n\t\tselectlist= catt(selectlist, \"b.\", name, \" as R2_\", name);\n\t\tcall symput(\"selectlist\", selectlist);\n\tend;\n\telse do;\n\t\tselectlist= catt(selectlist, \"a.\", name, \" as R1_\", name, \", \");\n\t\tselectlist= catt(selectlist, \"b.\", name, \" as R2_\", name, \", \");\n\tend;\nrun;\n\n/* --------------------------------------------------------------------------- */\n/* Join the table with itsef on cluster id */\n/* filter out all rows joining with itself */\nPROC SQL;\n    CREATE TABLE WORK._FLW_CA_CLUSTERJOIN AS\n    SELECT &selectlist \n\t  FROM WORK._FLW_CA_DATA a\n      JOIN WORK._FLW_CA_DATA b ON a.&_clusterid = b.&_clusterid\n     WHERE a._ROW_ID <> b._ROW_ID\n  ORDER BY a.&_clusterid, a._ROW_ID\n   ;\nQUIT;\n\n/* --------------------------------------------------------------------------- */\n/* remove redundant rows as we got too much back from the SQL */\n/* the result from the SQL gives us row1 -> row2 but also row2 -> row1 */\n/* the is kind of the same and we filter out the unnecessary rows */\ndata WORK._FLW_CA_CLUSTERJOIN (drop= ID_Lst1 ID_Lst2 oldCID);\n\tset WORK._FLW_CA_CLUSTERJOIN;\n\t\tby R1_&_clusterid; /* group be cluster ID */\n\n\tlength ID_Lst1 ID_Lst2 $1000;\n\tretain ID_Lst1 ID_Lst2 oldCID;\n\n\tif _n_ = 1 then\n\t\toldCID= R1_&_clusterid;\n\tif oldCID ne R1_&_clusterid then do;\n\t\toldCID= R1_&_clusterid;\n\t\tID_Lst1= '';\n\t\tID_Lst2= '';\n\tend;\n\tID_Lst1= catx(' ', ID_Lst1, R1__ROW_ID);\n\tID_Lst2= catx(' ', ID_Lst2, R2__ROW_ID);\n/* if the output is for cluster analysis then we need to change the last row of the cluster */\n/* so we can show the row in the output. Otherwise we lose it in the output */\n%if &cluster_rules = 0 %then %do;\n\tif LAST.R1_&_clusterid = 1 then\n\t\tR1__ROW_ID= R2__ROW_ID;\n\tif findw(ID_Lst1, strip(R2__ROW_ID)) > 0 and findw(ID_Lst2, strip(R1__ROW_ID)) > 0 and LAST.R1_&_clusterid = 0 then\n\t\tdelete;\n%end;\n/* if the output is for cluster analysis AND record ID column is set  */\n%if &_record_id_count = 1 and &cluster_rules = 0 %then %do;\n\tif R1__ROW_ID = R2__ROW_ID then do;\n\t\trow1= R1_&_record_id_1_name;\n\t\trow2= R1_&_record_id_1_name;\n\tend;\n\telse do;\n\t\trow1= R1_&_record_id_1_name;\n\t\trow2= R2_&_record_id_1_name;\n\tend;\n%end;\n%else %do;\n\trename R1__ROW_ID= row1 R2__ROW_ID= row2;\n%end;\nrun;\n\n/* --------------------------------------------------------------------------- */\n/* Analyse Cluster - execute rules */\ndata WORK._FLW_CA_CLUSTERJOIN;\n\tset WORK._FLW_CA_CLUSTERJOIN;\n\t%setRules();\n\t%setTotalScore();\nrun;\n\n/* --------------------------------------------------------------------------- */\n/* get the column names for the cloumns we want to output */\n/* we want to output all columns from the input table plus cluster analysis columns */\n/* we have the option in the UI to control the output score fields and generate the sql appopreately */\nPROC SQL;\n    CREATE TABLE _FLW_CA_COLS AS\n    SELECT NAME\n      FROM DICTIONARY.COLUMNS\n     WHERE upper(LIBNAME) = 'WORK'\n       AND upper(MEMNAME) = '_FLW_CA_CLUSTERJOIN'\n\t   AND upper(name) NOT LIKE 'R2\\_%' escape '\\'\n%if &cluster_rules = 0 %then %do;\n\t   AND name NOT LIKE 'R_Ind'\n%end;\n%if &_show_cond_score = 0 %then %do;\n\t   AND upper(NAME) NOT LIKE 'R_C_'\n%end;\n%if &_show_rule_score = 0 %then %do;\n\t   AND NAME NOT LIKE 'R_Score'\n%end;\n%if &_show_total_score = 0 %then %do;\n\t   AND NAME NOT LIKE 'total_score'\n%end;\n;\nQUIT;\n\n/***************************************************************************/\n/* Output data for cluster analysis                                        */\n/* If &cluster_rules is false we output a cluster analysis result         */\n/* showing each record compared with each record within a cluster (same as */\n/* the cluster analysis node in DFX)                                       */\n/***************************************************************************/\n%if &cluster_rules = 0 %then %do;\n\t/* --------------------------------------------------------------------------- */\n\t/* generate select list to rename the columns to the original names */\n\tdata _null_;\n\t\tset _FLW_CA_COLS end=last;\n\t\tlength keeplist renamelist $3000;\n\t\tlength new_name $80;\n\t\tretain keeplist renamelist;\n\n\t\tkeeplist= catx(\" \", keeplist, name);\n\n\t\tif find(name, \"R1_\") = 1 then\n\t\t\tnew_name= substrn(name, 4);\n\t\telse\n\t\t\tnew_name= name;\n\n\t\trenamelist= catx(\" \",renamelist, name, \"=\", new_name);\n\n\t\tif last then do;\n\t\t\tcall symput(\"keeplist\", keeplist);\n\t\t\tcall symput(\"renamelist\", renamelist);\n\t\tend;\n\trun;\n\n\t/* output data - drop row id if we use record id*/\n\tdata &_outtable (drop= %dropRowID());\n\t\tset work._flw_ca_clusterjoin;\n\t\tif row1 = row2 then do;\n\t\t\t%setSelfCompareOutput();\n\t\tend;\n\t\tkeep &keeplist;\n\t\trename &renamelist;\n\trun;\n%end;\n/*******************************************************************************/\n/* Output data for cluster rule indentification                                */\n/* If &cluster_rules is ture then we treat  the rules like cluster rule and   */\n/* output which rule was triggered for a record. If &cluster_rules is false we*/ \n/* output a cluster analysis result                                            */\n/*******************************************************************************/\n%else %do;\n\t/* generate list of column we want to output and put them into macro &selectlist*/\n\tdata _null_;\n\t\tset _FLW_CA_DATA_COLS end=last; /* we have put all col names in _FLW_CA_DATA_COLS */\n\t\tlength selectlist $1000;\n\t\tretain selectlist;\n\t\t/* as we have added _ROW_ID as artificial key we don't want to putput it */\n\t\tif name ~= '_ROW_ID' then do;\n\t\t\tif _n_ > 1 then\n\t\t\t\tselectlist= catt(selectlist, \", \");\n\t\t\tselectlist= catt(selectlist, \"a.\", name);\n\t\tend;\n\t\tif last then\n\t\t\tcall symput(\"selectlist\", selectlist);\n\trun;\n\n\t/* --------------------------------------------------------------------------- */\n\t/* aggregate rule trigger result to indicate which rule got triggered          */\n\t%ruleTriggerResult();\n\n\t/* --------------------------------------------------------------------------- */\n\t/* output data */\n\t/* join the triggered rules result with original (incoming) data */\n\tproc sql;\n\tcreate table &_outtable as\n\tselect &selectlist. %ruleIndCols()\n\tfrom WORK._FLW_CA_DATA a\n\tjoin WORK._FLW_CA_CR b on a._ROW_ID = b.row1\n\t;\n\tquit;\n%end;\n"}}